{"version":3,"file":"js/browse-book.fe721773.js","mappings":"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","sources":["webpack://komga-webui/./src/views/BrowseBook.vue","webpack://komga-webui/./src/views/BrowseBook.vue?d18c","webpack://komga-webui/./src/views/BrowseBook.vue?6a00","webpack://komga-webui/./src/views/BrowseBook.vue?4907"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!_vm.$_.isEmpty(_vm.book))?_c('div',[_c('toolbar-sticky',[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":!_vm.isAdmin},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"to\":_vm.parentLocation}},on),[_c('rtl-icon',{attrs:{\"icon\":\"mdi-arrow-left\",\"rtl\":\"mdi-arrow-right\"}})],1)]}}],null,false,2434228632)},[(_vm.contextReadList)?_c('span',[_vm._v(_vm._s(_vm.$t('common.go_to_readlist')))]):_c('span',[_vm._v(_vm._s(_vm.$t('common.go_to_series')))])]),(_vm.book)?_c('book-actions-menu',{attrs:{\"book\":_vm.book}}):_vm._e(),(_vm.isAdmin)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.editBook}},[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1):_vm._e(),_c('v-spacer'),(_vm.contextReadList && _vm.$vuetify.breakpoint.mdAndUp)?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"type\":\"info\",\"text\":\"\",\"dense\":\"\",\"border\":\"right\"}},[_vm._v(_vm._s(_vm.$t('browse_book.navigation_within_readlist', {name: _vm.contextName}))+\" \")]):_vm._e(),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.$_.isEmpty(_vm.siblingPrevious),\"to\":{ name: _vm.siblingPrevious.oneshot ? 'browse-oneshot' : 'browse-book', params: { seriesId: _vm.siblingPrevious.seriesId, bookId: _vm.previousId }, query: { context: _vm.context.origin, contextId: _vm.context.id}  }}},[_c('rtl-icon',{attrs:{\"icon\":\"mdi-chevron-left\",\"rtl\":\"mdi-chevron-right\"}})],1),_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":_vm.$vuetify.breakpoint.height * .7,\"max-width\":250},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-menu\")])],1)]}}],null,false,3153626740)},[_c('v-list',{attrs:{\"flat\":\"\"}},[_c('v-list-item-group',{attrs:{\"color\":\"primary\"}},_vm._l((_vm.siblings),function(book,i){return _c('v-list-item',{key:i,attrs:{\"to\":{ name: book.oneshot ? 'browse-oneshot' : 'browse-book', params: { seriesId: book.seriesId, bookId: book.id }, query: { context: _vm.context.origin, contextId: _vm.context.id}  }}},[_c('v-list-item-title',{staticClass:\"text-wrap text-body-2\"},[(_vm.contextReadList && !book.oneshot)?[_vm._v(_vm._s(book.seriesTitle)+\" \"+_vm._s(book.metadata.number)+\": \"+_vm._s(book.metadata.title)+\" \")]:(_vm.contextReadList && book.oneshot)?[_vm._v(_vm._s(book.metadata.title))]:[_vm._v(_vm._s(book.metadata.number)+\" - \"+_vm._s(book.metadata.title))]],2)],1)}),1)],1)],1),_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.$_.isEmpty(_vm.siblingNext),\"to\":{ name: _vm.siblingNext.oneshot ? 'browse-oneshot' : 'browse-book', params: { seriesId: _vm.siblingNext.seriesId, bookId: _vm.nextId }, query: { context: _vm.context.origin, contextId: _vm.context.id}  }}},[_c('rtl-icon',{attrs:{\"icon\":\"mdi-chevron-right\",\"rtl\":\"mdi-chevron-left\"}})],1)],1),_c('v-container',{staticClass:\"pa-6\",attrs:{\"fluid\":\"\"}},[_c('v-row',[(_vm.contextReadList && _vm.$vuetify.breakpoint.smAndDown)?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"type\":\"info\",\"text\":\"\",\"dense\":\"\",\"border\":\"right\"}},[_vm._v(_vm._s(_vm.$t('browse_book.navigation_within_readlist', {name: _vm.contextName}))+\" \")]):_vm._e()],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\",\"sm\":\"4\",\"md\":\"auto\",\"lg\":\"auto\",\"xl\":\"auto\"}},[(_vm.book.hasOwnProperty('id'))?_c('item-card',{attrs:{\"width\":\"212\",\"item\":_vm.book,\"thumbnail-only\":\"\",\"no-link\":\"\",\"action-menu\":false}}):_vm._e(),(_vm.isInProgress)?_c('div',{staticClass:\"text-caption text-center mt-1\",attrs:{\"title\":_vm.$t('common.read_on', {date: _vm.readProgressDate})}},[_vm._v(\" \"+_vm._s(_vm.$tc('common.pages_left', _vm.pagesLeft))+\" \")]):(_vm.isRead)?_c('div',{staticClass:\"text-caption text-center mt-1\"},[_vm._v(\" \"+_vm._s(_vm.$t('common.read_on', {date: _vm.readProgressDate}))+\" \")]):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"py-1\"},[_c('router-link',{staticClass:\"link-underline text-h5\",attrs:{\"to\":{name:'browse-series', params: {seriesId: _vm.book.seriesId}}}},[_vm._v(_vm._s(_vm.book.seriesTitle)+\" \")]),_c('router-link',{staticClass:\"caption link-underline\",class:_vm.$vuetify.breakpoint.smAndUp ? 'mx-1' : '',style:(_vm.$vuetify.breakpoint.xsOnly ? 'display: block' : ''),attrs:{\"to\":{name:'browse-libraries', params: {libraryId: _vm.book.libraryId }}}},[_vm._v(_vm._s(_vm.$t('searchbox.in_library', {library: _vm.getLibraryName(_vm.book)}))+\" \")])],1)],1),_c('v-row',[_c('v-col',{staticClass:\"py-1\"},[_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(_vm.book.metadata.title))])])],1),_c('v-row',{staticClass:\"text-caption\",attrs:{\"align\":\"center\"}},[(_vm.book.media.status === _vm.MediaStatus.UNKNOWN)?_c('v-col',{attrs:{\"cols\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.book.metadata.number)+\" · \"+_vm._s(_vm.$t('book_card.unknown'))+\" \")]):_c('v-col',{attrs:{\"cols\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.book.metadata.number)+\" · \"+_vm._s(_vm.$tc('common.pages_n', _vm.book.media.pagesCount))+\" \")]),(_vm.book.metadata.releaseDate)?_c('v-col',{attrs:{\"cols\":\"auto\"}},[_vm._v(\" \"+_vm._s(new Intl.DateTimeFormat(_vm.$i18n.locale, { dateStyle: 'long', timeZone: 'UTC' }).format(new Date(_vm.book.metadata.releaseDate)))+\" \")]):_vm._e(),(_vm.book.media.status === _vm.MediaStatus.OUTDATED)?_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":!_vm.isAdmin},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-chip',_vm._g({attrs:{\"label\":\"\",\"small\":\"\",\"color\":\"warning\"}},on),[_vm._v(\" \"+_vm._s(_vm.$t('common.outdated'))+\" \")])]}}],null,false,776088094)},[_vm._v(\" \"+_vm._s(_vm.$t('browse_book.outdated_tooltip'))+\" \")])],1):_vm._e(),(_vm.unavailable)?_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-chip',{attrs:{\"label\":\"\",\"small\":\"\",\"color\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.$t('common.unavailable'))+\" \")])],1):_vm._e()],1),(_vm.$vuetify.breakpoint.smAndUp)?[_c('v-row',{staticClass:\"align-center\"},[_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"color\":\"accent\",\"small\":\"\",\"title\":_vm.$t('browse_book.read_book'),\"to\":{name: _vm.readRouteName, params: { bookId: _vm.bookId}, query: { context: _vm.context.origin, contextId: _vm.context.id}},\"disabled\":!_vm.canRead}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-book-open-page-variant\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.read'))+\" \")],1)],1),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"title\":_vm.$t('browse_book.read_incognito'),\"to\":{name: _vm.readRouteName, params: { bookId: _vm.bookId}, query: { context: _vm.context.origin, contextId: _vm.context.id, incognito: true}},\"disabled\":!_vm.canRead}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-incognito\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.read'))+\" \")],1)],1),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"title\":_vm.$t('browse_book.download_file'),\"small\":\"\",\"disabled\":!_vm.canDownload,\"href\":_vm.fileUrl}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-file-download\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.download'))+\" \")],1)],1)],1),(_vm.book.metadata.summary)?_c('v-row',[_c('v-col',[_c('read-more',{model:{value:(_vm.readMore),callback:function ($$v) {_vm.readMore=$$v},expression:\"readMore\"}},[_vm._v(_vm._s(_vm.book.metadata.summary))])],1)],1):_vm._e()]:_vm._e()],2)],1)],1),(_vm.$vuetify.breakpoint.xsOnly)?[_c('v-row',{staticClass:\"align-center\"},[_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"color\":\"accent\",\"small\":\"\",\"title\":_vm.$t('browse_book.read_book'),\"to\":{name: _vm.readRouteName, params: { bookId: _vm.bookId}, query: { context: _vm.context.origin, contextId: _vm.context.id}},\"disabled\":!_vm.canRead}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-book-open-page-variant\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.read'))+\" \")],1)],1),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"title\":_vm.$t('browse_book.read_incognito'),\"to\":{name: _vm.readRouteName, params: { bookId: _vm.bookId}, query: { context: _vm.context.origin, contextId: _vm.context.id, incognito: true}},\"disabled\":!_vm.canRead}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-incognito\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.read'))+\" \")],1)],1),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"title\":_vm.$t('browse_book.download_file'),\"small\":\"\",\"disabled\":!_vm.canDownload,\"href\":_vm.fileUrl}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-file-download\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.download'))+\" \")],1)],1)],1),(_vm.book.metadata.summary)?_c('v-row',[_c('v-col',[_c('read-more',{model:{value:(_vm.readMore),callback:function ($$v) {_vm.readMore=$$v},expression:\"readMore\"}},[_vm._v(_vm._s(_vm.book.metadata.summary))])],1)],1):_vm._e()]:_vm._e(),_vm._l((_vm.displayedRoles),function(role){return _c('v-row',{key:role,staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(\" \"+_vm._s(_vm.$te(`author_roles.${role}`) ? _vm.$t(`author_roles.${role}`) : role)+\" \")]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_c('vue-horizontal',{scopedSlots:_vm._u([{key:\"btn-prev\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)]},proxy:true},{key:\"btn-next\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)]},proxy:true}],null,true)},_vm._l((_vm.authorsByRole[role]),function(name,i){return _c('v-chip',{key:i,staticClass:\"me-2\",attrs:{\"title\":name,\"to\":{name:'browse-series', params: {seriesId: _vm.book.seriesId }, query: {[role]: [name]}},\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(_vm._s(name)+\" \")])}),1)],1)],1)}),(_vm.book.metadata.tags.length > 0)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$i18n.t('common.tags')))]),_c('v-col',{staticClass:\"py-1 text-capitalize\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_c('vue-horizontal',{scopedSlots:_vm._u([{key:\"btn-prev\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)]},proxy:true},{key:\"btn-next\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)]},proxy:true}],null,false,187429412)},_vm._l((_vm.book.metadata.tags),function(t,i){return _c('v-chip',{key:i,staticClass:\"me-2\",attrs:{\"title\":t,\"to\":{name:'browse-series', params: {seriesId: _vm.book.seriesId}, query: {tag: [new _vm.SearchConditionTag(new _vm.SearchOperatorIs(t))]}},\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(_vm._s(t)+\" \")])}),1)],1)],1):_vm._e(),_c('v-row',[_c('v-col',[_c('read-lists-expansion-panels',{attrs:{\"read-lists\":_vm.readLists},scopedSlots:_vm._u([{key:\"prepend\",fn:function(props){return [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"me-2\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeFromReadList(props.readlist.id)}}},on),[_c('v-icon',[_vm._v(\"mdi-book-remove\")])],1)]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.$t('browse_book.remove_from_readlist')))])])]}}],null,false,3445749044)})],1)],1),(_vm.book.metadata.links.length > 0)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.links')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},_vm._l((_vm.book.metadata.links),function(link,i){return _c('v-chip',{key:i,staticClass:\"me-2\",attrs:{\"href\":link.url,\"rel\":\"noreferrer\",\"target\":\"_blank\",\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(\" \"+_vm._s(link.label)+\" \"),_c('v-icon',{staticClass:\"ps-1\",attrs:{\"x-small\":\"\",\"color\":\"grey\"}},[_vm._v(\" mdi-open-in-new \")])],1)}),1)],1):_vm._e(),_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.size')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(_vm.book.size))])],1),(_vm.book.media.comment)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.comment')))]),_c('v-col',{staticClass:\"py-1 error--text font-weight-bold\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(_vm.mediaComment))])],1):_vm._e(),_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.format')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(_vm.format.type))])],1),(_vm.book.metadata.isbn)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.isbn')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(_vm.book.metadata.isbn))])],1):_vm._e(),_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.file')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(_vm.book.url))])],1),_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.date_created')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(new Intl.DateTimeFormat(_vm.$i18n.locale, { dateStyle: 'long', timeStyle: 'short' }).format(new Date(_vm.book.created)))+\" \")])],1),_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.date_modified')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(new Intl.DateTimeFormat(_vm.$i18n.locale, { dateStyle: 'long', timeStyle: 'short' }).format(new Date(_vm.book.lastModified)))+\" \")])],1)],2)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport BookActionsMenu from '@/components/menus/BookActionsMenu.vue'\nimport ItemCard from '@/components/ItemCard.vue'\nimport ToolbarSticky from '@/components/bars/ToolbarSticky.vue'\nimport {groupAuthorsByRole} from '@/functions/authors'\nimport {getBookFormatFromMedia, getBookReadRouteFromMedia} from '@/functions/book-format'\nimport {getPagesLeft, getReadProgress, getReadProgressPercentage} from '@/functions/book-progress'\nimport {getBookTitleCompact} from '@/functions/book-title'\nimport {bookFileUrl, bookThumbnailUrl} from '@/functions/urls'\nimport {MediaStatus, ReadStatus} from '@/types/enum-books'\nimport {\n  BOOK_CHANGED,\n  BOOK_DELETED,\n  LIBRARY_DELETED,\n  READLIST_ADDED,\n  READLIST_CHANGED,\n  READLIST_DELETED,\n  READPROGRESS_CHANGED,\n  READPROGRESS_DELETED,\n} from '@/types/events'\nimport Vue from 'vue'\nimport ReadListsExpansionPanels from '@/components/ReadListsExpansionPanels.vue'\nimport {BookDto, BookFormat} from '@/types/komga-books'\nimport {Context, ContextOrigin} from '@/types/context'\nimport ReadMore from '@/components/ReadMore.vue'\nimport VueHorizontal from 'vue-horizontal'\nimport {authorRoles} from '@/types/author-roles'\nimport {convertErrorCodes} from '@/functions/error-codes'\nimport RtlIcon from '@/components/RtlIcon.vue'\nimport {BookSseDto, LibrarySseDto, ReadListSseDto, ReadProgressSseDto} from '@/types/komga-sse'\nimport {RawLocation} from 'vue-router/types/router'\nimport {ReadListDto} from '@/types/komga-readlists'\nimport {BookSearch, SearchConditionSeriesId, SearchConditionTag, SearchOperatorIs} from '@/types/komga-search'\n\nexport default Vue.extend({\n  name: 'BrowseBook',\n  components: {ReadMore, ToolbarSticky, ItemCard, BookActionsMenu, ReadListsExpansionPanels, VueHorizontal, RtlIcon},\n  data: () => {\n    return {\n      MediaStatus,\n      SearchConditionTag,\n      SearchOperatorIs,\n      book: {} as BookDto,\n      context: {} as Context,\n      contextName: '',\n      siblings: [] as BookDto[],\n      siblingPrevious: {} as BookDto,\n      siblingNext: {} as BookDto,\n      readLists: [] as ReadListDto[],\n      readMore: false,\n    }\n  },\n  async created() {\n    this.loadBook(this.bookId)\n    this.$eventHub.$on(BOOK_CHANGED, this.bookChanged)\n    this.$eventHub.$on(BOOK_DELETED, this.bookDeleted)\n    this.$eventHub.$on(READPROGRESS_CHANGED, this.readProgressChanged)\n    this.$eventHub.$on(READPROGRESS_DELETED, this.readProgressChanged)\n    this.$eventHub.$on(LIBRARY_DELETED, this.libraryDeleted)\n    this.$eventHub.$on(READLIST_ADDED, this.readListChanged)\n    this.$eventHub.$on(READLIST_CHANGED, this.readListChanged)\n    this.$eventHub.$on(READLIST_DELETED, this.readListChanged)\n  },\n  beforeDestroy() {\n    this.$eventHub.$off(BOOK_CHANGED, this.bookChanged)\n    this.$eventHub.$off(BOOK_DELETED, this.bookDeleted)\n    this.$eventHub.$off(READPROGRESS_CHANGED, this.readProgressChanged)\n    this.$eventHub.$off(READPROGRESS_DELETED, this.readProgressChanged)\n    this.$eventHub.$off(LIBRARY_DELETED, this.libraryDeleted)\n    this.$eventHub.$off(READLIST_ADDED, this.readListChanged)\n    this.$eventHub.$off(READLIST_CHANGED, this.readListChanged)\n    this.$eventHub.$off(READLIST_DELETED, this.readListChanged)\n  },\n  props: {\n    bookId: {\n      type: String,\n      required: true,\n    },\n  },\n  async beforeRouteUpdate(to, from, next) {\n    if (to.params.bookId !== from.params.bookId) {\n      this.readMore = false\n      this.loadBook(to.params.bookId)\n    }\n\n    next()\n  },\n  computed: {\n    readRouteName(): string {\n      return getBookReadRouteFromMedia(this.book.media)\n    },\n    isAdmin(): boolean {\n      return this.$store.getters.meAdmin\n    },\n    unavailable(): boolean {\n      return this.book.deleted || this.$store.getters.getLibraryById(this.book.libraryId).unavailable\n    },\n    canRead(): boolean {\n      return this.book.media.status === 'READY' && this.$store.getters.mePageStreaming && !this.unavailable\n    },\n    canDownload(): boolean {\n      return this.$store.getters.meFileDownload && !this.unavailable\n    },\n    thumbnailUrl(): string {\n      return bookThumbnailUrl(this.bookId)\n    },\n    fileUrl(): string {\n      return bookFileUrl(this.bookId)\n    },\n    format(): BookFormat {\n      return getBookFormatFromMedia(this.book.media)\n    },\n    authorsByRole(): any {\n      return groupAuthorsByRole(this.book.metadata.authors)\n    },\n    isRead(): boolean {\n      return getReadProgress(this.book) === ReadStatus.READ\n    },\n    isUnread(): boolean {\n      return getReadProgress(this.book) === ReadStatus.UNREAD\n    },\n    isInProgress(): boolean {\n      return getReadProgress(this.book) === ReadStatus.IN_PROGRESS\n    },\n    pagesLeft(): number {\n      return getPagesLeft(this.book)\n    },\n    readProgressPercentage(): number {\n      return getReadProgressPercentage(this.book)\n    },\n    readProgressDate(): string | undefined {\n      if (this.book.readProgress)\n        return new Intl.DateTimeFormat(this.$i18n.locale, {\n          dateStyle: 'medium',\n          timeStyle: 'short',\n        } as Intl.DateTimeFormatOptions).format(this.book.readProgress.readDate)\n      return undefined\n    },\n    previousId(): string {\n      return this.siblingPrevious?.id?.toString() || '0'\n    },\n    nextId(): string {\n      return this.siblingNext?.id?.toString() || '0'\n    },\n    contextReadList(): boolean {\n      return this.context.origin === ContextOrigin.READLIST\n    },\n    mediaComment(): string {\n      return convertErrorCodes(this.book.media.comment)\n    },\n    parentLocation(): RawLocation {\n      if (this.contextReadList)\n        return {name: 'browse-readlist', params: {readListId: this.context.id}}\n      else\n        return {name: 'browse-series', params: {seriesId: this.book.seriesId}}\n    },\n    displayedRoles(): string[] {\n      const allRoles = this.$_.uniq([...authorRoles, ...(this.book.metadata.authors.map(x => x.role))])\n      return allRoles.filter(x => this.authorsByRole[x])\n    },\n  },\n  methods: {\n    getLibraryName(item: BookDto): string {\n      return this.$store.getters.getLibraryById(item.libraryId).name\n    },\n    libraryDeleted(event: LibrarySseDto) {\n      if (event.libraryId === this.book.libraryId) {\n        this.$router.push({name: 'home'})\n      }\n    },\n    readListChanged(event: ReadListSseDto) {\n      if (event.bookIds.includes(this.bookId) || this.readLists.map(x => x.id).includes(event.readListId)) {\n        this.$komgaBooks.getReadLists(this.bookId)\n          .then(v => this.readLists = v)\n      }\n    },\n    bookChanged(event: BookSseDto) {\n      if (event.bookId === this.bookId) this.loadBook(this.bookId)\n    },\n    bookDeleted(event: BookSseDto) {\n      if (event.bookId === this.bookId) {\n        this.$router.push({name: 'browse-series', params: {seriesId: this.book.seriesId}})\n      }\n    },\n    readProgressChanged(event: ReadProgressSseDto) {\n      if (event.bookId === this.bookId) this.loadBook(this.bookId)\n    },\n    async loadBook(bookId: string) {\n      this.book = await this.$komgaBooks.getBook(bookId)\n      // for the cases where we can't change the origin target route because we don't have the full BookDto\n      if (this.book.oneshot) await this.$router.replace({\n        name: 'browse-oneshot',\n        params: {seriesId: this.book.seriesId},\n      })\n\n      // parse query params to get context and contextId\n      if (this.$route.query.contextId && this.$route.query.context\n        && Object.values(ContextOrigin).includes(this.$route.query.context as ContextOrigin)) {\n        this.context = {\n          origin: this.$route.query.context as ContextOrigin,\n          id: this.$route.query.contextId as string,\n        }\n        this.book.context = this.context\n        this.$komgaReadLists.getOneReadList(this.context.id)\n          .then(v => this.contextName = v.name)\n      }\n\n      // Get siblings depending on origin\n      if (this?.context.origin === ContextOrigin.READLIST) {\n        this.$komgaReadLists.getBooks(this.context.id, {unpaged: true} as PageRequest)\n          .then(v => this.siblings = v.content)\n      } else {\n        this.$komgaBooks.getBooksList({\n          condition: new SearchConditionSeriesId(new SearchOperatorIs(this.book.seriesId)),\n        } as BookSearch, {unpaged: true, sort: ['metadata.numberSort']})\n          .then(v => this.siblings = v.content)\n      }\n\n      this.$komgaBooks.getReadLists(this.bookId)\n        .then(v => this.readLists = v)\n\n      if (this.$_.has(this.book, 'metadata.title')) {\n        document.title = `Komga - ${getBookTitleCompact(this.book.metadata.title, this.book.seriesTitle, this.book.oneshot ? undefined : this.book.metadata.number)}`\n      }\n\n      if (this?.context.origin === ContextOrigin.READLIST) {\n        this.$komgaReadLists.getBookSiblingNext(this.context.id, bookId)\n          .then(v => this.siblingNext = v)\n          .catch(e => this.siblingNext = {} as BookDto)\n      } else {\n        this.$komgaBooks.getBookSiblingNext(bookId)\n          .then(v => this.siblingNext = v)\n          .catch(e => this.siblingNext = {} as BookDto)\n      }\n      if (this?.context.origin === ContextOrigin.READLIST) {\n        this.$komgaReadLists.getBookSiblingPrevious(this.context.id, bookId)\n          .then(v => this.siblingPrevious = v)\n          .catch(e => this.siblingPrevious = {} as BookDto)\n      } else {\n        this.$komgaBooks.getBookSiblingPrevious(bookId)\n          .then(v => this.siblingPrevious = v)\n          .catch(e => this.siblingPrevious = {} as BookDto)\n      }\n    },\n    analyze() {\n      this.$komgaBooks.analyzeBook(this.book)\n    },\n    refreshMetadata() {\n      this.$komgaBooks.refreshMetadata(this.book)\n    },\n    editBook() {\n      this.$store.dispatch('dialogUpdateBooks', this.book)\n    },\n    removeFromReadList(readListId: string) {\n      const rl = this.readLists.find(x => x.id == readListId)\n      const modified = Object.assign({}, {bookIds: rl?.bookIds.filter(x => x != this.bookId)})\n      if (modified!.bookIds!.length == 0)\n        this.$komgaReadLists.deleteReadList(rl!.id)\n      else\n        this.$komgaReadLists.patchReadList(rl!.id, modified)\n    },\n  },\n})\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseBook.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseBook.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseBook.vue?vue&type=template&id=2cc167c9&scoped=true&\"\nimport script from \"./BrowseBook.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseBook.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cc167c9\",\n  null\n  \n)\n\nexport default component.exports"],"names":["attrs","_vm","_c","book","_e","editBook","staticClass","_v","_s","name","siblingPrevious","seriesId","bookId","context","on","siblings","params","contextReadList","$_","isEmpty","siblingNext","nextId","contextId","$tc","date","readProgressDate","style","$vuetify","breakpoint","xsOnly","libraryId","metadata","status","dateStyle","format","releaseDate","isAdmin","scopedSlots","fn","incognito","canDownload","model","callback","expression","key","proxy","authorsByRole","role","query","tags","props","timeStyle","staticRenderFns","Vue","extend","components","ReadMore","ToolbarSticky","ItemCard","BookActionsMenu","ReadListsExpansionPanels","VueHorizontal","RtlIcon","data","MediaStatus","SearchConditionTag","SearchOperatorIs","contextName","readLists","readMore","created","this","loadBook","$eventHub","$on","BOOK_CHANGED","bookChanged","BOOK_DELETED","bookDeleted","READPROGRESS_CHANGED","readProgressChanged","READPROGRESS_DELETED","LIBRARY_DELETED","libraryDeleted","READLIST_ADDED","readListChanged","READLIST_CHANGED","READLIST_DELETED","beforeDestroy","$off","type","String","required","beforeRouteUpdate","to","from","next","computed","readRouteName","getBookReadRouteFromMedia","media","$store","getters","meAdmin","unavailable","deleted","getLibraryById","canRead","mePageStreaming","meFileDownload","thumbnailUrl","bookThumbnailUrl","fileUrl","bookFileUrl","getBookFormatFromMedia","groupAuthorsByRole","authors","isRead","getReadProgress","ReadStatus","READ","isUnread","UNREAD","isInProgress","IN_PROGRESS","pagesLeft","getPagesLeft","readProgressPercentage","getReadProgressPercentage","readProgress","Intl","DateTimeFormat","$i18n","locale","readDate","previousId","_this$siblingPrevious","id","toString","_this$siblingNext","origin","ContextOrigin","READLIST","mediaComment","convertErrorCodes","comment","parentLocation","readListId","displayedRoles","allRoles","uniq","authorRoles","map","x","filter","methods","getLibraryName","item","event","$router","push","bookIds","includes","$komgaBooks","getReadLists","then","v","getBook","oneshot","replace","$route","Object","values","$komgaReadLists","getOneReadList","getBooks","unpaged","content","getBooksList","condition","SearchConditionSeriesId","sort","has","document","title","getBookTitleCompact","seriesTitle","undefined","number","getBookSiblingNext","catch","e","getBookSiblingPrevious","analyze","analyzeBook","refreshMetadata","dispatch","removeFromReadList","rl","find","modified","assign","length","deleteReadList","patchReadList","component","render"],"sourceRoot":""}