{"version":3,"file":"js/browse-series.c64a4889.js","mappings":"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","sources":["webpack://komga-webui/./src/components/CollectionsExpansionPanels.vue","webpack://komga-webui/./src/components/CollectionsExpansionPanels.vue?0727","webpack://komga-webui/./src/components/CollectionsExpansionPanels.vue?faac","webpack://komga-webui/./src/components/CollectionsExpansionPanels.vue?9ebb","webpack://komga-webui/./src/components/SortList.vue","webpack://komga-webui/./src/components/SortList.vue?8bb1","webpack://komga-webui/./src/components/SortList.vue?89a7","webpack://komga-webui/./src/components/SortList.vue?d4eb","webpack://komga-webui/./src/views/BrowseSeries.vue","webpack://komga-webui/./src/views/BrowseSeries.vue?d729","webpack://komga-webui/./src/views/BrowseSeries.vue?4e07","webpack://komga-webui/./src/views/BrowseSeries.vue?5008","webpack://komga-webui/./src/functions/object.ts","webpack://komga-webui/./src/functions/query-params.ts","webpack://komga-webui/./src/types/enum-series.ts","webpack://komga-webui/./src/types/filter.ts","webpack://komga-webui/./node_modules/core-js/internals/string-trim-forced.js","webpack://komga-webui/./node_modules/core-js/internals/string-trim.js","webpack://komga-webui/./node_modules/core-js/internals/whitespaces.js","webpack://komga-webui/./node_modules/core-js/modules/es.string.trim.js","webpack://komga-webui/./node_modules/vuetify/lib/components/VOverlay/index.js","webpack://komga-webui/./node_modules/vuetify/lib/mixins/overlayable/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-expansion-panels',{model:{value:(_vm.collectionPanel),callback:function ($$v) {_vm.collectionPanel=$$v},expression:\"collectionPanel\"}},_vm._l((_vm.collections),function(c,index){return _c('v-expansion-panel',{key:index},[_c('v-expansion-panel-header',[_vm._v(_vm._s(_vm.$t('collections_expansion_panel.title', {name: c.name})))]),_c('v-expansion-panel-content',[_c('horizontal-scroller',{attrs:{\"tick\":_vm.collectionsLoaders[index].tick},on:{\"scroll-changed\":(percent) => _vm.scrollChanged(_vm.collectionsLoaders[index], percent)},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_vm._t(\"prepend\",null,{\"collection\":c}),_c('router-link',{staticClass:\"text-overline\",attrs:{\"to\":{name: 'browse-collection', params: {collectionId: c.id}}}},[_vm._v(_vm._s(_vm.$t('collections_expansion_panel.manage_collection'))+\" \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('item-browser',{attrs:{\"items\":_vm.collectionsLoaders[index].items,\"nowrap\":\"\",\"selectable\":false,\"action-menu\":false,\"fixed-item-width\":100}})]},proxy:true}],null,true)})],1)],1)}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport HorizontalScroller from '@/components/HorizontalScroller.vue'\nimport ItemBrowser from '@/components/ItemBrowser.vue'\nimport Vue from 'vue'\nimport {ContextOrigin} from '@/types/context'\nimport {SeriesDto} from '@/types/komga-series'\nimport {PageLoader} from '@/types/pageLoader'\n\nexport default Vue.extend({\n  name: 'CollectionsExpansionPanels',\n  components: {\n    HorizontalScroller,\n    ItemBrowser,\n  },\n  props: {\n    collections: {\n      type: Array as () => CollectionDto[],\n      required: true,\n    },\n  },\n  data: () => {\n    return {\n      collectionPanel: undefined as number | undefined,\n      collectionsLoaders: [] as PageLoader<SeriesDto>[],\n    }\n  },\n  watch: {\n    collections: {\n      handler(val: CollectionDto[]) {\n        this.collectionPanel = undefined\n        this.collectionsLoaders = val.map(coll => new PageLoader<SeriesDto>(\n          {},\n          (pageable: PageRequest) => this.$komgaCollections.getSeries(coll.id, pageable),\n          (x: SeriesDto) => {\n            x.context = {origin: ContextOrigin.COLLECTION, id: coll.id}\n            return x\n          },\n        ))\n      },\n      immediate: true,\n    },\n    async collectionPanel(val) {\n      if (val !== undefined) {\n        if (!this.collectionsLoaders[val].hasLoadedAny) {\n          this.collectionsLoaders[val].loadNext()\n        }\n      }\n    },\n  },\n  methods: {\n    async scrollChanged(loader: PageLoader<any>, percent: number) {\n      if (percent > 0.95) await loader.loadNext()\n    },\n  },\n})\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CollectionsExpansionPanels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CollectionsExpansionPanels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CollectionsExpansionPanels.vue?vue&type=template&id=461b3c24&\"\nimport script from \"./CollectionsExpansionPanels.vue?vue&type=script&lang=ts&\"\nexport * from \"./CollectionsExpansionPanels.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.sortOptions),function(item,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){return _vm.setSort(item)}}},[_c('v-list-item-icon',[(item.key === _vm.sortActive.key && _vm.sortActive.order === 'asc')?_c('v-icon',{attrs:{\"color\":\"secondary\"}},[_vm._v(\" mdi-chevron-up \")]):_vm._e(),(item.key === _vm.sortActive.key && _vm.sortActive.order === 'desc')?_c('v-icon',{attrs:{\"color\":\"secondary\"}},[_vm._v(\" mdi-chevron-down \")]):_vm._e()],1),_c('v-list-item-title',[_vm._v(_vm._s(item.name))])],1)}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\n\nexport default Vue.extend({\n  name: 'SortList',\n  props: {\n    sortOptions: {\n      type: Array,\n      required: true,\n    },\n    sortDefault: {\n      type: Object,\n      required: true,\n    },\n    sortActive: {\n      type: Object,\n      required: true,\n    },\n  },\n  methods: {\n    setSort (sort: SortOption) {\n      if (this.sortActive.key === sort.key) {\n        if (this.sortActive.order === 'desc') {\n          this.$emit('update:sortActive', { key: sort.key, order: 'asc' })\n        } else {\n          this.$emit('update:sortActive', { key: sort.key, order: 'desc' })\n        }\n      } else {\n        this.$emit('update:sortActive', { key: sort.key, order: 'desc' })\n      }\n    },\n  },\n})\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SortList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SortList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SortList.vue?vue&type=template&id=24e7aee8&scoped=true&\"\nimport script from \"./SortList.vue?vue&type=script&lang=ts&\"\nexport * from \"./SortList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24e7aee8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!_vm.$_.isEmpty(_vm.series))?_c('div',[(_vm.selectedBooks.length === 0)?_c('toolbar-sticky',[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":!_vm.isAdmin},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"to\":_vm.parentLocation}},on),[_c('rtl-icon',{attrs:{\"icon\":\"mdi-arrow-left\",\"rtl\":\"mdi-arrow-right\"}})],1)]}}],null,false,2434228632)},[(_vm.contextCollection)?_c('span',[_vm._v(_vm._s(_vm.$t('common.go_to_collection')))]):_c('span',[_vm._v(_vm._s(_vm.$t('common.go_to_library')))])]),(_vm.series)?_c('series-actions-menu',{attrs:{\"series\":_vm.series}}):_vm._e(),_c('v-toolbar-title',[(_vm.$_.get(_vm.series, 'metadata.title'))?_c('span',[_vm._v(_vm._s(_vm.series.metadata.title))]):_vm._e(),(_vm.totalElements)?_c('v-chip',{staticClass:\"mx-4\",attrs:{\"label\":\"\"}},[_c('span',{staticStyle:{\"font-size\":\"1.1rem\"}},[_vm._v(_vm._s(_vm.totalElements))])]):_vm._e()],1),_c('v-spacer'),(_vm.isAdmin)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.editSeries}},[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1):_vm._e(),_c('page-size-select',{model:{value:(_vm.pageSize),callback:function ($$v) {_vm.pageSize=$$v},expression:\"pageSize\"}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.drawer = !_vm.drawer}}},[_c('v-icon',{attrs:{\"color\":_vm.sortOrFilterActive ? 'secondary' : ''}},[_vm._v(\"mdi-filter-variant\")])],1)],1):_vm._e(),_c('multi-select-bar',{attrs:{\"kind\":\"books\",\"show-select-all\":\"\"},on:{\"unselect-all\":function($event){_vm.selectedBooks = []},\"select-all\":function($event){_vm.selectedBooks = _vm.books},\"mark-read\":_vm.markSelectedRead,\"mark-unread\":_vm.markSelectedUnread,\"add-to-readlist\":_vm.addToReadList,\"bulk-edit\":_vm.bulkEditMultipleBooks,\"edit\":_vm.editMultipleBooks,\"delete\":_vm.deleteBooks},model:{value:(_vm.selectedBooks),callback:function ($$v) {_vm.selectedBooks=$$v},expression:\"selectedBooks\"}}),_c('filter-drawer',{attrs:{\"clear-button\":_vm.sortOrFilterActive},on:{\"clear\":_vm.resetSortAndFilters},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('filter-list',{attrs:{\"filters-options\":_vm.filterOptionsList,\"filters-active\":_vm.filters},on:{\"update:filtersActive\":function($event){_vm.filters=$event},\"update:filters-active\":function($event){_vm.filters=$event}}})]},proxy:true},{key:\"filter\",fn:function(){return [_c('filter-panels',{attrs:{\"filters-options\":_vm.filterOptionsPanel,\"filters-active\":_vm.filters,\"filters-active-mode\":_vm.filtersMode},on:{\"update:filtersActive\":function($event){_vm.filters=$event},\"update:filters-active\":function($event){_vm.filters=$event},\"update:filtersActiveMode\":function($event){_vm.filtersMode=$event},\"update:filters-active-mode\":function($event){_vm.filtersMode=$event}}})]},proxy:true},{key:\"sort\",fn:function(){return [_c('sort-list',{attrs:{\"sort-default\":_vm.sortDefault,\"sort-options\":_vm.sortOptions,\"sort-active\":_vm.sortActive},on:{\"update:sortActive\":function($event){_vm.sortActive=$event},\"update:sort-active\":function($event){_vm.sortActive=$event}}})]},proxy:true}],null,false,2332156884),model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}}),_c('v-container',{staticClass:\"pa-6\",attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\",\"sm\":\"4\",\"md\":\"auto\",\"lg\":\"auto\",\"xl\":\"auto\"}},[(_vm.series.hasOwnProperty('id'))?_c('item-card',{attrs:{\"width\":\"212\",\"item\":_vm.series,\"thumbnail-only\":\"\",\"no-link\":\"\",\"action-menu\":false}}):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"py-1\"},[(_vm.$_.get(_vm.series, 'metadata.title'))?_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.series.metadata.title))]):_vm._e(),_c('router-link',{staticClass:\"caption link-underline\",class:_vm.$vuetify.breakpoint.smAndUp ? 'mx-2' : '',style:(_vm.$vuetify.breakpoint.xsOnly ? 'display: block' : ''),attrs:{\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }}}},[_vm._v(_vm._s(_vm.$t('searchbox.in_library', {library: _vm.getLibraryName(_vm.series)}))+\" \")])],1)],1),(_vm.series.booksMetadata.releaseDate)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1\"},[_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('span',_vm._g({},on),[_vm._v(_vm._s(new Intl.DateTimeFormat(_vm.$i18n.locale, { year: 'numeric', timeZone: 'UTC' }).format(new Date(_vm.series.booksMetadata.releaseDate))))])]}}],null,false,667952866)},[_vm._v(\" \"+_vm._s(_vm.$t('browse_series.earliest_year_from_release_dates'))+\" \")])],1)],1):_vm._e(),_c('v-row',{staticClass:\"text-body-2\"},[_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-chip',{attrs:{\"label\":\"\",\"small\":\"\",\"link\":\"\",\"color\":_vm.statusChip.color,\"text-color\":_vm.statusChip.text,\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {status: [new _vm.SearchConditionSeriesStatus(new _vm.SearchOperatorIs(_vm.series.metadata.status))]}}}},[_vm._v(\" \"+_vm._s(_vm.$t(`enums.series_status.${_vm.series.metadata.status}`))+\" \")])],1),(_vm.series.metadata.ageRating)?_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-chip',{attrs:{\"label\":\"\",\"small\":\"\",\"link\":\"\",\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {ageRating: [new _vm.SearchConditionAgeRating(new _vm.SearchOperatorIs(_vm.series.metadata.ageRating.toString()))]}}}},[_vm._v(\" \"+_vm._s(_vm.series.metadata.ageRating)+\"+ \")])],1):_vm._e(),(_vm.series.metadata.language)?_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-chip',{attrs:{\"label\":\"\",\"small\":\"\",\"link\":\"\",\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {language: [new _vm.SearchConditionLanguage(new _vm.SearchOperatorIs(_vm.series.metadata.language))]}}}},[_vm._v(\" \"+_vm._s(_vm.languageDisplay)+\" \")])],1):_vm._e(),(_vm.series.metadata.readingDirection)?_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-chip',{attrs:{\"label\":\"\",\"small\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t(`enums.reading_direction.${_vm.series.metadata.readingDirection}`))+\" \")])],1):_vm._e(),(_vm.unavailable)?_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-chip',{attrs:{\"label\":\"\",\"small\":\"\",\"color\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.$t('common.unavailable'))+\" \")])],1):_vm._e()],1),_c('v-row',{staticClass:\"text-caption\",attrs:{\"align\":\"center\"}},[(_vm.series.metadata.totalBookCount)?_c('v-col',{attrs:{\"cols\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.$t('common.books_total', {count: _vm.series.booksCount, total: _vm.series.metadata.totalBookCount}))+\" \")]):_c('v-col',{attrs:{\"cols\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.$tc('common.books_n', _vm.series.booksCount))+\" \")])],1),(_vm.$vuetify.breakpoint.smAndUp)?[(_vm.series.metadata.alternateTitles.length > 0)?_c('read-more',{staticClass:\"mb-4\",attrs:{\"i18n-less\":\"titles_more.less\",\"i18n-more\":\"titles_more.more\"},model:{value:(_vm.readMoreTitles),callback:function ($$v) {_vm.readMoreTitles=$$v},expression:\"readMoreTitles\"}},_vm._l((_vm.series.metadata.alternateTitles),function(a,i){return _c('v-row',{key:i,staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-0 text-uppercase\",class:i===0 ? 'pt-4' : i === _vm.series.metadata.alternateTitles.length - 1 ? 'pb-4' : '',attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(\" \"+_vm._s(a.label)+\" \")]),_c('v-col',{staticClass:\"py-0\",class:i===0 ? 'pt-4' : i === _vm.series.metadata.alternateTitles.length - 1 ? 'pb-4' : '',attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(\" \"+_vm._s(a.title)+\" \")])],1)}),1):_vm._e(),_c('v-row',{staticClass:\"align-center\"},[_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"title\":_vm.$t('menu.download_series'),\"small\":\"\",\"disabled\":!_vm.canDownload,\"href\":_vm.fileUrl}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-file-download\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.download'))+\" \")],1)],1)],1),(_vm.series.metadata.summary)?_c('v-row',[_c('v-col',[_c('read-more',{model:{value:(_vm.readMore),callback:function ($$v) {_vm.readMore=$$v},expression:\"readMore\"}},[_vm._v(_vm._s(_vm.series.metadata.summary))])],1)],1):_vm._e(),(!_vm.series.metadata.summary && _vm.series.booksMetadata.summary)?_c('v-row',[_c('v-col',[_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('span',_vm._g({staticClass:\"text-caption\"},on),[_vm._v(\" \"+_vm._s(_vm.$t('browse_series.summary_from_book', {number: _vm.series.booksMetadata.summaryNumber}))+\" \")])]}}],null,false,2517282763)},[_vm._v(\" \"+_vm._s(_vm.$t('browse_series.series_no_summary'))+\" \")]),_c('read-more',{model:{value:(_vm.readMore),callback:function ($$v) {_vm.readMore=$$v},expression:\"readMore\"}},[_vm._v(_vm._s(_vm.series.booksMetadata.summary))])],1)],1):_vm._e()]:_vm._e()],2)],1)],1),(_vm.$vuetify.breakpoint.xsOnly)?[(_vm.series.metadata.alternateTitles.length > 0)?_c('read-more',{staticClass:\"mb-4\",attrs:{\"i18n-less\":\"titles_more.less\",\"i18n-more\":\"titles_more.more\"},model:{value:(_vm.readMoreTitles),callback:function ($$v) {_vm.readMoreTitles=$$v},expression:\"readMoreTitles\"}},_vm._l((_vm.series.metadata.alternateTitles),function(a,i){return _c('v-row',{key:i,staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-0 text-uppercase\",class:i===0 ? 'pt-4' : i === _vm.series.metadata.alternateTitles.length - 1 ? 'pb-4' : '',attrs:{\"cols\":\"4\"}},[_vm._v(_vm._s(a.label)+\" \")]),_c('v-col',{staticClass:\"py-0\",class:i===0 ? 'pt-4' : i === _vm.series.metadata.alternateTitles.length - 1 ? 'pb-4' : '',attrs:{\"cols\":\"8\"}},[_vm._v(_vm._s(a.title)+\" \")])],1)}),1):_vm._e(),_c('v-row',{staticClass:\"align-center\"},[_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"title\":_vm.$t('menu.download_series'),\"small\":\"\",\"disabled\":!_vm.canDownload,\"href\":_vm.fileUrl}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-file-download\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.download'))+\" \")],1)],1)],1),(_vm.series.metadata.summary)?_c('v-row',[_c('v-col',[_c('read-more',{model:{value:(_vm.readMore),callback:function ($$v) {_vm.readMore=$$v},expression:\"readMore\"}},[_vm._v(_vm._s(_vm.series.metadata.summary))])],1)],1):_vm._e(),(!_vm.series.metadata.summary && _vm.series.booksMetadata.summary)?_c('v-row',[_c('v-col',[_c('v-tooltip',{attrs:{\"right\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('span',_vm._g({staticClass:\"text-caption\"},on),[_vm._v(\" \"+_vm._s(_vm.$t('browse_series.summary_from_book', {number: _vm.series.booksMetadata.summaryNumber}))+\" \")])]}}],null,false,2517282763)},[_vm._v(\" \"+_vm._s(_vm.$t('browse_series.series_no_summary'))+\" \")]),_c('read-more',{model:{value:(_vm.readMore),callback:function ($$v) {_vm.readMore=$$v},expression:\"readMore\"}},[_vm._v(_vm._s(_vm.series.booksMetadata.summary))])],1)],1):_vm._e()]:_vm._e(),(_vm.series.metadata.publisher)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('common.publisher')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_c('v-chip',{staticClass:\"me-2\",attrs:{\"title\":_vm.series.metadata.publisher,\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {publisher: [new _vm.SearchConditionPublisher(new _vm.SearchOperatorIs(_vm.series.metadata.publisher))]}},\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(_vm._s(_vm.series.metadata.publisher)+\" \")])],1)],1):_vm._e(),(_vm.series.metadata.genres.length > 0)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('common.genre')))]),_c('v-col',{staticClass:\"py-1 text-capitalize\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_c('vue-horizontal',{scopedSlots:_vm._u([{key:\"btn-prev\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)]},proxy:true},{key:\"btn-next\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)]},proxy:true}],null,false,187429412)},_vm._l((_vm.$_.sortBy(_vm.series.metadata.genres)),function(t,i){return _c('v-chip',{key:i,staticClass:\"me-2\",attrs:{\"title\":t,\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {genre: [new _vm.SearchConditionGenre(new _vm.SearchOperatorIs(t))]}},\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(_vm._s(t)+\" \")])}),1)],1)],1):_vm._e(),(_vm.series.metadata.tags.length > 0 || _vm.series.booksMetadata.tags.length > 0)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('common.tags')))]),_c('v-col',{staticClass:\"py-1 text-capitalize\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_c('vue-horizontal',{scopedSlots:_vm._u([{key:\"btn-prev\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)]},proxy:true},{key:\"btn-next\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)]},proxy:true}],null,false,187429412)},[_vm._l((_vm.$_.sortBy(_vm.series.metadata.tags)),function(t,i){return _c('v-chip',{key:`series_${i}`,staticClass:\"me-2\",attrs:{\"title\":t,\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {tag: [new _vm.SearchConditionTag(new _vm.SearchOperatorIs(t))]}},\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(_vm._s(t)+\" \")])}),_vm._l((_vm.$_(_vm.series.booksMetadata.tags).difference(_vm.series.metadata.tags).sortBy()),function(t,i){return _c('v-chip',{key:`book_${i}`,staticClass:\"me-2\",attrs:{\"title\":t,\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {tag: [new _vm.SearchConditionTag(new _vm.SearchOperatorIs(t))]}},\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\",\"color\":\"contrast-light-2\"}},[_vm._v(_vm._s(t)+\" \")])})],2)],1)],1):_vm._e(),(_vm.series.metadata.links.length > 0)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.links')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},_vm._l((_vm.series.metadata.links),function(link,i){return _c('v-chip',{key:i,staticClass:\"me-2\",attrs:{\"href\":link.url,\"rel\":\"noreferrer\",\"target\":\"_blank\",\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(\" \"+_vm._s(link.label)+\" \"),_c('v-icon',{staticClass:\"ps-1\",attrs:{\"x-small\":\"\",\"color\":\"grey\"}},[_vm._v(\" mdi-open-in-new \")])],1)}),1)],1):_vm._e(),(_vm.series.booksMetadata.authors.length > 0)?_c('v-divider',{staticClass:\"my-3\"}):_vm._e(),_vm._l((_vm.displayedRoles),function(role){return _c('v-row',{key:role,staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t(`author_roles.${role}`)))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_c('vue-horizontal',{scopedSlots:_vm._u([{key:\"btn-prev\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)]},proxy:true},{key:\"btn-next\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)]},proxy:true}],null,true)},_vm._l((_vm.authorsByRole[role].sort()),function(name,i){return _c('v-chip',{key:i,staticClass:\"me-2\",attrs:{\"title\":name,\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {[role]: [name]}},\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(_vm._s(name)+\" \")])}),1)],1)],1)}),_c('v-row',[_c('v-col',[_c('collections-expansion-panels',{attrs:{\"collections\":_vm.collections},scopedSlots:_vm._u([{key:\"prepend\",fn:function(props){return [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"me-2\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeFromCollection(props.collection.id)}}},on),[_c('v-icon',[_vm._v(\"mdi-playlist-remove\")])],1)]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.$t('browse_series.remove_from_collection')))])])]}}],null,false,1834926351)})],1)],1),_c('v-divider',{staticClass:\"mt-4 mb-1\"}),(_vm.totalPages === 0)?_c('empty-state',{attrs:{\"title\":_vm.$t('common.filter_no_matches'),\"sub-title\":_vm.$t('common.use_filter_panel_to_change_filter'),\"icon\":\"mdi-book-multiple\",\"icon-color\":\"secondary\"}},[_c('v-btn',{on:{\"click\":_vm.resetSortAndFilters}},[_vm._v(_vm._s(_vm.$t('common.reset_filters')))])],1):[(_vm.totalPages > 1)?_c('v-pagination',{attrs:{\"total-visible\":_vm.paginationVisible,\"length\":_vm.totalPages},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}):_vm._e(),_c('item-browser',{attrs:{\"items\":_vm.books,\"item-context\":_vm.itemContext,\"selected\":_vm.selectedBooks,\"edit-function\":_vm.isAdmin ? _vm.editSingleBook : undefined},on:{\"update:selected\":function($event){_vm.selectedBooks=$event}}}),(_vm.totalPages > 1)?_c('v-pagination',{attrs:{\"total-visible\":_vm.paginationVisible,\"length\":_vm.totalPages},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}):_vm._e()]],2)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport MultiSelectBar from '@/components/bars/MultiSelectBar.vue'\nimport ToolbarSticky from '@/components/bars/ToolbarSticky.vue'\nimport CollectionsExpansionPanels from '@/components/CollectionsExpansionPanels.vue'\nimport EmptyState from '@/components/EmptyState.vue'\nimport ItemBrowser from '@/components/ItemBrowser.vue'\nimport ItemCard from '@/components/ItemCard.vue'\nimport SeriesActionsMenu from '@/components/menus/SeriesActionsMenu.vue'\nimport PageSizeSelect from '@/components/PageSizeSelect.vue'\nimport {parseQuerySort} from '@/functions/query-params'\nimport {seriesFileUrl, seriesThumbnailUrl} from '@/functions/urls'\nimport {MediaProfile, ReadStatus} from '@/types/enum-books'\nimport {\n  BOOK_ADDED,\n  BOOK_CHANGED,\n  BOOK_DELETED,\n  COLLECTION_ADDED,\n  COLLECTION_CHANGED,\n  COLLECTION_DELETED,\n  LIBRARY_DELETED,\n  READPROGRESS_CHANGED,\n  READPROGRESS_DELETED,\n  SERIES_CHANGED,\n  SERIES_DELETED,\n} from '@/types/events'\nimport Vue from 'vue'\nimport {Location} from 'vue-router'\nimport {BookDto} from '@/types/komga-books'\nimport {SeriesStatus} from '@/types/enum-series'\nimport FilterDrawer from '@/components/FilterDrawer.vue'\nimport FilterList from '@/components/FilterList.vue'\nimport SortList from '@/components/SortList.vue'\nimport {\n  extractFilterOptionsValues,\n  mergeFilterParams,\n  sortOrFilterActive,\n  toNameValueCondition,\n} from '@/functions/filter'\nimport FilterPanels from '@/components/FilterPanels.vue'\nimport {SeriesDto} from '@/types/komga-series'\nimport {groupAuthorsByRole} from '@/functions/authors'\nimport ReadMore from '@/components/ReadMore.vue'\nimport {authorRoles, authorRolesSeries} from '@/types/author-roles'\nimport VueHorizontal from 'vue-horizontal'\nimport RtlIcon from '@/components/RtlIcon.vue'\nimport {throttle} from 'lodash'\nimport {BookSseDto, CollectionSseDto, LibrarySseDto, ReadProgressSseDto, SeriesSseDto} from '@/types/komga-sse'\nimport {ItemContext} from '@/types/items'\nimport {Context, ContextOrigin} from '@/types/context'\nimport {RawLocation} from 'vue-router/types/router'\nimport {\n  SearchConditionAgeRating,\n  SearchConditionAllOfBook,\n  SearchConditionAnyOfBook,\n  SearchConditionAuthor,\n  SearchConditionBook,\n  SearchConditionGenre,\n  SearchConditionLanguage,\n  SearchConditionMediaProfile,\n  SearchConditionPublisher,\n  SearchConditionReadStatus,\n  SearchConditionSeriesId,\n  SearchConditionSeriesStatus,\n  SearchConditionTag,\n  SearchOperatorIs,\n  SearchOperatorIsNot,\n} from '@/types/komga-search'\nimport {objIsEqual} from '@/functions/object'\nimport i18n from '@/i18n'\nimport {\n  FILTER_ANY,\n  FILTER_NONE,\n  FilterMode,\n  FiltersActive,\n  FiltersActiveMode,\n  FiltersOptions,\n  NameValue,\n} from '@/types/filter'\n\nconst tags = require('language-tags')\n\nexport default Vue.extend({\n  name: 'BrowseSeries',\n  components: {\n    ToolbarSticky,\n    ItemBrowser,\n    PageSizeSelect,\n    SeriesActionsMenu,\n    ItemCard,\n    EmptyState,\n    MultiSelectBar,\n    CollectionsExpansionPanels,\n    FilterDrawer,\n    FilterList,\n    FilterPanels,\n    SortList,\n    ReadMore,\n    VueHorizontal,\n    RtlIcon,\n  },\n  data: function () {\n    return {\n      SearchConditionSeriesStatus,\n      SearchConditionPublisher,\n      SearchConditionGenre,\n      SearchConditionTag,\n      SearchConditionLanguage,\n      SearchConditionAgeRating,\n      SearchOperatorIs,\n      series: {} as SeriesDto,\n      context: {} as Context,\n      books: [] as BookDto[],\n      selectedBooks: [] as BookDto[],\n      page: 1,\n      pageSize: 20,\n      totalPages: 1,\n      totalElements: null as number | null,\n      sortActive: {} as SortActive,\n      sortDefault: {key: 'metadata.numberSort', order: 'asc'} as SortActive,\n      filters: {} as FiltersActive,\n      filtersMode: {} as FiltersActiveMode,\n      sortUnwatch: null as any,\n      filterUnwatch: null as any,\n      filterModeUnwatch: null as any,\n      pageUnwatch: null as any,\n      pageSizeUnwatch: null as any,\n      collections: [] as CollectionDto[],\n      drawer: false,\n      filterOptions: {\n        tag: [] as NameValue[],\n        mediaProfile: [] as NameValue[],\n      },\n      readMore: false,\n      readMoreTitles: false,\n    }\n  },\n  computed: {\n    itemContext(): ItemContext[] {\n      if (this.sortActive.key === 'metadata.releaseDate') return [ItemContext.RELEASE_DATE]\n      if (this.sortActive.key === 'createdDate') return [ItemContext.DATE_ADDED]\n      if (this.sortActive.key === 'fileSize') return [ItemContext.FILE_SIZE]\n      return []\n    },\n    sortOptions(): SortOption[] {\n      return [\n        {name: this.$t('sort.number').toString(), key: 'metadata.numberSort'},\n        {name: this.$t('sort.date_added').toString(), key: 'createdDate'},\n        {name: this.$t('sort.release_date').toString(), key: 'metadata.releaseDate'},\n        {name: this.$t('sort.file_size').toString(), key: 'fileSize'},\n        {name: this.$t('sort.file_name').toString(), key: 'name'},\n        {name: this.$t('sort.page_count').toString(), key: 'media.pagesCount'},\n      ] as SortOption[]\n    },\n    filterOptionsList(): FiltersOptions {\n      return {\n        readStatus: {\n          values: [\n            {\n              name: this.$t('filter.unread').toString(),\n              value: new SearchConditionReadStatus(new SearchOperatorIs(ReadStatus.UNREAD)),\n              nValue: new SearchConditionReadStatus(new SearchOperatorIsNot(ReadStatus.UNREAD)),\n            },\n            {\n              name: this.$t('filter.in_progress').toString(),\n              value: new SearchConditionReadStatus(new SearchOperatorIs(ReadStatus.IN_PROGRESS)),\n              nValue: new SearchConditionReadStatus(new SearchOperatorIsNot(ReadStatus.IN_PROGRESS)),\n            },\n            {\n              name: this.$t('filter.read').toString(),\n              value: new SearchConditionReadStatus(new SearchOperatorIs(ReadStatus.READ)),\n              nValue: new SearchConditionReadStatus(new SearchOperatorIsNot(ReadStatus.READ)),\n            },\n          ],\n        },\n      } as FiltersOptions\n    },\n    filterOptionsPanel(): FiltersOptions {\n      const r = {\n        tag: {name: this.$t('filter.tag').toString(), values: this.filterOptions.tag, anyAllSelector: true},\n        mediaProfile: {\n          name: this.$t('filter.media_profile').toString(), values: Object.values(MediaProfile).map(x => ({\n            name: i18n.t(`enums.media_profile.${x}`),\n            value: new SearchConditionMediaProfile(new SearchOperatorIs(x)),\n            nValue: new SearchConditionMediaProfile(new SearchOperatorIsNot(x)),\n          } as NameValue)),\n        },\n      } as FiltersOptions\n      authorRoles.forEach((role: string) => {\n        r[role] = {\n          name: this.$t(`author_roles.${role}`).toString(),\n          search: async search => {\n            return (await this.$komgaReferential.getAuthors(search, role, undefined, undefined, this.seriesId))\n              .content\n              .map(x => x.name)\n          },\n          values: [{\n            name: this.$t('filter.any').toString(),\n            value: FILTER_ANY,\n            nValue: FILTER_NONE,\n          }],\n          anyAllSelector: true,\n        }\n      })\n      return r\n    },\n    isAdmin(): boolean {\n      return this.$store.getters.meAdmin\n    },\n    unavailable(): boolean {\n      return this.series.deleted || this.$store.getters.getLibraryById(this.series.libraryId).unavailable\n    },\n    canDownload(): boolean {\n      return this.$store.getters.meFileDownload && !this.unavailable\n    },\n    fileUrl(): string {\n      return seriesFileUrl(this.seriesId)\n    },\n    thumbnailUrl(): string {\n      return seriesThumbnailUrl(this.seriesId)\n    },\n    paginationVisible(): number {\n      switch (this.$vuetify.breakpoint.name) {\n        case 'xs':\n          return 5\n        case 'sm':\n        case 'md':\n          return 10\n        case 'lg':\n        case 'xl':\n        default:\n          return 15\n      }\n    },\n    languageDisplay(): string {\n      return tags(this.series.metadata.language)?.language()?.descriptions()[0] || this.series.metadata.language\n    },\n    statusChip(): object {\n      switch (this.series.metadata.status) {\n        case SeriesStatus.ABANDONED:\n          return {color: 'red darken-4', text: 'white'}\n        case SeriesStatus.ENDED:\n          return {color: 'green darken-4', text: 'white'}\n        case SeriesStatus.HIATUS:\n          return {color: 'orange darken-4', text: 'white'}\n      }\n      return {color: undefined, text: undefined}\n    },\n    sortOrFilterActive(): boolean {\n      return sortOrFilterActive(this.sortActive, this.sortDefault, this.filters)\n    },\n    authorsByRole(): any {\n      return groupAuthorsByRole(this.series.booksMetadata.authors)\n    },\n    displayedRoles(): string[] {\n      return authorRolesSeries.filter(x => this.authorsByRole[x])\n    },\n    contextCollection(): boolean {\n      return this.context.origin === ContextOrigin.COLLECTION\n    },\n    parentLocation(): RawLocation {\n      if (this.contextCollection)\n        return {name: 'browse-collection', params: {collectionId: this.context.id}}\n      else\n        return {name: 'browse-libraries', params: {libraryId: this.series.libraryId}}\n    },\n  },\n  props: {\n    seriesId: {\n      type: String,\n      required: true,\n    },\n  },\n  watch: {\n    series(val) {\n      if (this.$_.has(val, 'metadata.title')) {\n        document.title = `Komga - ${val.metadata.title}`\n      }\n    },\n  },\n  created() {\n    this.$eventHub.$on(SERIES_CHANGED, this.seriesChanged)\n    this.$eventHub.$on(SERIES_DELETED, this.seriesDeleted)\n    this.$eventHub.$on(BOOK_ADDED, this.bookChanged)\n    this.$eventHub.$on(BOOK_CHANGED, this.bookChanged)\n    this.$eventHub.$on(BOOK_DELETED, this.bookChanged)\n    this.$eventHub.$on(READPROGRESS_CHANGED, this.readProgressChanged)\n    this.$eventHub.$on(READPROGRESS_DELETED, this.readProgressChanged)\n    this.$eventHub.$on(LIBRARY_DELETED, this.libraryDeleted)\n    this.$eventHub.$on(COLLECTION_ADDED, this.collectionChanged)\n    this.$eventHub.$on(COLLECTION_CHANGED, this.collectionChanged)\n    this.$eventHub.$on(COLLECTION_DELETED, this.collectionChanged)\n  },\n  beforeDestroy() {\n    this.$eventHub.$off(SERIES_CHANGED, this.seriesChanged)\n    this.$eventHub.$off(SERIES_DELETED, this.seriesDeleted)\n    this.$eventHub.$off(BOOK_ADDED, this.bookChanged)\n    this.$eventHub.$off(BOOK_CHANGED, this.bookChanged)\n    this.$eventHub.$off(BOOK_DELETED, this.bookChanged)\n    this.$eventHub.$off(READPROGRESS_CHANGED, this.readProgressChanged)\n    this.$eventHub.$off(READPROGRESS_DELETED, this.readProgressChanged)\n    this.$eventHub.$off(LIBRARY_DELETED, this.libraryDeleted)\n    this.$eventHub.$off(COLLECTION_ADDED, this.collectionChanged)\n    this.$eventHub.$off(COLLECTION_CHANGED, this.collectionChanged)\n    this.$eventHub.$off(COLLECTION_DELETED, this.collectionChanged)\n  },\n  async mounted() {\n    this.pageSize = this.$store.state.persistedState.browsingPageSize || this.pageSize\n\n    // restore from query param\n    await this.resetParams(this.$route, this.seriesId)\n    if (this.$route.query.page) this.page = Number(this.$route.query.page)\n    if (this.$route.query.pageSize) this.pageSize = Number(this.$route.query.pageSize)\n\n    this.loadSeries(this.seriesId)\n\n    this.setWatches()\n  },\n  async beforeRouteUpdate(to, from, next) {\n    if (to.params.seriesId !== from.params.seriesId) {\n      this.unsetWatches()\n\n      // reset\n      await this.resetParams(to, to.params.seriesId)\n      this.readMore = false\n      this.readMoreTitles = false\n      this.page = 1\n      this.totalPages = 1\n      this.totalElements = null\n      this.books = []\n      this.collections = []\n\n      this.loadSeries(to.params.seriesId)\n\n      this.setWatches()\n    }\n\n    next()\n  },\n  methods: {\n    getLibraryName(item: SeriesDto): string {\n      return this.$store.getters.getLibraryById(item.libraryId).name\n    },\n    resetSortAndFilters() {\n      this.drawer = false\n      for (const prop in this.filters) {\n        this.$set(this.filters, prop, [])\n      }\n      this.sortActive = this.sortDefault\n      this.updateRouteAndReload()\n    },\n    async resetParams(route: any, seriesId: string) {\n      this.sortActive = this.parseQuerySortOrDefault(route.query.sort)\n\n      // load dynamic filters\n      this.$set(this.filterOptions, 'tag', toNameValueCondition(await this.$komgaReferential.getBookTags(seriesId), x => new SearchConditionTag(new SearchOperatorIs(x)), x => new SearchConditionTag(new SearchOperatorIsNot(x))))\n\n      // get filter from query params and validate with available filter values\n      let activeFilters = {} as FiltersActive\n      if (route.query.readStatus || route.query.tag || route.query.mediaProfile || authorRoles.some(role => role in route.query)) {\n        activeFilters = {\n          readStatus: route.query.readStatus || [],\n          tag: route.query.tag || [],\n          mediaProfile: route.query.mediaProfile || [],\n        }\n        authorRoles.forEach((role: string) => {\n          activeFilters[role] = route.query[role] || []\n        })\n      }\n      this.filters = this.validateFilters(activeFilters)\n\n      // get filter mode from query params\n      let activeFiltersMode = {} as FiltersActiveMode\n      if (route.query.filterMode) {\n        activeFiltersMode = route.query.filterMode\n      }\n      this.filtersMode = this.validateFiltersMode(activeFiltersMode)\n    },\n    validateFilters(filters: FiltersActive): FiltersActive {\n      const validFilter = {\n        readStatus: this.$_.intersectionWith(filters.readStatus, extractFilterOptionsValues(this.filterOptionsList.readStatus.values), objIsEqual) || [],\n        tag: this.$_.intersectionWith(filters.tag, extractFilterOptionsValues(this.filterOptions.tag), objIsEqual) || [],\n        mediaProfile: this.$_.intersectionWith(filters.mediaProfile, extractFilterOptionsValues(this.filterOptionsPanel.mediaProfile.values), objIsEqual) || [],\n      } as any\n      authorRoles.forEach((role: string) => {\n        validFilter[role] = filters[role] || []\n      })\n      return validFilter\n    },\n    validateFiltersMode(filtersMode: any): FiltersActiveMode {\n      const validFilterMode = {} as FiltersActiveMode\n      for (let key in filtersMode) {\n        if (filtersMode[key].allOf == 'true' || filtersMode[key].allOf == true) validFilterMode[key] = {allOf: true} as FilterMode\n      }\n      return validFilterMode\n    },\n    setWatches() {\n      this.sortUnwatch = this.$watch('sortActive', this.updateRouteAndReload)\n      this.filterUnwatch = this.$watch('filters', this.updateRouteAndReload)\n      this.filterModeUnwatch = this.$watch('filtersMode', this.updateRouteAndReload)\n      this.pageSizeUnwatch = this.$watch('pageSize', (val) => {\n        this.$store.commit('setBrowsingPageSize', val)\n        this.updateRouteAndReload()\n      })\n\n      this.pageUnwatch = this.$watch('page', (val) => {\n        this.updateRoute()\n        this.loadPage(this.seriesId, val, this.sortActive)\n      })\n    },\n    unsetWatches() {\n      this.sortUnwatch()\n      this.filterUnwatch()\n      this.filterModeUnwatch()\n      this.pageUnwatch()\n      this.pageSizeUnwatch()\n    },\n    updateRouteAndReload() {\n      this.unsetWatches()\n\n      this.page = 1\n\n      this.updateRoute()\n      this.loadPage(this.seriesId, this.page, this.sortActive)\n\n      this.setWatches()\n    },\n    libraryDeleted(event: LibrarySseDto) {\n      if (event.libraryId === this.series.libraryId) {\n        this.$router.push({name: 'home'})\n      }\n    },\n    seriesChanged(event: SeriesSseDto) {\n      if (event.seriesId === this.seriesId)\n        this.$komgaSeries.getOneSeries(this.seriesId)\n          .then(v => this.series = v)\n    },\n    seriesDeleted(event: SeriesSseDto) {\n      if (event.seriesId === this.seriesId) {\n        this.$router.push({name: 'browse-libraries', params: {libraryId: this.series.libraryId}})\n      }\n    },\n    bookChanged(event: BookSseDto) {\n      if (event.seriesId === this.seriesId) this.reloadPage()\n    },\n    readProgressChanged(event: ReadProgressSseDto) {\n      if (this.books.some(b => b.id === event.bookId)) {\n        this.reloadPage()\n        this.reloadSeries()\n      }\n    },\n    collectionChanged(event: CollectionSseDto) {\n      if (event.seriesIds.includes(this.seriesId) || this.collections.map(x => x.id).includes(event.collectionId)) {\n        this.$komgaSeries.getCollections(this.seriesId)\n          .then(v => this.collections = v)\n      }\n    },\n    reloadPage: throttle(function (this: any) {\n      this.loadPage(this.seriesId, this.page, this.sortActive)\n    }, 1000),\n    reloadSeries: throttle(function (this: any) {\n      this.$komgaSeries.getOneSeries(this.seriesId)\n        .then((v: SeriesDto) => this.series = v)\n    }, 1000),\n    async loadSeries(seriesId: string) {\n      this.$komgaSeries.getOneSeries(seriesId)\n        .then(v => {\n          this.series = v\n          // for the cases where we can't change the origin target route because we don't have the full BookDto\n          if (this.series.oneshot) this.$router.replace({name: 'browse-oneshot', params: {seriesId: this.seriesId}})\n        })\n      this.$komgaSeries.getCollections(seriesId)\n        .then(v => this.collections = v)\n\n      // parse query params to get context and contextId\n      if (this.$route.query.contextId && this.$route.query.context\n        && Object.values(ContextOrigin).includes(this.$route.query.context as ContextOrigin)) {\n        this.context = {\n          origin: this.$route.query.context as ContextOrigin,\n          id: this.$route.query.contextId as string,\n        }\n        this.series.context = this.context\n      }\n\n      await this.loadPage(seriesId, this.page, this.sortActive)\n    },\n    parseQuerySortOrDefault(querySort: any): SortActive {\n      return parseQuerySort(querySort, this.sortOptions) || this.$_.clone(this.sortDefault)\n    },\n    parseQueryFilterStatus(queryStatus: any): string[] {\n      return queryStatus ? queryStatus.toString().split(',').filter((x: string) => Object.keys(ReadStatus).includes(x)) : []\n    },\n    updateRoute() {\n      const loc = {\n        name: this.$route.name,\n        params: {seriesId: this.$route.params.seriesId},\n        query: {\n          page: `${this.page}`,\n          pageSize: `${this.pageSize}`,\n          sort: `${this.sortActive.key},${this.sortActive.order}`,\n        },\n      } as Location\n      mergeFilterParams(this.filters, loc.query)\n      loc.query['filterMode'] = this.validateFiltersMode(this.filtersMode)\n      this.$router.replace(loc).catch((_: any) => {\n      })\n    },\n    async loadPage(seriesId: string, page: number, sort: SortActive) {\n      this.selectedBooks = []\n\n      const pageRequest = {\n        page: page - 1,\n        size: this.pageSize,\n      } as PageRequest\n\n      if (sort) {\n        pageRequest.sort = [`${sort.key},${sort.order}`]\n      }\n\n      const conditions = [] as SearchConditionBook[]\n      conditions.push(new SearchConditionSeriesId(new SearchOperatorIs(seriesId)))\n      if (this.filters.readStatus && this.filters.readStatus.length > 0) conditions.push(new SearchConditionAnyOfBook(this.filters.readStatus))\n      if (this.filters.tag && this.filters.tag.length > 0) this.filtersMode?.tag?.allOf ? conditions.push(new SearchConditionAllOfBook(this.filters.tag)) : conditions.push(new SearchConditionAnyOfBook(this.filters.tag))\n      if (this.filters.mediaProfile && this.filters.mediaProfile.length > 0) this.filtersMode?.mediaProfile?.allOf ? conditions.push(new SearchConditionAllOfBook(this.filters.mediaProfile)) : conditions.push(new SearchConditionAnyOfBook(this.filters.mediaProfile))\n      authorRoles.forEach((role: string) => {\n        if (role in this.filters) {\n          const authorConditions = this.filters[role].map((name: string) => {\n            if (name === FILTER_ANY)\n              return new SearchConditionAuthor(new SearchOperatorIs({\n                role: role,\n              }))\n            else if (name === FILTER_NONE)\n              return new SearchConditionAuthor(new SearchOperatorIsNot({\n                role: role,\n              }))\n            else\n              return new SearchConditionAuthor(new SearchOperatorIs({\n                name: name,\n                role: role,\n              }))\n          })\n          conditions.push(this.filtersMode[role]?.allOf ? new SearchConditionAllOfBook(authorConditions) : new SearchConditionAnyOfBook(authorConditions))\n        }\n      })\n\n      const booksPage = await this.$komgaBooks.getBooksList({\n        condition: new SearchConditionAllOfBook(conditions),\n      }, pageRequest)\n\n      this.totalPages = booksPage.totalPages\n      this.totalElements = booksPage.totalElements\n      this.books = booksPage.content\n    },\n    analyze() {\n      this.$komgaSeries.analyzeSeries(this.series)\n    },\n    refreshMetadata() {\n      this.$komgaSeries.refreshMetadata(this.series)\n    },\n    editSeries() {\n      this.$store.dispatch('dialogUpdateSeries', this.series)\n    },\n    editSingleBook(book: BookDto) {\n      this.$store.dispatch('dialogUpdateBooks', book)\n    },\n    editMultipleBooks() {\n      this.$store.dispatch('dialogUpdateBooks', this.selectedBooks)\n    },\n    bulkEditMultipleBooks() {\n      this.$store.dispatch('dialogUpdateBulkBooks', this.$_.sortBy(this.selectedBooks, ['metadata.numberSort']))\n    },\n    addToReadList() {\n      this.$store.dispatch('dialogAddBooksToReadList', this.selectedBooks.map(b => b.id))\n    },\n    async markSelectedRead() {\n      await Promise.all(this.selectedBooks.map(b =>\n        this.$komgaBooks.updateReadProgress(b.id, {completed: true}),\n      ))\n      this.selectedBooks = []\n    },\n    async markSelectedUnread() {\n      await Promise.all(this.selectedBooks.map(b =>\n        this.$komgaBooks.deleteReadProgress(b.id),\n      ))\n      this.selectedBooks = []\n    },\n    deleteBooks() {\n      this.$store.dispatch('dialogDeleteBook', this.selectedBooks)\n    },\n    removeFromCollection(collectionId: string) {\n      const col = this.collections.find(x => x.id == collectionId)\n      const modified = Object.assign({}, {seriesIds: col?.seriesIds.filter(x => x != this.seriesId)})\n      if (modified!.seriesIds!.length == 0)\n        this.$komgaCollections.deleteCollection(col!.id)\n      else\n        this.$komgaCollections.patchCollection(col!.id, modified)\n    },\n  },\n})\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseSeries.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseSeries.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseSeries.vue?vue&type=template&id=0058acd4&scoped=true&\"\nimport script from \"./BrowseSeries.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseSeries.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0058acd4\",\n  null\n  \n)\n\nexport default component.exports","export function objIsEqual(o1: any, o2: any): boolean {\n  return JSON.stringify(o1) === JSON.stringify(o2)\n}\n","const sortDirs = ['asc', 'desc']\n\nexport function parseQuerySort(querySort: any, sortOptions: SortOption[]): SortActive | null {\n  let customSort = null\n  if (querySort) {\n    const split = querySort.split(',')\n    if (split.length === 2 && sortOptions.map(x => x.key).includes(split[0]) && sortDirs.includes(split[1])) {\n      customSort = {key: split[0], order: split[1]}\n    }\n  }\n  return customSort\n}\n\nexport function parseBooleanFilter(values?: string[]): boolean | undefined {\n  if (!values || values.length === 0) return undefined\n  if (values[0].trim().toLowerCase() === 'true') return true\n  if (values[0].trim().toLowerCase() === 'false') return false\n  return undefined\n}\n","import i18n from '@/i18n'\n\nexport enum SeriesStatus {\n  ENDED = 'ENDED',\n  ONGOING = 'ONGOING',\n  ABANDONED = 'ABANDONED',\n  HIATUS = 'HIATUS'\n}\n\nexport function SeriesStatusKeyValue(): NameValue[] {\n  return Object.values(SeriesStatus).map(x => ({\n    name: i18n.t(`enums.series_status.${x}`),\n    value: x,\n  } as NameValue))\n}\n","export interface FiltersOptions {\n  [key: string]: {\n    name?: string,\n    values?: NameValue[],\n    search?: (search: string) => Promise<string[]>,\n    anyAllSelector?: boolean,\n  },\n}\n\nexport interface NameValue {\n  name: string,\n  value: any,\n  // an optional negative value\n  nValue?: any,\n}\n\nexport interface FiltersActive {\n  [key: string]: any[],\n}\n\nexport interface FiltersActiveMode {\n  [key: string]: FilterMode,\n}\n\nexport interface FilterMode {\n  allOf: boolean,\n}\n\nexport const FILTER_ANY = 'KOMGA____ANY____'\nexport const FILTER_NONE = 'KOMGA____NONE____'\n","'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar ltrim = RegExp('^[' + whitespaces + ']+');\nvar rtrim = RegExp('(^|[^' + whitespaces + '])[' + whitespaces + ']+$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '$1');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\n// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","import VOverlay from './VOverlay';\nexport { VOverlay };\nexport default VOverlay;\n//# sourceMappingURL=index.js.map","// Components\nimport VOverlay from '../../components/VOverlay'; // Utilities\n\nimport { keyCodes, addOnceEventListener, addPassiveEventListener, getZIndex, composedPath } from '../../util/helpers'; // Types\n\nimport Vue from 'vue';\n/* @vue/component */\n\nexport default Vue.extend().extend({\n  name: 'overlayable',\n  props: {\n    hideOverlay: Boolean,\n    overlayColor: String,\n    overlayOpacity: [Number, String]\n  },\n\n  data() {\n    return {\n      animationFrame: 0,\n      overlay: null\n    };\n  },\n\n  watch: {\n    hideOverlay(value) {\n      if (!this.isActive) return;\n      if (value) this.removeOverlay();else this.genOverlay();\n    }\n\n  },\n\n  beforeDestroy() {\n    this.removeOverlay();\n  },\n\n  methods: {\n    createOverlay() {\n      const overlay = new VOverlay({\n        propsData: {\n          absolute: this.absolute,\n          value: false,\n          color: this.overlayColor,\n          opacity: this.overlayOpacity\n        }\n      });\n      overlay.$mount();\n      const parent = this.absolute ? this.$el.parentNode : document.querySelector('[data-app]');\n      parent && parent.insertBefore(overlay.$el, parent.firstChild);\n      this.overlay = overlay;\n    },\n\n    genOverlay() {\n      this.hideScroll();\n      if (this.hideOverlay) return;\n      if (!this.overlay) this.createOverlay();\n      this.animationFrame = requestAnimationFrame(() => {\n        if (!this.overlay) return;\n\n        if (this.activeZIndex !== undefined) {\n          this.overlay.zIndex = String(this.activeZIndex - 1);\n        } else if (this.$el) {\n          this.overlay.zIndex = getZIndex(this.$el);\n        }\n\n        this.overlay.value = true;\n      });\n      return true;\n    },\n\n    /** removeOverlay(false) will not restore the scollbar afterwards */\n    removeOverlay(showScroll = true) {\n      if (this.overlay) {\n        addOnceEventListener(this.overlay.$el, 'transitionend', () => {\n          if (!this.overlay || !this.overlay.$el || !this.overlay.$el.parentNode || this.overlay.value || this.isActive) return;\n          this.overlay.$el.parentNode.removeChild(this.overlay.$el);\n          this.overlay.$destroy();\n          this.overlay = null;\n        }); // Cancel animation frame in case\n        // overlay is removed before it\n        // has finished its animation\n\n        cancelAnimationFrame(this.animationFrame);\n        this.overlay.value = false;\n      }\n\n      showScroll && this.showScroll();\n    },\n\n    scrollListener(e) {\n      if ('key' in e) {\n        if (['INPUT', 'TEXTAREA', 'SELECT'].includes(e.target.tagName) || // https://github.com/vuetifyjs/vuetify/issues/4715\n        e.target.isContentEditable) return;\n        const up = [keyCodes.up, keyCodes.pageup];\n        const down = [keyCodes.down, keyCodes.pagedown];\n\n        if (up.includes(e.keyCode)) {\n          e.deltaY = -1;\n        } else if (down.includes(e.keyCode)) {\n          e.deltaY = 1;\n        } else {\n          return;\n        }\n      }\n\n      if (e.target === this.overlay || e.type !== 'keydown' && e.target === document.body || this.checkPath(e)) e.preventDefault();\n    },\n\n    hasScrollbar(el) {\n      if (!el || el.nodeType !== Node.ELEMENT_NODE) return false;\n      const style = window.getComputedStyle(el);\n      return (['auto', 'scroll'].includes(style.overflowY) || el.tagName === 'SELECT') && el.scrollHeight > el.clientHeight || ['auto', 'scroll'].includes(style.overflowX) && el.scrollWidth > el.clientWidth;\n    },\n\n    shouldScroll(el, e) {\n      if (el.hasAttribute('data-app')) return false;\n      const dir = e.shiftKey || e.deltaX ? 'x' : 'y';\n      const delta = dir === 'y' ? e.deltaY : e.deltaX || e.deltaY;\n      let alreadyAtStart;\n      let alreadyAtEnd;\n\n      if (dir === 'y') {\n        alreadyAtStart = el.scrollTop === 0;\n        alreadyAtEnd = el.scrollTop + el.clientHeight === el.scrollHeight;\n      } else {\n        alreadyAtStart = el.scrollLeft === 0;\n        alreadyAtEnd = el.scrollLeft + el.clientWidth === el.scrollWidth;\n      }\n\n      const scrollingUp = delta < 0;\n      const scrollingDown = delta > 0;\n      if (!alreadyAtStart && scrollingUp) return true;\n      if (!alreadyAtEnd && scrollingDown) return true;\n\n      if ((alreadyAtStart || alreadyAtEnd) && el.parentNode) {\n        return this.shouldScroll(el.parentNode, e);\n      }\n\n      return false;\n    },\n\n    isInside(el, parent) {\n      if (el === parent) {\n        return true;\n      } else if (el === null || el === document.body) {\n        return false;\n      } else {\n        return this.isInside(el.parentNode, parent);\n      }\n    },\n\n    checkPath(e) {\n      const path = composedPath(e);\n\n      if (e.type === 'keydown' && path[0] === document.body) {\n        const dialog = this.$refs.dialog; // getSelection returns null in firefox in some edge cases, can be ignored\n\n        const selected = window.getSelection().anchorNode;\n\n        if (dialog && this.hasScrollbar(dialog) && this.isInside(selected, dialog)) {\n          return !this.shouldScroll(dialog, e);\n        }\n\n        return true;\n      }\n\n      for (let index = 0; index < path.length; index++) {\n        const el = path[index];\n        if (el === document) return true;\n        if (el === document.documentElement) return true;\n        if (el === this.$refs.content) return true;\n        if (this.hasScrollbar(el)) return !this.shouldScroll(el, e);\n      }\n\n      return true;\n    },\n\n    hideScroll() {\n      if (this.$vuetify.breakpoint.smAndDown) {\n        document.documentElement.classList.add('overflow-y-hidden');\n      } else {\n        addPassiveEventListener(window, 'wheel', this.scrollListener, {\n          passive: false\n        });\n        window.addEventListener('keydown', this.scrollListener);\n      }\n    },\n\n    showScroll() {\n      document.documentElement.classList.remove('overflow-y-hidden');\n      window.removeEventListener('wheel', this.scrollListener);\n      window.removeEventListener('keydown', this.scrollListener);\n    }\n\n  }\n});\n//# sourceMappingURL=index.js.map"],"names":["model","value","callback","collectionPanel","expression","_vm","collections","_c","key","on","scrollChanged","collectionsLoaders","scopedSlots","staticClass","attrs","params","collectionId","fn","staticRenderFns","render","Vue","extend","name","components","HorizontalScroller","ItemBrowser","props","type","Array","required","data","undefined","watch","handler","val","this","map","coll","PageLoader","pageable","$komgaCollections","getSeries","id","x","context","origin","ContextOrigin","COLLECTION","immediate","hasLoadedAny","loadNext","methods","loader","percent","component","_l","sortOptions","index","sortDefault","Object","sortActive","setSort","sort","order","$emit","contextCollection","series","_e","staticStyle","_v","pageSize","drawer","selectedBooks","bulkEditMultipleBooks","$$v","filters","filterOptionsPanel","$event","hasOwnProperty","get","class","$vuetify","libraryId","_s","$t","library","getLibraryName","booksMetadata","releaseDate","timeZone","statusChip","color","query","status","count","readMoreTitles","i","fileUrl","readMore","number","summaryNumber","metadata","alternateTitles","publisher","proxy","genre","SearchConditionGenre","SearchOperatorIs","tag","SearchConditionTag","link","role","removeFromCollection","totalPages","resetSortAndFilters","page","books","tags","require","ToolbarSticky","PageSizeSelect","SeriesActionsMenu","ItemCard","EmptyState","MultiSelectBar","CollectionsExpansionPanels","FilterDrawer","FilterList","FilterPanels","SortList","ReadMore","VueHorizontal","RtlIcon","SearchConditionSeriesStatus","SearchConditionPublisher","SearchConditionLanguage","SearchConditionAgeRating","totalElements","filtersMode","sortUnwatch","filterUnwatch","filterModeUnwatch","pageUnwatch","pageSizeUnwatch","filterOptions","mediaProfile","computed","itemContext","ItemContext","RELEASE_DATE","DATE_ADDED","FILE_SIZE","toString","filterOptionsList","readStatus","values","SearchConditionReadStatus","ReadStatus","UNREAD","nValue","SearchOperatorIsNot","IN_PROGRESS","READ","r","anyAllSelector","MediaProfile","i18n","t","SearchConditionMediaProfile","authorRoles","forEach","search","async","$komgaReferential","getAuthors","seriesId","content","FILTER_ANY","FILTER_NONE","isAdmin","$store","getters","meAdmin","unavailable","deleted","getLibraryById","canDownload","meFileDownload","seriesFileUrl","thumbnailUrl","seriesThumbnailUrl","paginationVisible","breakpoint","languageDisplay","_tags","language","descriptions","SeriesStatus","ABANDONED","text","ENDED","HIATUS","sortOrFilterActive","authorsByRole","groupAuthorsByRole","authors","displayedRoles","authorRolesSeries","filter","parentLocation","String","$_","has","document","title","created","$eventHub","$on","SERIES_CHANGED","seriesChanged","SERIES_DELETED","seriesDeleted","BOOK_ADDED","bookChanged","BOOK_CHANGED","BOOK_DELETED","READPROGRESS_CHANGED","readProgressChanged","READPROGRESS_DELETED","LIBRARY_DELETED","libraryDeleted","COLLECTION_ADDED","collectionChanged","COLLECTION_CHANGED","COLLECTION_DELETED","beforeDestroy","$off","mounted","state","persistedState","browsingPageSize","resetParams","$route","Number","loadSeries","setWatches","beforeRouteUpdate","to","from","next","unsetWatches","item","prop","$set","updateRouteAndReload","route","parseQuerySortOrDefault","toNameValueCondition","getBookTags","activeFilters","some","validateFilters","activeFiltersMode","filterMode","validateFiltersMode","validFilter","intersectionWith","extractFilterOptionsValues","objIsEqual","validFilterMode","allOf","$watch","commit","updateRoute","loadPage","event","$router","push","$komgaSeries","getOneSeries","then","v","reloadPage","b","bookId","reloadSeries","seriesIds","includes","getCollections","throttle","oneshot","replace","contextId","querySort","parseQuerySort","clone","parseQueryFilterStatus","queryStatus","split","keys","loc","mergeFilterParams","catch","_","_this$filtersMode","_this$filtersMode2","pageRequest","size","conditions","SearchConditionSeriesId","length","SearchConditionAnyOfBook","SearchConditionAllOfBook","_this$filtersMode$rol","authorConditions","SearchConditionAuthor","booksPage","$komgaBooks","getBooksList","condition","analyze","analyzeSeries","refreshMetadata","editSeries","dispatch","editSingleBook","book","editMultipleBooks","sortBy","addToReadList","markSelectedRead","Promise","all","updateReadProgress","completed","markSelectedUnread","deleteReadProgress","deleteBooks","col","find","modified","assign","deleteCollection","patchCollection","o1","o2","JSON","stringify","sortDirs","customSort","parseBooleanFilter","trim","toLowerCase","SeriesStatusKeyValue","PROPER_FUNCTION_NAME","fails","whitespaces","non","module","exports","METHOD_NAME","uncurryThis","requireObjectCoercible","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","$","$trim","forcedStringTrimMethod","target","proto","forced","VOverlay","hideOverlay","Boolean","overlayColor","overlayOpacity","animationFrame","overlay","isActive","removeOverlay","genOverlay","createOverlay","propsData","absolute","opacity","$mount","parent","$el","parentNode","querySelector","insertBefore","firstChild","hideScroll","requestAnimationFrame","activeZIndex","zIndex","showScroll","removeChild","$destroy","cancelAnimationFrame","scrollListener","e","tagName","isContentEditable","up","pageup","down","pagedown","keyCode","deltaY","body","checkPath","preventDefault","hasScrollbar","el","nodeType","Node","ELEMENT_NODE","style","window","getComputedStyle","overflowY","scrollHeight","clientHeight","overflowX","scrollWidth","clientWidth","shouldScroll","hasAttribute","dir","shiftKey","deltaX","delta","alreadyAtStart","alreadyAtEnd","scrollTop","scrollLeft","scrollingUp","scrollingDown","isInside","path","dialog","$refs","selected","getSelection","anchorNode","documentElement","smAndDown","classList","add","passive","addEventListener","remove","removeEventListener"],"sourceRoot":""}