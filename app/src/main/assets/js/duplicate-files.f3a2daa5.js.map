{"version":3,"file":"js/duplicate-files.f3a2daa5.js","mappings":"+NAAqIA,EAAM,W,IAAC,OAAU,aAAO,QAAc,Y,OAAEC,EAAAA,EAAAA,EAAY,CAAcD,YAAM,O,MAAC,CAAsB,MAAQE,K,CAAgC,O,YAA+CA,c,MAAY,CAAqB,UAAa,QAAG,cAAmB,QAAU,EAAC,QAAW,sBAAe,a,QAC9ZC,EAAAA,QACF,qBAAE,gBAAG,gBAAC,GAAC,sB,eAA8CC,CAAM,kC,GAAwBC,CAAeC,iBAAY,YAAEC,EAAAA,QAAAA,CAAK,G,YAAmC,O,4BAAaA,K,WAA2EC,EAAAA,cAAeA,C,MAAQ,CAAC,IAAC,8CAAIN,OAAU,CAAyB,YAAG,wBAAyC,6B,oCAA8D,K,IAAoB,MAAM,CAACO,EAAG,QAAU,EAACP,EAAAA,EAAO,CAAuC,OAAG,SAAK,MAAS,GAAI,MAAS,UAAS,yD,+BAA6C,K,UAAc,GAAO,IAAC,C,MAAiB,CAAiC,QAAC,eAAuD,IAAG,kBAAK,0BAAgB,EAAI,IAA+BF,CAAAA,EAAK,IAAC,qC,QAAYU,iB,oBAAyB,QAAE,MAAK,CAAuC,SAAa,IAAO,oBAE72BC,CAAAA,EAAAA,EAAAA,EAAkB,CAAC,EAAC,wBAExB,E,8CCFA,EAAeC,EAAAA,GAAIC,OAAO,CACxBC,KAAM,iBACNC,KAAM,WACJ,MAAO,CACLC,MAAO,GACPC,WAAY,EACZC,SAAS,EACTC,QAAS,CAAC,EAEd,EACAC,MAAO,CACLD,QAAS,CACPE,OAAAA,GACEC,KAAKC,WACP,EACAC,MAAM,IAGVC,SAAU,CACRC,OAAAA,GACE,MAAO,CACL,CAACC,KAAML,KAAKM,MAAMC,EAAE,wBAAwBC,WAAYC,MAAO,YAC/D,CAACJ,KAAML,KAAKM,MAAMC,EAAE,kBAAkBC,WAAYC,MAAO,MAAOC,WAAW,GAC3E,CAACL,KAAML,KAAKM,MAAMC,EAAE,mBAAmBC,WAAYC,MAAO,OAAQC,WAAW,GAC7E,CAACL,KAAM,GAAII,MAAO,UAAWC,WAAW,EAAOC,UAAU,GACzD,CAACN,KAAML,KAAKM,MAAMC,EAAE,eAAeC,WAAYC,MAAO,KAAMC,WAAW,GAE3E,GAEFE,QAAS,CACP,eAAMX,GACJD,KAAKJ,SAAU,EAEf,MAAM,OAACiB,EAAM,SAAEC,EAAQ,KAAEC,EAAI,aAAEC,GAAgBhB,KAAKH,QAE9CoB,EAAc,CAClBF,KAAMA,EAAO,EACbG,KAAMF,EACNG,KAAM,IAGR,IAAK,IAAIC,EAAI,EAAGA,EAAIP,EAAOQ,OAAQD,IACjCH,EAAYE,KAAOG,KAAK,GAAGT,EAAOO,MAAMN,EAASM,GAAK,OAAS,SAGjE,MAAMG,QAAkBvB,KAAKwB,YAAYC,kBAAkBR,GAC3DjB,KAAKL,WAAa4B,EAAUG,cAC5B1B,KAAKN,MAAQ6B,EAAUI,QAEvB3B,KAAKJ,SAAU,CACjB,EACAgC,gBAAAA,CAAiBC,GACf7B,KAAK8B,OAAOC,SAAS,mBAAoBF,EAC3C,KCzDgS,I,WCOhSG,GAAY,OACd,EACAC,EACA5C,GACA,EACA,KACA,WACA,MAIF,EAAe2C,EAAiB,O","sources":["webpack://komga-webui/./src/views/DuplicateFiles.vue","webpack://komga-webui/./src/views/DuplicateFiles.vue?8ced","webpack://komga-webui/./src/views/DuplicateFiles.vue?5b10","webpack://komga-webui/./src/views/DuplicateFiles.vue?9bf9"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-container',{staticClass:\"pa-6\",attrs:{\"fluid\":\"\"}},[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.books,\"options\":_vm.options,\"server-items-length\":_vm.totalBooks,\"loading\":_vm.loading,\"sort-by\":\"fileHash\",\"multi-sort\":\"\",\"show-group-by\":\"\",\"group-by\":\"fileHash\",\"footer-props\":{\n      itemsPerPageOptions: [20, 50, 100]\n    }},on:{\"update:options\":function($event){_vm.options=$event}},scopedSlots:_vm._u([{key:\"item.url\",fn:function({ item }){return [_c('router-link',{attrs:{\"to\":{name: item.oneshot ? 'browse-oneshot' : 'browse-book', params: {bookId: item.id, seriesId: item.seriesId}}}},[_vm._v(\" \"+_vm._s(item.url)+\" \")])]}},{key:\"item.deleted\",fn:function({ item }){return [(item.deleted)?_c('v-chip',{attrs:{\"label\":\"\",\"small\":\"\",\"color\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.$t('common.unavailable'))+\" \")]):_vm._e()]}},{key:\"item.id\",fn:function({ item }){return [_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.promptDeleteBook(item)}}},[_c('v-icon',[_vm._v(\"mdi-trash-can-outline\")])],1)]}},{key:\"footer.prepend\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.loadBooks}},[_c('v-icon',[_vm._v(\"mdi-refresh\")])],1)]},proxy:true}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\nimport {BookDto} from '@/types/komga-books'\n\nexport default Vue.extend({\n  name: 'DuplicateFiles',\n  data: function () {\n    return {\n      books: [] as BookDto[],\n      totalBooks: 0,\n      loading: true,\n      options: {} as any,\n    }\n  },\n  watch: {\n    options: {\n      handler() {\n        this.loadBooks()\n      },\n      deep: true,\n    },\n  },\n  computed: {\n    headers(): object[] {\n      return [\n        {text: this.$i18n.t('duplicates.file_hash').toString(), value: 'fileHash'},\n        {text: this.$i18n.t('duplicates.url').toString(), value: 'url', groupable: false},\n        {text: this.$i18n.t('duplicates.size').toString(), value: 'size', groupable: false},\n        {text: '', value: 'deleted', groupable: false, sortable: false},\n        {text: this.$i18n.t('menu.delete').toString(), value: 'id', groupable: false},\n      ]\n    },\n  },\n  methods: {\n    async loadBooks() {\n      this.loading = true\n\n      const {sortBy, sortDesc, page, itemsPerPage} = this.options\n\n      const pageRequest = {\n        page: page - 1,\n        size: itemsPerPage,\n        sort: [],\n      } as PageRequest\n\n      for (let i = 0; i < sortBy.length; i++) {\n        pageRequest.sort!!.push(`${sortBy[i]},${sortDesc[i] ? 'desc' : 'asc'}`)\n      }\n\n      const booksPage = await this.$komgaBooks.getDuplicateBooks(pageRequest)\n      this.totalBooks = booksPage.totalElements\n      this.books = booksPage.content\n\n      this.loading = false\n    },\n    promptDeleteBook(book: BookDto) {\n      this.$store.dispatch('dialogDeleteBook', book)\n    },\n  },\n})\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DuplicateFiles.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DuplicateFiles.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DuplicateFiles.vue?vue&type=template&id=747324b3&scoped=true&\"\nimport script from \"./DuplicateFiles.vue?vue&type=script&lang=ts&\"\nexport * from \"./DuplicateFiles.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"747324b3\",\n  null\n  \n)\n\nexport default component.exports"],"names":["attrs","staticClass","_vm","itemsPerPageOptions","$event","key","fn","item","seriesId","_v","on","staticRenderFns","Vue","extend","name","data","books","totalBooks","loading","options","watch","handler","this","loadBooks","deep","computed","headers","text","$i18n","t","toString","value","groupable","sortable","methods","sortBy","sortDesc","page","itemsPerPage","pageRequest","size","sort","i","length","push","booksPage","$komgaBooks","getDuplicateBooks","totalElements","content","promptDeleteBook","book","$store","dispatch","component","render"],"sourceRoot":""}