"use strict";(self["webpackChunkkomga_webui"]=self["webpackChunkkomga_webui"]||[]).push([[3239],{68064:function(t,e,s){s.d(e,{A:function(){return m}});var i=s(19292),n=s(16684),a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(i.A,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,options:t.options,"server-items-length":t.totalItems,loading:t.loading,"sort-by":"dateTime","sort-desc":!0,"multi-sort":"","show-group-by":"","footer-props":{itemsPerPageOptions:[20,50,100]}},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.success",fn:function({item:s}){return[s.success?e(n.A,{attrs:{color:"success"}},[t._v("mdi-check-circle")]):e(n.A,{attrs:{color:"error"}},[t._v("mdi-alert-circle")])]}},{key:"item.dateTime",fn:function({item:e}){return[t._v(" "+t._s(new Intl.DateTimeFormat(t.$i18n.locale,{dateStyle:"medium",timeStyle:"short"}).format(e.dateTime))+" ")]}}])})},r=[],o=(s(28743),s(85471)),l=s(52846),d=o.Ay.extend({name:"AuthenticationActivityTable",data:function(){return{items:[],totalItems:0,loading:!0,options:{}}},props:{forMe:{type:Boolean,default:!1}},watch:{options:{handler(){this.loadData()},deep:!0}},computed:{headers(){const t=[];return this.forMe||t.push({text:this.$t("authentication_activity.email").toString(),value:"email"}),t.push({text:this.$t("authentication_activity.ip").toString(),value:"ip"},{text:this.$t("authentication_activity.user_agent").toString(),value:"userAgent"},{text:this.$t("authentication_activity.success").toString(),value:"success"},{text:this.$t("authentication_activity.source").toString(),value:"source"},{text:this.$t("authentication_activity.api_key").toString(),value:"apiKeyComment"},{text:this.$t("authentication_activity.error").toString(),value:"error"},{text:this.$t("authentication_activity.datetime").toString(),value:"dateTime",groupable:!1}),t}},methods:{async loadData(){this.loading=!0;const{sortBy:t,sortDesc:e,page:s,itemsPerPage:i}=this.options,n={page:s-1,size:i,sort:[]};for(let o=0;o<t.length;o++)n.sort.push(`${t[o]},${e[o]?"desc":"asc"}`);let a;try{a=this.forMe?await this.$komgaUsers.getMyAuthenticationActivity(n):await this.$komgaUsers.getAuthenticationActivity(n),this.totalItems=a.totalElements,this.items=a.content}catch(r){this.$eventHub.$emit(l.ff,{message:r.message})}this.loading=!1}}}),c=d,h=s(81656),u=(0,h.A)(c,a,r,!1,null,null,null),m=u.exports},92997:function(t,e,s){s.d(e,{A:function(){return b}});var i=s(73847),n=s(30089),a=s(21253),r=s(1231),o=s(70793),l=s(92872),d=s(22369),c=s(40005),h=s(68069),u=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(l.A,{attrs:{"max-width":"450"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[e(n.A,[e(a.ri,[t._v(t._s(t.$t("dialog.password_change.dialog_title")))]),e(a.OQ,[e("form",{attrs:{novalidate:""}},[e(o.A,{attrs:{fluid:""}},[e(d.A,[e(r.A,[e(h.A,{attrs:{label:t.$t("dialog.password_change.field_new_password"),autofocus:"",autocomplete:"off",type:t.showPassword1?"text":"password","append-icon":t.showPassword1?"mdi-eye":"mdi-eye-off","error-messages":t.getErrors("newPassword")},on:{"click:append":function(e){t.showPassword1=!t.showPassword1},input:function(e){return t.$v.form.newPassword.$touch()},blur:function(e){return t.$v.form.newPassword.$touch()}},model:{value:t.form.newPassword,callback:function(e){t.$set(t.form,"newPassword",e)},expression:"form.newPassword"}})],1)],1),e(d.A,[e(r.A,[e(h.A,{attrs:{label:t.$t("dialog.password_change.field_repeat_password"),autocomplete:"off",type:t.showPassword2?"text":"password","append-icon":t.showPassword2?"mdi-eye":"mdi-eye-off","error-messages":t.getErrors("repeatPassword")},on:{"click:append":function(e){t.showPassword2=!t.showPassword2},input:function(e){return t.$v.form.repeatPassword.$touch()},blur:function(e){return t.$v.form.repeatPassword.$touch()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.dialogConfirm.apply(null,arguments)}},model:{value:t.form.repeatPassword,callback:function(e){t.$set(t.form,"repeatPassword",e)},expression:"form.repeatPassword"}})],1)],1)],1)],1)]),e(a.SL,[e(c.A),e(i.A,{attrs:{text:""},on:{click:t.dialogCancel}},[t._v(t._s(t.$t("dialog.password_change.button_cancel")))]),e(i.A,{attrs:{color:"primary"},on:{click:t.dialogConfirm}},[t._v(t._s(t.$t("dialog.password_change.button_confirm"))+" ")])],1)],1)],1)},m=[],p=(s(14602),s(28743),s(85471)),g=s(33278),f=s(52846),v=p.Ay.extend({name:"PasswordChangeDialog",data:()=>({modal:!1,showPassword1:!1,showPassword2:!1,form:{newPassword:"",repeatPassword:""},validationFieldNames:new Map([["newPassword","Password"],["confirmPassword","Password confirmation"]])}),props:{value:Boolean,user:{type:Object,required:!0}},watch:{value(t){this.modal=t},modal(t){!t&&this.dialogCancel()}},validations:{form:{newPassword:{required:g.mw},repeatPassword:{sameAsPassword:(0,g.f4)("newPassword")}}},methods:{getErrors(t){const e=[],s=this.$v.form[t];return s&&s.$invalid&&s.$dirty&&("newPassword"===t&&(s.required||e.push(this.$t("dialog.password_change.field_new_password_error").toString())),"repeatPassword"===t&&(s.sameAsPassword||e.push(this.$t("dialog.password_change.field_repeat_password_error").toString()))),e},formReset(){this.form.newPassword="",this.form.repeatPassword="",this.showPassword1=!1,this.showPassword2=!1,this.$v.$reset()},dialogCancel(){this.$emit("input",!1),this.formReset()},dialogConfirm(){this.$v.$touch(),this.$v.$invalid||(this.updatePassword(),this.$emit("input",!1),this.formReset())},async updatePassword(){try{await this.$komgaUsers.patchUserPassword(this.user,{password:this.form.newPassword})}catch(t){this.$eventHub.$emit(f.ff,{message:t.message})}}}}),w=v,_=s(81656),A=(0,_.A)(w,u,m,!1,null,"54a9c1bf",null),b=A.exports},87891:function(t,e,s){s.r(e),s.d(e,{default:function(){return rt}});var i=s(1231),n=s(70793),a=s(22369),r=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(n.A,{staticClass:"pa-6",attrs:{fluid:""}},[e(a.A,[e(i.A,{staticClass:"text-h5"},[t._v(t._s(t.$t("users.users")))])],1),e(a.A,[e(i.A,{attrs:{cols:"12",md:"10",lg:"8",xl:"4"}},[e("users-list")],1)],1),e(a.A,[e(i.A,{staticClass:"text-h5"},[t._v(t._s(t.$t("users.authentication_activity")))])],1),e(a.A,[e(i.A,{attrs:{cols:"12"}},[e("authentication-activity-table")],1)],1)],1)},o=[],l=s(85471),d=s(68064),c=s(73847),h=s(39975),u=s(16684),m=s(18748),p=s(94026),g=s(99360),f=s(69791),v=s(45475),w=s(84551),_=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticStyle:{position:"relative"}},[e(m.A,{attrs:{elevation:"3","two-line":""}},t._l(t.users,(function(s,i){return e("div",{key:i},[e(p.A,[e(w.A,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e(v.A,t._g({},i),[s.roles.includes(t.UserRoles.ADMIN)?e(u.A,{attrs:{color:"red"}},[t._v("mdi-account-star")]):e(u.A,[t._v("mdi-account")])],1)]}}],null,!0)},[e("span",[t._v(t._s(s.roles.includes(t.UserRoles.ADMIN)?t.$t("settings_user.role_administrator"):t.$t("settings_user.role_user")))])]),e(f.pr,[e(f.UZ,[t._v(" "+t._s(s.email)+" ")]),void 0!==t.usersLastActivity[s.id]?e(f.w,[t._v(" "+t._s(t.$t("settings_user.latest_activity",{date:new Intl.DateTimeFormat(t.$i18n.locale,{dateStyle:"medium",timeStyle:"short"}).format(t.usersLastActivity[s.id])}))+" ")]):e(f.w,[t._v(t._s(t.$t("settings_user.no_recent_activity")))])],1),e(g.A,[e(w.A,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e(c.A,t._g({attrs:{icon:"",disabled:s.roles.includes(t.UserRoles.ADMIN)},on:{click:function(e){return t.editRestrictions(s)}}},i),[e(u.A,[t._v("mdi-book-lock")])],1)]}}],null,!0)},[e("span",[t._v(t._s(t.$t("settings_user.edit_restrictions")))])])],1),e(g.A,[e(w.A,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e(c.A,t._g({attrs:{icon:""},on:{click:function(e){return t.changeUserPassword(s)}}},i),[e(u.A,[t._v("mdi-lock-reset")])],1)]}}],null,!0)},[e("span",[t._v(t._s(t.$t("settings_user.change_password")))])])],1),e(g.A,[e(w.A,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e(c.A,t._g({attrs:{icon:"",disabled:s.id===t.me.id},on:{click:function(e){return t.editUser(s)}}},i),[e(u.A,[t._v("mdi-pencil")])],1)]}}],null,!0)},[e("span",[t._v(t._s(t.$t("settings_user.edit_user")))])])],1),e(g.A,[e(c.A,{attrs:{icon:"",disabled:s.id===t.me.id},on:{click:function(e){return t.promptDeleteUser(s)}}},[e(u.A,[t._v("mdi-delete")])],1)],1)],1),i!==t.users.length-1?e(h.A):t._e()],1)})),0),e(c.A,{staticClass:"mx-6",attrs:{fab:"",absolute:"",bottom:"",color:"primary",right:!t.$vuetify.rtl,left:t.$vuetify.rtl,small:"",to:{name:"settings-users-add"}}},[e(u.A,[t._v("mdi-plus")])],1),e("user-restrictions-edit-dialog",{attrs:{user:t.userToEditRestrictions},model:{value:t.modalEditRestrictions,callback:function(e){t.modalEditRestrictions=e},expression:"modalEditRestrictions"}}),e("password-change-dialog",{attrs:{user:t.userToChangePassword},model:{value:t.modalChangePassword,callback:function(e){t.modalChangePassword=e},expression:"modalChangePassword"}}),e("user-edit-dialog",{attrs:{user:t.userToEdit},model:{value:t.modalEditUser,callback:function(e){t.modalEditUser=e},expression:"modalEditUser"}}),e("confirmation-dialog",{attrs:{title:t.$t("dialog.delete_user.dialog_title"),"body-html":t.$t("dialog.delete_user.warning_html",{name:t.userToDelete.email}),"confirm-text":t.$t("dialog.delete_user.confirm_delete",{name:t.userToDelete.email}),"button-confirm":t.$t("dialog.delete_user.button_confirm"),"button-confirm-color":"error"},on:{confirm:t.deleteUser},model:{value:t.modalDeleteUser,callback:function(e){t.modalDeleteUser=e},expression:"modalDeleteUser"}}),e("router-view")],1)},A=[],b=s(30089),y=s(21253),x=s(72710),I=s(92872),$=s(40005),S=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(I.A,{attrs:{"max-width":"450"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[e(b.A,[e(y.ri,[t._v(t._s(t.$t("dialog.edit_user.dialog_title")))]),e(y.OQ,[e(n.A,{attrs:{fluid:""}},[e(a.A,[e(i.A,[e("span",{staticClass:"text-subtitle-1"},[t._v(t._s(t.$t("dialog.edit_user.label_roles_for",{name:t.user.email})))])])],1),e(a.A,[e(i.A,t._l(t.userRoles,(function(s){return e(x.A,{key:s.value,attrs:{label:s.text,value:s.value,"hide-details":""},model:{value:t.roles,callback:function(e){t.roles=e},expression:"roles"}})})),1)],1)],1)],1),e(y.SL,[e($.A),e(c.A,{attrs:{text:""},on:{click:t.dialogCancel}},[t._v(t._s(t.$t("dialog.edit_user.button_cancel")))]),e(c.A,{attrs:{color:"primary"},on:{click:t.dialogConfirm}},[t._v(t._s(t.$t("dialog.edit_user.button_confirm"))+" ")])],1)],1)],1)},C=[],P=s(18499),k=s(52846),D=l.Ay.extend({name:"UserEditDialog",data:()=>({modal:!1,roles:[]}),props:{value:Boolean,user:{type:Object,required:!0}},watch:{value(t){this.modal=t},modal(t){!t&&this.dialogCancel()},user(t){this.dialogReset(t)}},computed:{userRoles(){return Object.keys(P.f).map((t=>({text:this.$t(`user_roles.${t}`),value:t})))},libraries(){return this.$store.state.komgaLibraries.libraries}},methods:{dialogReset(t){this.roles=t.roles},dialogCancel(){this.$emit("input",!1),this.dialogReset(this.user)},dialogConfirm(){this.editUser(),this.$emit("input",!1),this.dialogReset(this.user)},async editUser(){try{const t={roles:this.roles};await this.$store.dispatch("updateUser",{userId:this.user.id,patch:t})}catch(t){this.$eventHub.$emit(k.ff,{message:t.message})}}}}),T=D,E=s(81656),L=(0,E.A)(T,S,C,!1,null,"5ad1c300",null),R=L.exports,U=s(81737),B=s(50877),V=s(86315),M=s(75310),O=s(1361),F=s(68462),j=s(68069),N=s(75704),G=s(26702),H=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(I.A,{attrs:{fullscreen:t.$vuetify.breakpoint.xsOnly,"max-width":"600"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[e(b.A,[e(B.A,{ref:"form",model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[e(N.A,{staticClass:"hidden-sm-and-up"},[e(c.A,{attrs:{icon:""},on:{click:t.dialogCancel}},[e(u.A,[t._v("mdi-close")])],1),e(G.sw,[t._v(" "+t._s(t.$t("dialog.edit_user_restrictions.edit_restrictions_for",{name:t.user.email}))+" ")]),e($.A),e(G.MZ,[e(c.A,{attrs:{text:"",color:"primary",disabled:!t.form},on:{click:t.dialogConfirm}},[t._v(t._s(t.$t("common.save_changes")))])],1)],1),e(y.ri,{staticClass:"hidden-xs-only"},[t._v(" "+t._s(t.$t("dialog.edit_user_restrictions.edit_restrictions_for",{name:t.user.email}))+" ")]),e(F.A,{attrs:{grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(M.A,[t._v(t._s(t.$t("dialog.edit_user_restrictions.tab_shared_libraries")))]),e(M.A,[t._v(t._s(t.$t("dialog.edit_user_restrictions.tab_content_restrictions")))]),e(O.A,[e(b.A,{attrs:{flat:""}},[e(n.A,{staticClass:"pa-6",attrs:{fluid:""}},[e(a.A,[e(i.A,[e(x.A,{staticClass:"my-0 py-0",attrs:{label:t.$t("common.all_libraries"),"hide-details":""},model:{value:t.allLibraries,callback:function(e){t.allLibraries=e},expression:"allLibraries"}})],1)],1),e(h.A,{staticClass:"my-2"}),t._l(t.libraries,(function(s,n){return e(a.A,{key:n},[e(i.A,[e(x.A,{staticClass:"my-0 py-0",attrs:{label:s.name,value:s.id,disabled:t.allLibraries,"hide-details":""},model:{value:t.selectedLibraries,callback:function(e){t.selectedLibraries=e},expression:"selectedLibraries"}})],1)],1)}))],2)],1)],1),e(O.A,[e(b.A,{attrs:{flat:""}},[e(n.A,{staticClass:"pa-6",attrs:{fluid:""}},[e(a.A,{attrs:{align:"center"}},[e(i.A,[e(V.A,{attrs:{label:t.$t("dialog.edit_user_restrictions.label_age_restriction"),items:t.ageRestrictionsAvailable,filled:""},model:{value:t.ageRestriction,callback:function(e){t.ageRestriction=e},expression:"ageRestriction"}})],1),e(i.A,[e(j.A,{attrs:{disabled:t.ageRestriction===t.NONE,label:t.$t("common.age"),rules:[t.ageRules],filled:"",dense:"",type:"number"},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}})],1)],1),e(a.A,[e(i.A,{attrs:{cols:"12"}},[e("span",{staticClass:"text-body-2"},[t._v(t._s(t.$t("dialog.edit_user_restrictions.label_allow_only_labels")))]),e(U.A,{attrs:{items:t.sharingLabelsAvailable,"hide-selected":"",chips:"","deletable-chips":"",multiple:"",filled:"",dense:""},model:{value:t.labelsAllow,callback:function(e){t.labelsAllow=e},expression:"labelsAllow"}})],1)],1),e(a.A,[e(i.A,{attrs:{cols:"12"}},[e("span",{staticClass:"text-body-2"},[t._v(t._s(t.$t("dialog.edit_user_restrictions.label_exclude_labels")))]),e(U.A,{attrs:{items:t.sharingLabelsAvailable,"hide-selected":"",chips:"","deletable-chips":"",multiple:"",filled:"",dense:""},model:{value:t.labelsExclude,callback:function(e){t.labelsExclude=e},expression:"labelsExclude"}})],1)],1)],1)],1)],1)],1),e(y.SL,{staticClass:"hidden-xs-only"},[e($.A),e(c.A,{attrs:{text:""},on:{click:t.dialogCancel}},[t._v(t._s(t.$t("common.cancel")))]),e(c.A,{attrs:{color:"primary",disabled:!t.form},on:{click:t.dialogConfirm}},[t._v(t._s(t.$t("common.save_changes"))+" ")])],1)],1)],1)],1)},z=[];const q="NONE";var K=l.Ay.extend({name:"UserRestrictionsEditDialog",data:()=>({NONE:q,tab:0,form:!1,modal:!1,allLibraries:!0,selectedLibraries:[],labelsAllow:[],labelsExclude:[],sharingLabelsAvailable:[],ageRestriction:q,age:0}),props:{value:Boolean,user:{type:Object,required:!0}},watch:{value(t){this.modal=t},modal(t){t?this.loadAvailableSharingLabels():this.dialogCancel()},user(t){this.dialogReset(t),this.loadAvailableSharingLabels()}},computed:{libraries(){return this.$store.state.komgaLibraries.libraries},ageRestrictionsAvailable(){return[{text:this.$t("dialog.edit_user_restrictions.age_restriction.none").toString(),value:q},{text:this.$t("dialog.edit_user_restrictions.age_restriction.allow_under").toString(),value:P.s.ALLOW_ONLY},{text:this.$t("dialog.edit_user_restrictions.age_restriction.exclude_over").toString(),value:P.s.EXCLUDE}]}},methods:{async loadAvailableSharingLabels(){this.sharingLabelsAvailable=await this.$komgaReferential.getSharingLabels()},ageRules(t){return!(t<0)||this.$t("validation.zero_or_more").toString()},dialogReset(t){var e,s,i;null===(e=this.$refs.form)||void 0===e||e.resetValidation(),this.tab=0,this.allLibraries=t.sharedAllLibraries,t.sharedAllLibraries?this.selectedLibraries=this.libraries.map((t=>t.id)):this.selectedLibraries=t.sharedLibrariesIds,this.labelsAllow=t.labelsAllow,this.labelsExclude=t.labelsExclude,this.ageRestriction=(null===(s=t.ageRestriction)||void 0===s?void 0:s.restriction)||q,this.age=(null===(i=t.ageRestriction)||void 0===i?void 0:i.age)||0},dialogCancel(){this.$emit("input",!1),this.dialogReset(this.user)},dialogConfirm(){this.editUser(),this.$emit("input",!1),this.dialogReset(this.user)},async editUser(){try{if(!this.$refs.form.validate())return;const t={sharedLibraries:{all:this.allLibraries,libraryIds:this.selectedLibraries},labelsAllow:this.labelsAllow,labelsExclude:this.labelsExclude};this.ageRestriction!==q?t.ageRestriction={age:this.age,restriction:this.ageRestriction}:this.$_.merge(t,{ageRestriction:null}),await this.$store.dispatch("updateUser",{userId:this.user.id,patch:t})}catch(t){this.$eventHub.$emit(k.ff,{message:t.message})}}}}),W=K,Z=(0,E.A)(W,H,z,!1,null,"2d48556b",null),Q=Z.exports,Y=s(92997),X=s(32837),J=l.Ay.extend({name:"UsersList",components:{ConfirmationDialog:X.A,UserRestrictionsEditDialog:Q,UserEditDialog:R,PasswordChangeDialog:Y.A},data:()=>({UserRoles:P.f,modalAddUser:!1,modalDeleteUser:!1,userToDelete:{},modalEditRestrictions:!1,userToEditRestrictions:{},modalEditUser:!1,userToEdit:{},modalChangePassword:!1,userToChangePassword:{},usersLastActivity:{}}),computed:{users(){return this.$store.state.komgaUsers.users},me(){return this.$store.state.komgaUsers.me}},watch:{users(t){t.forEach((t=>{this.$komgaUsers.getLatestAuthenticationActivityForUser(t.id).then((e=>this.$set(this.usersLastActivity,`${t.id}`,e.dateTime))).catch((t=>{}))}))}},async mounted(){await this.$store.dispatch("getAllUsers")},methods:{promptDeleteUser(t){this.userToDelete=t,this.modalDeleteUser=!0},editRestrictions(t){this.userToEditRestrictions=t,this.modalEditRestrictions=!0},editUser(t){this.userToEdit=t,this.modalEditUser=!0},changeUserPassword(t){this.userToChangePassword=t,this.modalChangePassword=!0},async deleteUser(){try{await this.$store.dispatch("deleteUser",this.userToDelete)}catch(t){this.$eventHub.$emit(k.ff,{message:t.message})}}}}),tt=J,et=(0,E.A)(tt,_,A,!1,null,"4ed360af",null),st=et.exports,it=l.Ay.extend({name:"SettingsUsers",components:{UsersList:st,AuthenticationActivityTable:d.A}}),nt=it,at=(0,E.A)(nt,r,o,!1,null,"b1e1ef1c",null),rt=at.exports},29:function(){},28597:function(t,e,s){s(29);var i=s(86315),n=s(68069),a=s(20910),r=s(69463);const o={...i.v,offsetY:!0,offsetOverflow:!0,transition:!1};e.A=i.A.extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(t,e,s)=>s.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:i.A.options.props.menuProps.type,default:()=>o},noFilter:Boolean,searchInput:{type:String}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...i.A.options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map((t=>this.getValue(t)))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some((t=>!this.hasItem(t))):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((t=>{const e=(0,r.TD)(t,this.itemText),s=null!=e?String(e):"";return this.filter(t,String(this.internalSearch),s)}))},internalSearch:{get(){return this.lazySearch},set(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const t=i.A.options.computed.$_menuProps.call(this);return t.contentClass=`v-autocomplete__content ${t.contentClass||""}`.trim(),{...o,...t}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find((t=>this.valueComparator(this.getValue(t),this.getValue(this.internalValue))))},listData(){const t=i.A.options.computed.listData.call(this);return t.props={...t.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive(t){!t&&this.hasSlot&&(this.lazySearch=null)},items(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(t,e){if(t!==e){if(!this.autoSelectFirst){const s=e[this.$refs.menu.listIndex];s?this.setMenuIndex(t.findIndex((t=>t===s))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((()=>{this.internalSearch&&(1===t.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.autoSelectFirst&&t.length&&(this.setMenuIndex(0),this.$emit("update:list-index",this.$refs.menu.listIndex)))}))}},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(t){this.searchIsDirty||(this.multiple&&t===r.uP.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===r.uP.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==r.uP.backspace&&t!==r.uP.delete||this.deleteCurrentItem())},deleteCurrentItem(){const t=this.selectedIndex,e=this.selectedItems[t];if(!this.isInteractive||this.getDisabled(e))return;const s=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==s)return void(this.selectedIndex=s);const i=this.selectedItems.length,n=t!==i-1?t:t-1,a=this.selectedItems[n];a?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=n},clearableCallback(){this.internalSearch=null,i.A.options.methods.clearableCallback.call(this)},genInput(){const t=n.A.options.methods.genInput.call(this);return t.data=(0,a.Ay)(t.data,{attrs:{"aria-activedescendant":(0,r.no)(this.$refs.menu,"activeTile.id"),autocomplete:(0,r.no)(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot(){const t=i.A.options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections(){return this.hasSlot||this.multiple?i.A.options.methods.genSelections.call(this):[]},onClick(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput(t){if(this.selectedIndex>-1||!t.target)return;const e=t.target,s=e.value;e.value&&this.activateMenu(),this.multiple||""!==s||this.deleteCurrentItem(),this.internalSearch=s,this.badInput=e.validity&&e.validity.badInput},onKeyDown(t){const e=t.keyCode;!t.ctrlKey&&[r.uP.home,r.uP.end].includes(e)||i.A.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown(t){},onTabDown(t){i.A.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown(t){t.preventDefault(),this.activateMenu()},selectItem(t){i.A.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems(){i.A.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick((()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))}))},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy(t){var e,s;if(-1===this.selectedIndex)return;const i=this.selectedItems[this.selectedIndex],n=this.getText(i);null===(e=t.clipboardData)||void 0===e||e.setData("text/plain",n),null===(s=t.clipboardData)||void 0===s||s.setData("text/vnd.vuetify.autocomplete.item+plain",n),t.preventDefault()}}})},81737:function(t,e,s){s(29);var i=s(86315),n=s(28597),a=s(69463);e.A=n.A.extend({name:"v-combobox",props:{delimiters:{type:Array,default:()=>[]},returnObject:{type:Boolean,default:!0}},data:()=>({editingIndex:-1}),computed:{computedCounterValue(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot(){return i.A.options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed(){return!0},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)},searchIsDirty(){return null!=this.internalSearch}},methods:{onInternalSearchChanged(t){if(t&&this.multiple&&this.delimiters.length){const e=this.delimiters.find((e=>t.endsWith(e)));null!=e&&(this.internalSearch=t.slice(0,t.length-e.length),this.updateTags())}this.updateMenuDimensions()},genInput(){const t=n.A.options.methods.genInput.call(this);return delete t.data.attrs.name,t.data.on.paste=this.onPaste,t},genChipSelection(t,e){const s=i.A.options.methods.genChipSelection.call(this,t,e);return this.multiple&&(s.componentOptions.listeners={...s.componentOptions.listeners,dblclick:()=>{this.editingIndex=e,this.internalSearch=this.getText(t),this.selectedIndex=-1}}),s},onChipInput(t){i.A.options.methods.onChipInput.call(this,t),this.editingIndex=-1},onEnterDown(t){t.preventDefault(),this.getMenuIndex()>-1||this.$nextTick(this.updateSelf)},onKeyDown(t){const e=t.keyCode;!t.ctrlKey&&[a.uP.home,a.uP.end].includes(e)||i.A.options.methods.onKeyDown.call(this,t),this.multiple&&e===a.uP.left&&0===this.$refs.input.selectionStart?this.updateSelf():e===a.uP.enter&&this.onEnterDown(t),this.changeSelectedIndex(e)},onTabDown(t){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return t.preventDefault(),t.stopPropagation(),this.updateTags();n.A.options.methods.onTabDown.call(this,t)},selectItem(t){this.editingIndex>-1?this.updateEditing():(n.A.options.methods.selectItem.call(this,t),this.internalSearch&&this.multiple&&this.getText(t).toLocaleLowerCase().includes(this.internalSearch.toLocaleLowerCase())&&(this.internalSearch=null))},setSelectedItems(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue(t){i.A.options.methods.setValue.call(this,void 0===t?this.internalSearch:t)},updateEditing(){const t=this.internalValue.slice(),e=this.selectedItems.findIndex((t=>this.getText(t)===this.internalSearch));if(e>-1){const s="object"===typeof t[e]?Object.assign({},t[e]):t[e];t.splice(e,1),t.push(s)}else t[this.editingIndex]=this.internalSearch;this.setValue(t),this.editingIndex=-1,this.internalSearch=null},updateCombobox(){if(!this.searchIsDirty)return;this.internalSearch!==this.getText(this.internalValue)&&this.setValue();const t=Boolean(this.$scopedSlots.selection)||this.hasChips;t&&(this.internalSearch=null)},updateSelf(){this.multiple?this.updateTags():this.updateCombobox()},updateTags(){const t=this.getMenuIndex();if(t<0&&!this.searchIsDirty||!this.internalSearch)return;if(this.editingIndex>-1)return this.updateEditing();const e=this.selectedItems.findIndex((t=>this.internalSearch===this.getText(t))),s=e>-1&&"object"===typeof this.selectedItems[e]?Object.assign({},this.selectedItems[e]):this.internalSearch;if(e>-1){const t=this.internalValue.slice();t.splice(e,1),this.setValue(t)}if(t>-1)return this.internalSearch=null;this.selectItem(s),this.internalSearch=null},onPaste(t){var e;if(this.$emit("paste",t),!this.multiple||this.searchIsDirty)return;const s=null===(e=t.clipboardData)||void 0===e?void 0:e.getData("text/vnd.vuetify.autocomplete.item+plain");s&&-1===this.findExistingIndex(s)&&(t.preventDefault(),i.A.options.methods.selectItem.call(this,s))},clearableCallback(){this.editingIndex=-1,n.A.options.methods.clearableCallback.call(this)}}})},22369:function(t,e,s){s(40125);var i=s(85471),n=s(20910),a=s(69463);const r=["sm","md","lg","xl"],o=["start","end","center"];function l(t,e){return r.reduce(((s,i)=>(s[t+(0,a.Zb)(i)]=e(),s)),{})}const d=t=>[...o,"baseline","stretch"].includes(t),c=l("align",(()=>({type:String,default:null,validator:d}))),h=t=>[...o,"space-between","space-around"].includes(t),u=l("justify",(()=>({type:String,default:null,validator:h}))),m=t=>[...o,"space-between","space-around","stretch"].includes(t),p=l("alignContent",(()=>({type:String,default:null,validator:m}))),g={align:Object.keys(c),justify:Object.keys(u),alignContent:Object.keys(p)},f={align:"align",justify:"justify",alignContent:"align-content"};function v(t,e,s){let i=f[t];if(null!=s){if(e){const s=e.replace(t,"");i+=`-${s}`}return i+=`-${s}`,i.toLowerCase()}}const w=new Map;e.A=i.Ay.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d},...c,justify:{type:String,default:null,validator:h},...u,alignContent:{type:String,default:null,validator:m},...p},render(t,{props:e,data:s,children:i}){let a="";for(const n in e)a+=String(e[n]);let r=w.get(a);if(!r){let t;for(t in r=[],g)g[t].forEach((s=>{const i=e[s],n=v(t,s,i);n&&r.push(n)}));r.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),w.set(a,r)}return t(e.tag,(0,n.Ay)(s,{staticClass:"row",class:r}),i)}})},26702:function(t,e,s){s.d(e,{MZ:function(){return r},sw:function(){return a}});var i=s(75704),n=s(69463);const a=(0,n.Gn)("v-toolbar__title"),r=(0,n.Gn)("v-toolbar__items");i.A},94475:function(t,e,s){s.d(e,{A:function(){return o}});var i=s(3080),n=s(39945),a=s(54582),r=s(94095),o=r.C.extend({name:"v-window",directives:{Touch:i.A},provide(){return{windowGroup:this}},props:{activeClass:{type:String,default:"v-window-item--active"},continuous:Boolean,mandatory:{type:Boolean,default:!0},nextIcon:{type:[Boolean,String],default:"$next"},prevIcon:{type:[Boolean,String],default:"$prev"},reverse:Boolean,showArrows:Boolean,showArrowsOnHover:Boolean,touch:Object,touchless:Boolean,value:{required:!1},vertical:Boolean},data(){return{changedByDelimiters:!1,internalHeight:void 0,transitionHeight:void 0,transitionCount:0,isBooted:!1,isReverse:!1}},computed:{isActive(){return this.transitionCount>0},classes(){return{...r.C.options.computed.classes.call(this),"v-window--show-arrows-on-hover":this.showArrowsOnHover}},computedTransition(){if(!this.isBooted)return"";const t=this.vertical?"y":"x",e=this.internalReverse?!this.isReverse:this.isReverse,s=e?"-reverse":"";return`v-window-${t}${s}-transition`},hasActiveItems(){return Boolean(this.items.find((t=>!t.disabled)))},hasNext(){return this.continuous||this.internalIndex<this.items.length-1},hasPrev(){return this.continuous||this.internalIndex>0},internalIndex(){return this.items.findIndex(((t,e)=>this.internalValue===this.getValue(t,e)))},internalReverse(){return this.$vuetify.rtl?!this.reverse:this.reverse}},watch:{internalIndex(t,e){this.isReverse=this.updateReverse(t,e)}},mounted(){window.requestAnimationFrame((()=>this.isBooted=!0))},methods:{genDefaultSlot(){return this.$slots.default},genContainer(){const t=[this.genDefaultSlot()];return this.showArrows&&t.push(this.genControlIcons()),this.$createElement("div",{staticClass:"v-window__container",class:{"v-window__container--is-active":this.isActive},style:{height:this.internalHeight||this.transitionHeight}},t)},genIcon(t,e,s){var i,r,o;const l={click:t=>{t.stopPropagation(),this.changedByDelimiters=!0,s()}},d={"aria-label":this.$vuetify.lang.t(`$vuetify.carousel.${t}`)},c=null!==(o=null===(r=(i=this.$scopedSlots)[t])||void 0===r?void 0:r.call(i,{on:l,attrs:d}))&&void 0!==o?o:[this.$createElement(n.A,{props:{icon:!0},attrs:d,on:l},[this.$createElement(a.A,{props:{large:!0}},e)])];return this.$createElement("div",{staticClass:`v-window__${t}`},c)},genControlIcons(){const t=[],e=this.$vuetify.rtl?this.nextIcon:this.prevIcon;if(this.hasPrev&&e&&"string"===typeof e){const s=this.genIcon("prev",e,this.prev);s&&t.push(s)}const s=this.$vuetify.rtl?this.prevIcon:this.nextIcon;if(this.hasNext&&s&&"string"===typeof s){const e=this.genIcon("next",s,this.next);e&&t.push(e)}return t},getNextIndex(t){const e=(t+1)%this.items.length,s=this.items[e];return s.disabled?this.getNextIndex(e):e},getPrevIndex(t){const e=(t+this.items.length-1)%this.items.length,s=this.items[e];return s.disabled?this.getPrevIndex(e):e},next(){if(!this.hasActiveItems||!this.hasNext)return;const t=this.getNextIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)},prev(){if(!this.hasActiveItems||!this.hasPrev)return;const t=this.getPrevIndex(this.internalIndex),e=this.items[t];this.internalValue=this.getValue(e,t)},updateReverse(t,e){const s=this.items.length,i=s-1;return s<=2?t<e:t===i&&0===e||(0!==t||e!==i)&&t<e}},render(t){const e={staticClass:"v-window",class:this.classes,directives:[]};if(!this.touchless){const t=this.touch||{left:()=>{this.$vuetify.rtl?this.prev():this.next()},right:()=>{this.$vuetify.rtl?this.next():this.prev()},end:t=>{t.stopPropagation()},start:t=>{t.stopPropagation()}};e.directives.push({name:"touch",value:t})}return t("div",e,[this.genContainer()])}})},62802:function(t,e,s){var i=s(84969),n=s(24568),a=s(3080),r=s(69463),o=s(72006);const l=(0,o.A)(i.A,(0,n.P)("windowGroup","v-window-item","v-window"));e.A=l.extend().extend().extend({name:"v-window-item",directives:{Touch:a.A},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=(0,r.Dg)(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(t){this.inTransition&&this.$nextTick((()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=(0,r.Dg)(t.clientHeight))}))}},render(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent((()=>[this.genWindowItem()])))}})},64274:function(t,e,s){var i=s(85471);e.A=i.Ay.extend({name:"ssr-bootable",data:()=>({isBooted:!1}),mounted(){window.requestAnimationFrame((()=>{this.$el.setAttribute("data-booted","true"),this.isBooted=!0}))}})}}]);
//# sourceMappingURL=settings-users.6e5f76fb.js.map