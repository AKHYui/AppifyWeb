"use strict";(self["webpackChunkkomga_webui"]=self["webpackChunkkomga_webui"]||[]).push([[5732],{96146:function(t,e,o){o.r(e),o.d(e,{default:function(){return f}});var s=o(73847),i=o(15137),r=o(70793),n=o(19292),a=o(16684),l=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(r.A,{staticClass:"pa-6",attrs:{fluid:""}},[e(n.A,{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.books,options:t.options,"server-items-length":t.totalBooks,loading:t.loading,"sort-by":"fileHash","multi-sort":"","show-group-by":"","group-by":"fileHash","footer-props":{itemsPerPageOptions:[20,50,100]}},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.url",fn:function({item:o}){return[e("router-link",{attrs:{to:{name:o.oneshot?"browse-oneshot":"browse-book",params:{bookId:o.id,seriesId:o.seriesId}}}},[t._v(" "+t._s(o.url)+" ")])]}},{key:"item.deleted",fn:function({item:o}){return[o.deleted?e(i.A,{attrs:{label:"",small:"",color:"error"}},[t._v(" "+t._s(t.$t("common.unavailable"))+" ")]):t._e()]}},{key:"item.id",fn:function({item:o}){return[e(s.A,{attrs:{icon:"",color:"error"},on:{click:function(e){return t.promptDeleteBook(o)}}},[e(a.A,[t._v("mdi-trash-can-outline")])],1)]}},{key:"footer.prepend",fn:function(){return[e(s.A,{attrs:{icon:""},on:{click:t.loadBooks}},[e(a.A,[t._v("mdi-refresh")])],1)]},proxy:!0}])})],1)},u=[],d=(o(28743),o(85471)),p=d.Ay.extend({name:"DuplicateFiles",data:function(){return{books:[],totalBooks:0,loading:!0,options:{}}},watch:{options:{handler(){this.loadBooks()},deep:!0}},computed:{headers(){return[{text:this.$i18n.t("duplicates.file_hash").toString(),value:"fileHash"},{text:this.$i18n.t("duplicates.url").toString(),value:"url",groupable:!1},{text:this.$i18n.t("duplicates.size").toString(),value:"size",groupable:!1},{text:"",value:"deleted",groupable:!1,sortable:!1},{text:this.$i18n.t("menu.delete").toString(),value:"id",groupable:!1}]}},methods:{async loadBooks(){this.loading=!0;const{sortBy:t,sortDesc:e,page:o,itemsPerPage:s}=this.options,i={page:o-1,size:s,sort:[]};for(let n=0;n<t.length;n++)i.sort.push(`${t[n]},${e[n]?"desc":"asc"}`);const r=await this.$komgaBooks.getDuplicateBooks(i);this.totalBooks=r.totalElements,this.books=r.content,this.loading=!1},promptDeleteBook(t){this.$store.dispatch("dialogDeleteBook",t)}}}),c=p,h=o(81656),k=(0,h.A)(c,l,u,!1,null,"747324b3",null),f=k.exports}}]);
//# sourceMappingURL=duplicate-files.f3a2daa5.js.map