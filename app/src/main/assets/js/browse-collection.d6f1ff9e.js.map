{"version":3,"file":"js/browse-collection.d6f1ff9e.js","mappings":"0QAA6ZA,EAAM,W,IAAC,OAAU,aAAO,EAAO,kB,OAACC,EAAAA,WAAY,qDAAo7C,OAAp7C,8D,MAAC,CAAoB,2BAA8EC,EAAAA,KAAY,sEAA4B,YAAY,OAA2HF,MAAM,CAAC,MAAO,KAAIG,CAAE,EAAC,Q,YAASC,CAAqB,uBAAoBJ,CAAAA,EAAK,GAAC,0D,YAAU,6BAAG,2GAACK,MAAAA,CAAqBC,KAAI,I,GAA0BH,CAAG,MAAE,sB,CAAkE,OAAC,MAAG,CAAyBI,OAAS,I,YAAqH,OAAG,gBAAG,GAAC,aAAC,IAAgC,MAAC,OAAY,wCAACP,IAAO,MAAQ,EAAC,aAAG,+FAACK,MAAAA,CAAqBC,KAAI,I,GAA0BH,CAAG,MAAE,mB,CAA2D,OAAC,MAAG,CAAyBI,OAAS,I,YAAwHC,EAAAA,GAAAA,CAAS,CAACC,IAAAA,Y,GAAyBL,UAAY,GAAK,IAAsB,8CAAIG,IAAYP,MAAM,e,CAAC,SAAO,4FAAE,MAAC,CAAG,MAAC,WAAC,SAAQ,SAASU,GAAQN,EAAIO,SAAUP,CAAU,EAAC,yBAAiBJ,EAAK,IAAC,C,MAAC,CAA2C,SAA2EA,GAAAA,CAAO,MAAO,SAAQ,GAAC,UAAeY,EAAAA,MAAiB,IAAsBT,CAAE,EAAC,K,MAAC,C,MAAoCU,EAAAA,aAAmB,iB,CAAE,8BAA6B,6B,MAAI,CAA4B,KAAC,SAAC,SAAW,EAAI,iBAAkB,kBAAkBC,I,GAA2D,CAAoC,eAAWC,SAAAA,GAAmB,iBAAaC,EAAa,EAACC,aAAM,YAACC,EAAK,eAAML,EAAe,MAACJ,E,YAA6BI,EAAAA,iBAAkB,cAAC,qBAACM,oBAAW,kBAAgB,kCAAIZ,KAAG,qBAAyBP,OAAM,gBAAmB,OAAKI,MAAIgB,EAAAA,eAAmCpB,SAAM,YAAC,iBAAa,CAAC,EAAc,+BAAgBA,EAAK,KAAC,C,MAAC,CAAU,qB,CAAK,eAAYqB,EAAAA,iBAAAA,CAAkB,OAAId,UAAY,EAAuCP,MAAM,S,CAAW,MAAQ,C,MAAU,CAAmC,S,GAAK,CAA0B,6BAAgFA,CAAAA,EAAK,IAAC,gC,MAAC,CAAgC,QAAG,MAAC,UAAC,SAAYsB,IAAD,EAACA,OAAAA,QAAcjB,GAAAA,CAAqBC,MAAI,mB,GAAwB,IAAQC,CAAAA,EAAG,mBAAc,qC,MAACP,C,eAAO,gB,UAAyE,gB,YAA4C,EAACuB,GAAAA,CAAO,C,kCAAkDnB,CAAAA,EAAImB,cAAc,C,MAAA,CAAC,sCAAI,4BAAEC,GAAM,CAAM,mCAAK,UAAQ,CAAI,EAAW,wBAA2B,YAACxB,EAAM,SAAC,K,SAA2E,G,kCAAqGI,CAAAA,EAAImB,gBAAc,C,MAAA,CAAC,uCAAI,4BAAEC,GAAM,CAAW,uBAAiB,YAAO,WAAM,EAAcf,wBAAwB,YAAKE,EAAM,QAAI,CAAC,KAAwBJ,EAAkBP,OAAM,IAAC,MAAO,EAAC,WAAE,OAAKI,MAAIqB,EAAAA,OAAoCzB,SAAM,YAAC,SAAc,CAA6B,EAA+D,WAAO,YAA4C,OAAE,MAAK,CAAW,MAAC,KAAyB,mCAAE,MAAM0B,CAA0F1B,MAAM,iCAAC,cAAgBI,GAAG,4CAAmB,KAAQ,oBAAgB,2B,CAAQc,EAAAA,EAAAA,EAAOd,C,GAAUK,C,MAA6BkB,EAAKC,e,CAAKT,EAAAA,GAAAA,EAAU,GAAC,4DAAM,OAAG,gBAAa,oBAAgBnB,OAAM,c,MAAoB,CAA8B,aAA+D,kBAAgBoB,GAAuC,OAAYhB,CAAiB,EAAG,WAAC,U,EAAoC,KAACyB,EAAM,eAAO,C,MAAC,CAAC,e,SAAuChB,EAAAA,eAAqB,oDAAC,+CAAKT,UAAIqB,EAAa,c,GAA6B,CAAsC,eAAaA,SAAAA,GAAW,UAACR,EAAOC,kBAAgB,YAACT,EAAAA,eAAsB,C,KAAiBU,EAAAA,WAAW,SAAM,OAAG,gBAAe,EAAG,kBAC/8I,qBAGD,MAASW,C,oVC+BT,EAAeC,EAAAA,GAAIC,OAAO,CACxBC,KAAM,mBACNC,WAAY,CACVC,eAAc,IACdC,cAAa,IACbC,YAAW,IACXC,sBAAqB,IACrBC,eAAc,IACdC,aAAY,IACZC,aAAY,IACZC,WAAU,IACVC,WAAUA,EAAAA,GAEZC,KAAM,WACJ,MAAO,CACLC,gBAAYC,EACZjB,OAAQ,GACRkB,WAAY,GACZlC,eAAgB,GAChBc,KAAM,EACNnB,SAAU,GACVwC,SAAS,EACTvB,WAAY,EACZwB,cAAe,KACf7B,cAAc,EACdG,QAAS,CAAC,EACV2B,cAAe,KACfC,YAAa,KACbC,gBAAiB,KACjBzC,QAAQ,EACR0C,cAAe,CACbC,QAAS,GACTC,MAAO,GACPC,IAAK,GACLC,UAAW,GACXC,SAAU,GACVC,UAAW,GACXC,YAAa,IAGnB,EACAC,MAAO,CACLC,aAAc,CACZC,KAAMC,OACNC,UAAU,IAGdC,OAAAA,GACEC,KAAKC,UAAUC,IAAIC,EAAAA,GAAoBH,KAAKI,mBAC5CJ,KAAKC,UAAUC,IAAIG,EAAAA,GAAoBL,KAAKM,mBAC5CN,KAAKC,UAAUC,IAAIK,EAAAA,EAAgBP,KAAKQ,eACxCR,KAAKC,UAAUC,IAAIO,EAAAA,GAAgBT,KAAKQ,eACxCR,KAAKC,UAAUC,IAAIQ,EAAAA,GAA6BV,KAAKW,qBACrDX,KAAKC,UAAUC,IAAIU,EAAAA,GAA6BZ,KAAKW,oBACvD,EACAE,aAAAA,GACEb,KAAKC,UAAUa,KAAKX,EAAAA,GAAoBH,KAAKI,mBAC7CJ,KAAKC,UAAUa,KAAKT,EAAAA,GAAoBL,KAAKM,mBAC7CN,KAAKC,UAAUa,KAAKP,EAAAA,EAAgBP,KAAKQ,eACzCR,KAAKC,UAAUa,KAAKL,EAAAA,GAAgBT,KAAKQ,eACzCR,KAAKC,UAAUa,KAAKJ,EAAAA,GAA6BV,KAAKW,qBACtDX,KAAKC,UAAUa,KAAKF,EAAAA,GAA6BZ,KAAKW,oBACxD,EACA,aAAMI,GACJf,KAAK3D,SAAW2D,KAAKgB,OAAOC,MAAMC,eAAeC,kBAAoBnB,KAAK3D,eAGpE2D,KAAKoB,YAAYpB,KAAKqB,OAAQrB,KAAKL,cACrCK,KAAKqB,OAAOC,MAAM9D,OAAMwC,KAAKxC,KAAO+D,OAAOvB,KAAKqB,OAAOC,MAAM9D,OAC7DwC,KAAKqB,OAAOC,MAAMjF,WAAU2D,KAAK3D,SAAWkF,OAAOvB,KAAKqB,OAAOC,MAAMjF,WAEzE2D,KAAKwB,eAAexB,KAAKL,cAEzBK,KAAKyB,YACP,EACA,uBAAMC,CAAkBC,EAAIC,EAAMC,GAC5BF,EAAGG,OAAOnC,eAAiBiC,EAAKE,OAAOnC,eACzCK,KAAK+B,qBAGC/B,KAAKoB,YAAYpB,KAAKqB,OAAQM,EAAGG,OAAOnC,cAC9CK,KAAKxC,KAAO,EACZwC,KAAK1C,WAAa,EAClB0C,KAAKlB,cAAgB,KACrBkB,KAAKtC,OAAS,GACdsC,KAAK/C,cAAe,EAEpB+C,KAAKwB,eAAeG,EAAGG,OAAOnC,cAE9BK,KAAKyB,cAGPI,GACF,EACAG,SAAU,CACRC,iBAAAA,GACE,OAAQjC,KAAKkC,SAASC,WAAWrE,MAC/B,IAAK,KACH,OAAO,EACT,IAAK,KACL,IAAK,KACH,OAAO,GACT,IAAK,KACL,IAAK,KACL,QACE,OAAO,GAEb,EACAsE,iBAAAA,GACE,MAAO,CACLC,WAAY,CACVC,OAAQ,CACN,CAACxE,KAAMkC,KAAKuC,MAAMC,EAAE,iBAAiBC,WAAY1F,MAAO2F,EAAAA,GAAWC,QACnE,CAAC7E,KAAMkC,KAAK4C,GAAG,sBAAsBH,WAAY1F,MAAO2F,EAAAA,GAAWG,aACnE,CAAC/E,KAAMkC,KAAK4C,GAAG,eAAeH,WAAY1F,MAAO2F,EAAAA,GAAWI,QAGhEC,SAAU,CACRT,OAAQ,CAAC,CAACxE,KAAMkC,KAAK4C,GAAG,mBAAmBH,WAAY1F,MAAO,OAAQiG,OAAQ,WAGpF,EACAC,kBAAAA,GACE,MAAMC,EAAI,CACR/D,QAAS,CAACrB,KAAMkC,KAAK4C,GAAG,kBAAkBH,WAAYH,OAAQtC,KAAKd,cAAcC,SACjFgE,OAAQ,CAACrF,KAAMkC,KAAK4C,GAAG,iBAAiBH,WAAYH,QAAQc,EAAAA,EAAAA,MAC5DhE,MAAO,CAACtB,KAAMkC,KAAK4C,GAAG,gBAAgBH,WAAYH,OAAQtC,KAAKd,cAAcE,OAC7EC,IAAK,CAACvB,KAAMkC,KAAK4C,GAAG,cAAcH,WAAYH,OAAQtC,KAAKd,cAAcG,KACzEC,UAAW,CAACxB,KAAMkC,KAAK4C,GAAG,oBAAoBH,WAAYH,OAAQtC,KAAKd,cAAcI,WACrFC,SAAU,CAACzB,KAAMkC,KAAK4C,GAAG,mBAAmBH,WAAYH,OAAQtC,KAAKd,cAAcK,UACnFC,UAAW,CACT1B,KAAMkC,KAAK4C,GAAG,qBAAqBH,WACnCH,OAAQtC,KAAKd,cAAcM,UAAU6D,KAAKC,IAAY,CAClDxF,KAAmB,SAAZwF,EAAEvG,MAAmBiD,KAAK4C,GAAG,0BAA0BH,WAAaa,EAAExF,KAC7Ef,MAAOuG,EAAEvG,WAIf0C,YAAa,CAAC3B,KAAMkC,KAAK4C,GAAG,uBAAuBH,WAAYH,OAAQtC,KAAKd,cAAcO,cAY5F,OAVA8D,EAAAA,EAAYC,SAASC,IACnBP,EAAEO,GAAQ,CACR3F,KAAMkC,KAAK4C,GAAG,gBAAgBa,KAAQhB,WACtCiB,OAAQC,gBACQ3D,KAAK4D,kBAAkBC,WAAWH,EAAQD,OAAM9E,EAAWqB,KAAKL,eAC3EmE,QACAT,KAAIC,GAAKA,EAAExF,OAEjB,IAEIoF,CACT,EACAa,OAAAA,GACE,OAAO/D,KAAKgB,OAAOgD,QAAQC,OAC7B,EACAC,YAAAA,GACE,OAAOC,OAAOC,KAAKpE,KAAK5C,SAASiH,MAAKf,GAAgC,IAA3BtD,KAAK5C,QAAQkG,GAAGgB,QAC7D,EACA7H,gBAAAA,GACE,OAAOuD,KAAKtD,eAAe6H,OAAMC,GAAKA,EAAEC,SAC1C,GAEFC,QAAS,CACPvH,YAAAA,GACE6C,KAAKxD,QAAS,EACd,IAAK,MAAMmI,KAAQ3E,KAAK5C,QACtB4C,KAAK4E,KAAK5E,KAAK5C,QAASuH,EAAM,IAEhC3E,KAAKgB,OAAO6D,OAAO,sBAAuB,CAACC,GAAI9E,KAAKL,aAAcoF,OAAQ/E,KAAK5C,UAC/E4C,KAAKgF,sBACP,EACA,iBAAM5D,CAAY6D,EAAYtF,GAE5BK,KAAK4E,KAAK5E,KAAKd,cAAe,UAAWc,KAAKgB,OAAOC,MAAMiE,eAAeC,UAAU9B,KAAKC,IAAa,CACpGxF,KAAMwF,EAAExF,KACRf,MAAOuG,EAAEwB,QAGX,MAAOM,EAAQC,EAAMC,EAAYC,EAAWC,EAAYC,SAAsBC,QAAQC,IAAI,CACxF3F,KAAK4D,kBAAkBgC,eAAUjH,EAAWgB,GAC5CK,KAAK4D,kBAAkBiC,0BAAqBlH,EAAWgB,GACvDK,KAAK4D,kBAAkBkC,mBAAcnH,EAAWgB,GAChDK,KAAK4D,kBAAkBmC,kBAAapH,EAAWgB,GAC/CK,KAAK4D,kBAAkBoC,mBAAcrH,EAAWgB,GAChDK,KAAK4D,kBAAkBqC,2BAAsBtH,EAAWgB,KAU1D,IAAIuG,EARJlG,KAAK4E,KAAK5E,KAAKd,cAAe,SAASiH,EAAAA,EAAAA,IAAYf,IACnDpF,KAAK4E,KAAK5E,KAAKd,cAAe,OAAOiH,EAAAA,EAAAA,IAAYd,IACjDrF,KAAK4E,KAAK5E,KAAKd,cAAe,aAAaiH,EAAAA,EAAAA,IAAYb,IACvDtF,KAAK4E,KAAK5E,KAAKd,cAAe,WAAaqG,GAC3CvF,KAAK4E,KAAK5E,KAAKd,cAAe,aAAaiH,EAAAA,EAAAA,IAAYX,IACvDxF,KAAK4E,KAAK5E,KAAKd,cAAe,eAAeiH,EAAAA,EAAAA,IAAYV,IAIrDR,EAAM3D,MAAM6B,QAAU8B,EAAM3D,MAAMe,YAAc4C,EAAM3D,MAAMlC,OAAS6F,EAAM3D,MAAMjC,KAAO4F,EAAM3D,MAAM/B,UAAY0F,EAAM3D,MAAM9B,WAAayF,EAAM3D,MAAMnC,SAAW8F,EAAM3D,MAAMhC,WAAaiE,EAAAA,EAAYc,MAAKZ,GAAQA,KAAQwB,EAAM3D,SAAU2D,EAAM3D,MAAMyB,UACxPmD,EAAgB,CACd/C,OAAQ8B,EAAM3D,MAAM6B,QAAU,GAC9Bd,WAAY4C,EAAM3D,MAAMe,YAAc,GACtClD,QAAS8F,EAAM3D,MAAMnC,SAAW,GAChCC,MAAO6F,EAAM3D,MAAMlC,OAAS,GAC5BC,IAAK4F,EAAM3D,MAAMjC,KAAO,GACxBC,UAAW2F,EAAM3D,MAAMhC,WAAa,GACpCC,SAAU0F,EAAM3D,MAAM/B,UAAY,GAClCC,UAAWyF,EAAM3D,MAAM9B,WAAa,GACpCC,YAAawF,EAAM3D,MAAM7B,aAAe,GACxCsD,SAAUkC,EAAM3D,MAAMyB,UAAY,IAEpCQ,EAAAA,EAAYC,SAASC,IACnByC,EAAczC,GAAQwB,EAAM3D,MAAMmC,IAAS,EAAE,KAG/CyC,EAAgBlG,KAAKgB,OAAOgD,QAAQoC,oBAAoBnB,EAAMnD,OAAOnC,eAAiB,CAAC,EAEzFK,KAAK5C,QAAU4C,KAAKqG,gBAAgBH,EACtC,EACAG,eAAAA,CAAgBjJ,GAAsB,IAAAkJ,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EACpC,MAAMC,EAAc,CAClB7D,QAAsB,QAAdmD,EAAAlJ,EAAQ+F,cAAM,IAAAmD,OAAA,EAAdA,EAAgBvB,QAAOzB,GAAKa,OAAOC,KAAK6C,EAAAA,GAAcC,SAAS5D,OAAO,GAC9EjB,YAA8B,QAAlBkE,EAAAnJ,EAAQiF,kBAAU,IAAAkE,OAAA,EAAlBA,EAAoBxB,QAAOzB,GAAKa,OAAOC,KAAK1B,EAAAA,IAAYwE,SAAS5D,OAAO,GACpFnE,SAAwB,QAAfqH,EAAApJ,EAAQ+B,eAAO,IAAAqH,OAAA,EAAfA,EAAiBzB,QAAOzB,GAAKtD,KAAKd,cAAcC,QAAQkE,KAAI8D,GAAKA,EAAEpK,QAAOmK,SAAS5D,OAAO,GACnGlE,OAAoB,QAAbqH,EAAArJ,EAAQgC,aAAK,IAAAqH,OAAA,EAAbA,EAAe1B,QAAOzB,GAAKtD,KAAKd,cAAcE,MAAMiE,KAAI8D,GAAKA,EAAEpK,QAAOmK,SAAS5D,OAAO,GAC7FjE,KAAgB,QAAXqH,EAAAtJ,EAAQiC,WAAG,IAAAqH,OAAA,EAAXA,EAAa3B,QAAOzB,GAAKtD,KAAKd,cAAcG,IAAIgE,KAAI8D,GAAKA,EAAEpK,QAAOmK,SAAS5D,OAAO,GACvFhE,WAA4B,QAAjBqH,EAAAvJ,EAAQkC,iBAAS,IAAAqH,OAAA,EAAjBA,EAAmB5B,QAAOzB,GAAKtD,KAAKd,cAAcI,UAAU+D,KAAI8D,GAAKA,EAAEpK,QAAOmK,SAAS5D,OAAO,GACzG/D,UAA0B,QAAhBqH,EAAAxJ,EAAQmC,gBAAQ,IAAAqH,OAAA,EAAhBA,EAAkB7B,QAAOzB,GAAKtD,KAAKd,cAAcK,SAAS8D,KAAI8D,GAAKA,EAAEpK,QAAOmK,SAAS5D,OAAO,GACtG9D,WAA4B,QAAjBqH,EAAAzJ,EAAQoC,iBAAS,IAAAqH,OAAA,EAAjBA,EAAmB9B,QAAOzB,GAAKtD,KAAKd,cAAcM,UAAU6D,KAAI8D,GAAKA,EAAEpK,QAAOmK,SAAS5D,OAAO,GACzG7D,aAAgC,QAAnBqH,EAAA1J,EAAQqC,mBAAW,IAAAqH,OAAA,EAAnBA,EAAqB/B,QAAOzB,GAAKtD,KAAKd,cAAcO,YAAY4D,KAAI8D,GAAKA,EAAEpK,QAAOmK,SAAS5D,OAAO,GAC/GP,UAA0B,QAAhBgE,EAAA3J,EAAQ2F,gBAAQ,IAAAgE,OAAA,EAAhBA,EAAkBhC,QAAOzB,GAAW,SAANA,GAAsB,UAANA,MAAkB,IAK5E,OAHAC,EAAAA,EAAYC,SAASC,IACnBuD,EAAYvD,GAAQrG,EAAQqG,IAAS,EAAE,IAElCuD,CACT,EACAvF,UAAAA,GACEzB,KAAKjB,cAAgBiB,KAAKoH,OAAO,WAAYC,IAC3CrH,KAAKgB,OAAO6D,OAAO,sBAAuB,CAACC,GAAI9E,KAAKL,aAAcoF,OAAQsC,IAC1ErH,KAAKgF,sBAAsB,IAE7BhF,KAAKf,gBAAkBe,KAAKoH,OAAO,YAAaC,IAC9CrH,KAAKgB,OAAO6D,OAAO,sBAAuBwC,GAC1CrH,KAAKgF,sBAAsB,IAG7BhF,KAAKhB,YAAcgB,KAAKoH,OAAO,QAASC,IACtCrH,KAAKsH,cACLtH,KAAKuH,SAASvH,KAAKL,aAAc0H,EAAI,GAEzC,EACAtF,YAAAA,GACE/B,KAAKjB,gBACLiB,KAAKhB,cACLgB,KAAKf,iBACP,EACAmB,iBAAAA,CAAkBoH,GACZA,EAAM7H,eAAiBK,KAAKL,cAC9BK,KAAKwB,eAAexB,KAAKL,aAE7B,EACAW,iBAAAA,CAAkBkH,GACZA,EAAM7H,eAAiBK,KAAKL,cAC9BK,KAAKyH,QAAQC,KAAK,CAAC5J,KAAM,qBAAsBgE,OAAQ,CAAC6F,UAAWC,EAAAA,IAEvE,EACA5C,oBAAAA,GACEhF,KAAK+B,eAEL/B,KAAKxC,KAAO,EAEZwC,KAAKsH,cACLtH,KAAKuH,SAASvH,KAAKL,aAAcK,KAAKxC,MAEtCwC,KAAKyB,YACP,EACA,cAAM8F,CAAS5H,EAAsBnC,GACnCwC,KAAKtD,eAAiB,GAEtB,MAAMmL,EAAc,CAClBrK,KAAMA,EAAO,EACbsK,KAAM9H,KAAK3D,SACXwC,QAASmB,KAAKnB,SAGhB,IAAIkJ,EAAgB,GACpBxE,EAAAA,EAAYC,SAASC,IACfA,KAAQzD,KAAK5C,SAAS4C,KAAK5C,QAAQqG,GAAMD,SAAS1F,GAAiBiK,EAAcL,KAAK,CACxF5J,KAAMA,EACN2F,KAAMA,KACL,IAGL,MAAMV,GAAWiF,EAAAA,EAAAA,GAAmBhI,KAAK5C,QAAQ2F,UAC3CkF,QAAmBjI,KAAKkI,kBAAkBC,UAAUxI,EAAckI,EAAa7H,KAAK5C,QAAQ+B,QAASa,KAAK5C,QAAQ+F,OAAQnD,KAAK5C,QAAQiF,WAAYrC,KAAK5C,QAAQgC,MAAOY,KAAK5C,QAAQiC,IAAKW,KAAK5C,QAAQmC,SAAUS,KAAK5C,QAAQkC,UAAWU,KAAK5C,QAAQoC,UAAWQ,KAAK5C,QAAQqC,YAAasI,EAAehF,GAE/S/C,KAAK1C,WAAa2K,EAAW3K,WAC7B0C,KAAKlB,cAAgBmJ,EAAWnJ,cAChCkB,KAAKtC,OAASuK,EAAWnE,QAEzB9D,KAAKtC,OAAO8F,SAASF,GAAiBA,EAAE8E,QAAU,CAACC,OAAQC,EAAAA,EAAcC,WAAYzD,GAAInF,KACzFK,KAAKpB,WAAa,IAAIoB,KAAKtC,QAC3BsC,KAAKtD,eAAiB,EACxB,EACA8L,YAAYC,EAAAA,EAAAA,WAAS,WACnBzI,KAAKuH,SAASvH,KAAKL,aAAcK,KAAKxC,KACxC,GAAG,KACH,oBAAMgE,CAAe7B,GACnBK,KAAKkI,kBAAkBQ,iBAAiB/I,GACrCgJ,MAAKC,IACJ5I,KAAKtB,WAAakK,EAClBC,SAASC,MAAQ,WAAWF,EAAE9K,MAAM,UAGlCkC,KAAKuH,SAAS5H,EAAcK,KAAKxC,KACzC,EACA8J,WAAAA,GACE,MAAMyB,EAAM,CACVjL,KAAMkC,KAAKqB,OAAOvD,KAClBgE,OAAQ,CAACnC,aAAcK,KAAKqB,OAAOS,OAAOnC,cAC1C2B,MAAO,CACL9D,KAAM,GAAGwC,KAAKxC,OACdnB,SAAU,GAAG2D,KAAK3D,cAGtB2M,EAAAA,EAAAA,IAAkBhJ,KAAK5C,QAAS2L,EAAIzH,OACpCtB,KAAKyH,QAAQwB,QAAQF,GAAKG,OAAOC,OAEnC,EACA,sBAAMC,CAAiB1L,GACrB,GAAIA,EAAO+G,QAAS,CAClB,MAAM4E,SAAcrJ,KAAKsJ,YAAYC,aAAa,CAChDC,UAAW,IAAIC,EAAAA,GAAwB,IAAIC,EAAAA,GAAiBhM,EAAOoH,QACnDhB,QAAQ,GAC1B9D,KAAKgB,OAAO2I,SAAS,uBAAwB,CAACjM,OAAQA,EAAQ2L,KAAMA,G,MAEpErJ,KAAKgB,OAAO2I,SAAS,qBAAsBjM,EAC/C,EACA,wBAAMd,GACJ,GAAIoD,KAAKtD,eAAe6H,OAAMC,GAAKA,EAAEC,UAAU,CAC7C,MAAMmF,QAAclE,QAAQC,IAAI3F,KAAKtD,eAAe2G,KAAImB,GAAKxE,KAAKsJ,YAAYC,aAAa,CACzFC,UAAW,IAAIC,EAAAA,GAAwB,IAAIC,EAAAA,GAAiBlF,EAAEM,UAE1D+E,EAAW7J,KAAKtD,eAAe2G,KAAI,CAACmB,EAAGsF,KAAU,CAAEpM,OAAQ8G,EAAG6E,KAAMO,EAAME,GAAOhG,QAAQ,OAC/F9D,KAAKgB,OAAO2I,SAAS,uBAAwBE,E,MAE7C7J,KAAKgB,OAAO2I,SAAS,qBAAsB3J,KAAKtD,eACpD,EACAG,YAAAA,GACEmD,KAAKgB,OAAO2I,SAAS,qBAAsB3J,KAAKtD,eAClD,EACA,sBAAMqN,SACErE,QAAQC,IAAI3F,KAAKtD,eAAe2G,KAAImB,GACxCxE,KAAKgK,aAAaC,WAAWzF,EAAEM,OAEjC9E,KAAKtD,eAAiB,EACxB,EACA,wBAAMC,SACE+I,QAAQC,IAAI3F,KAAKtD,eAAe2G,KAAImB,GACxCxE,KAAKgK,aAAaE,aAAa1F,EAAEM,OAEnC9E,KAAKtD,eAAiB,EACxB,EACAyN,eAAAA,GACEnK,KAAKgB,OAAO2I,SAAS,8BAA+B3J,KAAKtD,eAAe2G,KAAImB,GAAKA,EAAEM,KACrF,EACA,mBAAMsF,GACJ,MAAMC,EAAarK,KAAKtD,eAAe2G,KAAImB,GAAK,IAAIiF,EAAAA,GAAwB,IAAIC,EAAAA,GAAiBlF,EAAEM,OAC7F8E,QAAc5J,KAAKsJ,YAAYC,aAAa,CAChDC,UAAW,IAAIc,EAAAA,GAAyBD,IACzB,CAACxL,SAAS,IAC3BmB,KAAKgB,OAAO2I,SAAS,2BAA4BC,EAAM9F,QAAQT,KAAIkH,GAAKA,EAAEzF,KAC5E,EACA,uBAAM0F,GACJxK,KAAK5C,QAAU,CAAC,EAChB4C,KAAKnB,SAAU,QACTmB,KAAKwI,aACXxI,KAAK/C,cAAe,CACtB,EACAC,kBAAAA,GACE8C,KAAK/C,cAAe,EACpB+C,KAAKtC,OAAS,IAAIsC,KAAKpB,YACvBoB,KAAKnB,SAAU,EACfmB,KAAKwI,YACP,EACAiC,cAAAA,GACEzK,KAAK/C,cAAe,EACpB,MAAMyN,EAAS,CACbC,UAAW3K,KAAKtC,OAAO2F,KAAIC,GAAKA,EAAEwB,MAEpC9E,KAAKkI,kBAAkB0C,gBAAgB5K,KAAKL,aAAc+K,GAC1D1K,KAAKnB,SAAU,EACfmB,KAAKwI,YACP,EACAqC,cAAAA,GACE7K,KAAKgB,OAAO2I,SAAS,uBAAwB3J,KAAKtB,WACpD,EACA8B,aAAAA,CAAcgH,GACRxH,KAAKtC,OAAO2G,MAAKG,GAAKA,EAAEM,KAAO0C,EAAMsD,YAAW9K,KAAKwI,YAC3D,EACA7H,mBAAAA,CAAoB6G,GACdxH,KAAKtC,OAAO2G,MAAKkG,GAAKA,EAAEzF,KAAO0C,EAAMsD,YAAW9K,KAAKwI,YAC3D,KCnbkS,I,WCOlSuC,GAAY,OACd,EACApN,EACAqN,GACA,EACA,KACA,KACA,MAIF,EAAeD,EAAiB,O,wFClBhC,MAAME,EAAW,CAAC,MAAO,QAEnB,SAAUC,EAAeC,EAAgBC,GAC7C,IAAIC,EAAa,KACjB,GAAIF,EAAW,CACb,MAAMG,EAAQH,EAAUG,MAAM,KACT,IAAjBA,EAAMhH,QAAgB8G,EAAY/H,KAAIC,GAAKA,EAAEnH,MAAK+K,SAASoE,EAAM,KAAOL,EAAS/D,SAASoE,EAAM,MAClGD,EAAa,CAAClP,IAAKmP,EAAM,GAAIC,MAAOD,EAAM,I,CAG9C,OAAOD,CACT,CAEM,SAAUrD,EAAmB1F,GACjC,GAAKA,GAA4B,IAAlBA,EAAOgC,OACtB,MAAuC,SAAnChC,EAAO,GAAGkJ,OAAOC,eACkB,UAAnCnJ,EAAO,GAAGkJ,OAAOC,oBAArB,CAEF,C,wBClBO,IAAKnD,E,gCAAZ,SAAYA,GACVA,EAAA,mBACAA,EAAA,uBACAA,EAAA,qBACAA,EAAA,0BACD,CALD,CAAYA,IAAAA,EAAa,I,mFCEbrB,E,WAON,SAAU7D,IACd,OAAOe,OAAO7B,OAAO2E,GAAc5D,KAAIC,IAAK,CAC1CxF,KAAM4N,EAAAA,EAAKlJ,EAAE,uBAAuBc,KACpCvG,MAAOuG,KAEX,EAZA,SAAY2D,GACVA,EAAA,iBACAA,EAAA,qBACAA,EAAA,yBACAA,EAAA,kBACD,EALD,CAAYA,IAAAA,EAAY,I,wBCDxB,IAAI0E,EAAuB,gBACvBC,EAAQ,EAAQ,OAChBC,EAAc,EAAQ,OAEtBC,EAAM,MAIVC,EAAOC,QAAU,SAAUC,GACzB,OAAOL,GAAM,WACX,QAASC,EAAYI,MAChBH,EAAIG,OAAmBH,GACtBH,GAAwBE,EAAYI,GAAanO,OAASmO,CAClE,GACF,C,wBCdA,IAAIC,EAAc,EAAQ,OACtBC,EAAyB,EAAQ,OACjC1J,EAAW,EAAQ,OACnBoJ,EAAc,EAAQ,OAEtB5C,EAAUiD,EAAY,GAAGjD,SACzBmD,EAAQC,OAAO,KAAOR,EAAc,MACpCS,EAAQD,OAAO,QAAUR,EAAc,MAAQA,EAAc,OAG7DU,EAAe,SAAUC,GAC3B,OAAO,SAAUC,GACf,IAAIC,EAASjK,EAAS0J,EAAuBM,IAG7C,OAFW,EAAPD,IAAUE,EAASzD,EAAQyD,EAAQN,EAAO,KACnC,EAAPI,IAAUE,EAASzD,EAAQyD,EAAQJ,EAAO,OACvCI,CACT,CACF,EAEAX,EAAOC,QAAU,CAGfW,MAAOJ,EAAa,GAGpBK,IAAKL,EAAa,GAGlBf,KAAMe,EAAa,G,oBC3BrBR,EAAOC,QAAU,+C,wBCDjB,IAAIa,EAAI,EAAQ,OACZC,EAAQ,cACRC,EAAyB,EAAQ,OAIrCF,EAAE,CAAEG,OAAQ,SAAUC,OAAO,EAAMC,OAAQH,EAAuB,SAAW,CAC3EvB,KAAM,WACJ,OAAOsB,EAAM9M,KACf,G,uECRF,EAAemN,EAAQ,E,sBCMvB,EAAe,KAAItP,SAASA,OAAO,CACjCC,KAAM,cACN4B,MAAO,CACL0N,YAAaC,QACbC,aAAczN,OACd0N,eAAgB,CAAChM,OAAQ1B,SAG3B,IAAApB,GACE,MAAO,CACL+O,eAAgB,EAChBC,QAAS,KAEb,EAEAC,MAAO,CACL,WAAAN,CAAYrQ,GACLiD,KAAK2N,WACN5Q,EAAOiD,KAAK4N,gBAAqB5N,KAAK6N,aAC5C,GAIF,aAAAhN,GACEb,KAAK4N,eACP,EAEAlJ,QAAS,CACP,aAAAoJ,GACE,MAAML,EAAU,IAAI,EAAS,CAC3BM,UAAW,CACTC,SAAUhO,KAAKgO,SACfjR,OAAO,EACPkR,MAAOjO,KAAKsN,aACZY,QAASlO,KAAKuN,kBAGlBE,EAAQU,SACR,MAAMC,EAASpO,KAAKgO,SAAWhO,KAAKqO,IAAIC,WAAazF,SAAS0F,cAAc,cAC5EH,GAAUA,EAAOI,aAAaf,EAAQY,IAAKD,EAAOK,YAClDzO,KAAKyN,QAAUA,CACjB,EAEA,UAAAI,GAEE,GADA7N,KAAK0O,cACD1O,KAAKoN,YAaT,OAZKpN,KAAKyN,SAASzN,KAAK8N,gBACxB9N,KAAKwN,eAAiBmB,uBAAsB,KACrC3O,KAAKyN,eAEgB9O,IAAtBqB,KAAK4O,aACP5O,KAAKyN,QAAQoB,OAAShP,OAAOG,KAAK4O,aAAe,GACxC5O,KAAKqO,MACdrO,KAAKyN,QAAQoB,QAAS,QAAU7O,KAAKqO,MAGvCrO,KAAKyN,QAAQ1Q,OAAQ,EAAI,KAEpB,CACT,EAGA,aAAA6Q,CAAckB,GAAa,GACrB9O,KAAKyN,WACP,QAAqBzN,KAAKyN,QAAQY,IAAK,iBAAiB,KACjDrO,KAAKyN,SAAYzN,KAAKyN,QAAQY,KAAQrO,KAAKyN,QAAQY,IAAIC,aAActO,KAAKyN,QAAQ1Q,QAASiD,KAAK2N,WACrG3N,KAAKyN,QAAQY,IAAIC,WAAWS,YAAY/O,KAAKyN,QAAQY,KACrDrO,KAAKyN,QAAQuB,WACbhP,KAAKyN,QAAU,KAAI,IAKrBwB,qBAAqBjP,KAAKwN,gBAC1BxN,KAAKyN,QAAQ1Q,OAAQ,GAGvB+R,GAAc9O,KAAK8O,YACrB,EAEA,cAAAI,CAAeC,GACb,GAAI,QAASA,EAAG,CACd,GAAI,CAAC,QAAS,WAAY,UAAUjI,SAASiI,EAAEnC,OAAOoC,UACtDD,EAAEnC,OAAOqC,kBAAmB,OAC5B,MAAMC,EAAK,CAAC,KAASA,GAAI,KAASC,QAC5BC,EAAO,CAAC,KAASA,KAAM,KAASC,UAEtC,GAAIH,EAAGpI,SAASiI,EAAEO,SAChBP,EAAEQ,QAAU,MACP,KAAIH,EAAKtI,SAASiI,EAAEO,SAGzB,OAFAP,EAAEQ,OAAS,CAGb,CACF,EAEIR,EAAEnC,SAAWhN,KAAKyN,SAAsB,YAAX0B,EAAEvP,MAAsBuP,EAAEnC,SAAWnE,SAAS+G,MAAQ5P,KAAK6P,UAAUV,KAAIA,EAAEW,gBAC9G,EAEA,YAAAC,CAAaC,GACX,IAAKA,GAAMA,EAAGC,WAAaC,KAAKC,aAAc,OAAO,EACrD,MAAMC,EAAQC,OAAOC,iBAAiBN,GACtC,OAAQ,CAAC,OAAQ,UAAU9I,SAASkJ,EAAMG,YAA6B,WAAfP,EAAGZ,UAAyBY,EAAGQ,aAAeR,EAAGS,cAAgB,CAAC,OAAQ,UAAUvJ,SAASkJ,EAAMM,YAAcV,EAAGW,YAAcX,EAAGY,WAC/L,EAEA,YAAAC,CAAab,EAAIb,GACf,GAAIa,EAAGc,aAAa,YAAa,OAAO,EACxC,MAAMC,EAAM5B,EAAE6B,UAAY7B,EAAE8B,OAAS,IAAM,IACrCC,EAAgB,MAARH,EAAc5B,EAAEQ,OAASR,EAAE8B,QAAU9B,EAAEQ,OACrD,IAAIwB,EACAC,EAEQ,MAARL,GACFI,EAAkC,IAAjBnB,EAAGqB,UACpBD,EAAepB,EAAGqB,UAAYrB,EAAGS,eAAiBT,EAAGQ,eAErDW,EAAmC,IAAlBnB,EAAGsB,WACpBF,EAAepB,EAAGsB,WAAatB,EAAGY,cAAgBZ,EAAGW,aAGvD,MAAMY,EAAcL,EAAQ,EACtBM,EAAgBN,EAAQ,EAC9B,QAAKC,IAAkBI,OAClBH,IAAgBI,OAEhBL,IAAkBC,IAAiBpB,EAAG1B,aAClCtO,KAAK6Q,aAAab,EAAG1B,WAAYa,GAI5C,EAEA,QAAAsC,CAASzB,EAAI5B,GACX,OAAI4B,IAAO5B,GAEO,OAAP4B,GAAeA,IAAOnH,SAAS+G,MAGjC5P,KAAKyR,SAASzB,EAAG1B,WAAYF,EAExC,EAEA,SAAAyB,CAAUV,GACR,MAAMuC,GAAO,QAAavC,GAE1B,GAAe,YAAXA,EAAEvP,MAAsB8R,EAAK,KAAO7I,SAAS+G,KAAM,CACrD,MAAM+B,EAAS3R,KAAK4R,MAAMD,OAEpBE,EAAWxB,OAAOyB,eAAeC,WAEvC,QAAIJ,GAAU3R,KAAK+P,aAAa4B,IAAW3R,KAAKyR,SAASI,EAAUF,MACzD3R,KAAK6Q,aAAac,EAAQxC,EAItC,CAEA,IAAK,IAAIrF,EAAQ,EAAGA,EAAQ4H,EAAKpN,OAAQwF,IAAS,CAChD,MAAMkG,EAAK0B,EAAK5H,GAChB,GAAIkG,IAAOnH,SAAU,OAAO,EAC5B,GAAImH,IAAOnH,SAASmJ,gBAAiB,OAAO,EAC5C,GAAIhC,IAAOhQ,KAAK4R,MAAM9N,QAAS,OAAO,EACtC,GAAI9D,KAAK+P,aAAaC,GAAK,OAAQhQ,KAAK6Q,aAAab,EAAIb,EAC3D,CAEA,OAAO,CACT,EAEA,UAAAT,GACM1O,KAAKkC,SAASC,WAAW8P,UAC3BpJ,SAASmJ,gBAAgBE,UAAUC,IAAI,uBAEvC,QAAwB9B,OAAQ,QAASrQ,KAAKkP,eAAgB,CAC5DkD,SAAS,IAEX/B,OAAOgC,iBAAiB,UAAWrS,KAAKkP,gBAE5C,EAEA,UAAAJ,GACEjG,SAASmJ,gBAAgBE,UAAUI,OAAO,qBAC1CjC,OAAOkC,oBAAoB,QAASvS,KAAKkP,gBACzCmB,OAAOkC,oBAAoB,UAAWvS,KAAKkP,eAC7C,I","sources":["webpack://komga-webui/./src/views/BrowseCollection.vue","webpack://komga-webui/./src/views/BrowseCollection.vue?e948","webpack://komga-webui/./src/views/BrowseCollection.vue?507a","webpack://komga-webui/./src/views/BrowseCollection.vue?7a4c","webpack://komga-webui/./src/functions/query-params.ts","webpack://komga-webui/./src/types/context.ts","webpack://komga-webui/./src/types/enum-series.ts","webpack://komga-webui/./node_modules/core-js/internals/string-trim-forced.js","webpack://komga-webui/./node_modules/core-js/internals/string-trim.js","webpack://komga-webui/./node_modules/core-js/internals/whitespaces.js","webpack://komga-webui/./node_modules/core-js/modules/es.string.trim.js","webpack://komga-webui/./node_modules/vuetify/lib/components/VOverlay/index.js","webpack://komga-webui/./node_modules/vuetify/lib/mixins/overlayable/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.collection)?_c('div',[(!_vm.editElements && _vm.selectedSeries.length === 0)?_c('toolbar-sticky',[(_vm.collection)?_c('collection-actions-menu',{attrs:{\"collection\":_vm.collection}}):_vm._e(),(_vm.collection)?_c('v-toolbar-title',[_c('span',[_vm._v(_vm._s(_vm.collection.name))]),_c('v-chip',{staticClass:\"mx-4\",attrs:{\"label\":\"\"}},[_c('span',{staticStyle:{\"font-size\":\"1.1rem\"}},[_vm._v(_vm._s(_vm.totalElements))])]),(_vm.collection.ordered)?_c('span',{staticClass:\"font-italic text-overline\"},[_vm._v(\"(\"+_vm._s(_vm.$t('browse_collection.manual_ordering'))+\")\")]):_vm._e()],1):_vm._e(),_c('v-spacer'),(_vm.isAdmin)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.startEditElements}},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({},on),[_vm._v(\"mdi-playlist-edit\")])]}}],null,false,1014130452)},[_c('span',[_vm._v(_vm._s(_vm.$t('browse_collection.edit_elements')))])])],1):_vm._e(),(_vm.isAdmin)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.editCollection}},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-icon',_vm._g({},on),[_vm._v(\"mdi-pencil\")])]}}],null,false,1783139550)},[_c('span',[_vm._v(_vm._s(_vm.$t('browse_collection.edit_collection')))])])],1):_vm._e(),_c('page-size-select',{model:{value:(_vm.pageSize),callback:function ($$v) {_vm.pageSize=$$v},expression:\"pageSize\"}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.drawer = !_vm.drawer}}},[_c('v-icon',{attrs:{\"color\":_vm.filterActive ? 'secondary' : ''}},[_vm._v(\"mdi-filter-variant\")])],1)],1):_vm._e(),_c('multi-select-bar',{attrs:{\"kind\":\"series\",\"oneshots\":_vm.selectedOneshots,\"show-select-all\":\"\"},on:{\"unselect-all\":function($event){_vm.selectedSeries = []},\"select-all\":function($event){_vm.selectedSeries = _vm.series},\"mark-read\":_vm.markSelectedRead,\"mark-unread\":_vm.markSelectedUnread,\"add-to-collection\":_vm.addToCollection,\"add-to-readlist\":_vm.addToReadList,\"edit\":_vm.editMultipleSeries,\"delete\":_vm.deleteSeries},model:{value:(_vm.selectedSeries),callback:function ($$v) {_vm.selectedSeries=$$v},expression:\"selectedSeries\"}}),_c('v-scroll-y-transition',{attrs:{\"hide-on-leave\":\"\"}},[(_vm.editElements)?_c('toolbar-sticky',{attrs:{\"elevation\":5,\"color\":\"base\"}},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.cancelEditElements}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"primary\",\"disabled\":_vm.series.length === 0},on:{\"click\":_vm.doEditElements}},[_c('v-icon',[_vm._v(\"mdi-check\")])],1)],1):_vm._e()],1),_c('filter-drawer',{attrs:{\"clear-button\":_vm.filterActive},on:{\"clear\":_vm.resetFilters},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('filter-list',{attrs:{\"filters-options\":_vm.filterOptionsList,\"filters-active\":_vm.filters},on:{\"update:filtersActive\":function($event){_vm.filters=$event},\"update:filters-active\":function($event){_vm.filters=$event}}})]},proxy:true},{key:\"filter\",fn:function(){return [_c('filter-panels',{attrs:{\"filters-options\":_vm.filterOptionsPanel,\"filters-active\":_vm.filters},on:{\"update:filtersActive\":function($event){_vm.filters=$event},\"update:filters-active\":function($event){_vm.filters=$event}}})]},proxy:true}],null,false,457844017),model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}}),_c('v-container',{attrs:{\"fluid\":\"\"}},[(_vm.totalPages === 0)?_c('empty-state',{attrs:{\"title\":_vm.$t('common.filter_no_matches'),\"sub-title\":_vm.$t('common.use_filter_panel_to_change_filter'),\"icon\":\"mdi-book-multiple\",\"icon-color\":\"secondary\"}},[_c('v-btn',{on:{\"click\":_vm.resetFilters}},[_vm._v(_vm._s(_vm.$t('common.reset_filters')))])],1):[(_vm.totalPages > 1)?_c('v-pagination',{attrs:{\"total-visible\":_vm.paginationVisible,\"length\":_vm.totalPages},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}):_vm._e(),_c('item-browser',{attrs:{\"items\":_vm.series,\"selected\":_vm.selectedSeries,\"edit-function\":_vm.isAdmin ? _vm.editSingleSeries : undefined,\"draggable\":_vm.editElements && _vm.collection.ordered,\"deletable\":_vm.editElements},on:{\"update:items\":function($event){_vm.series=$event},\"update:selected\":function($event){_vm.selectedSeries=$event}}}),(_vm.totalPages > 1)?_c('v-pagination',{attrs:{\"total-visible\":_vm.paginationVisible,\"length\":_vm.totalPages},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}):_vm._e()]],2)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport CollectionActionsMenu from '@/components/menus/CollectionActionsMenu.vue'\nimport ItemBrowser from '@/components/ItemBrowser.vue'\nimport ToolbarSticky from '@/components/bars/ToolbarSticky.vue'\nimport {\n  COLLECTION_CHANGED,\n  COLLECTION_DELETED,\n  READPROGRESS_SERIES_CHANGED,\n  READPROGRESS_SERIES_DELETED,\n  SERIES_CHANGED,\n  SERIES_DELETED,\n} from '@/types/events'\nimport Vue from 'vue'\nimport MultiSelectBar from '@/components/bars/MultiSelectBar.vue'\nimport {LIBRARIES_ALL} from '@/types/library'\nimport {ReadStatus} from '@/types/enum-books'\nimport {SeriesStatus, SeriesStatusKeyValue} from '@/types/enum-series'\nimport {mergeFilterParams, toNameValue} from '@/functions/filter'\nimport FilterDrawer from '@/components/FilterDrawer.vue'\nimport FilterPanels from '@/components/FilterPanels.vue'\nimport FilterList from '@/components/FilterList.vue'\nimport {Location} from 'vue-router'\nimport EmptyState from '@/components/EmptyState.vue'\nimport {Oneshot, SeriesDto} from '@/types/komga-series'\nimport {authorRoles} from '@/types/author-roles'\nimport {AuthorDto} from '@/types/komga-books'\nimport {CollectionSseDto, ReadProgressSeriesSseDto, SeriesSseDto} from '@/types/komga-sse'\nimport {throttle} from 'lodash'\nimport {LibraryDto} from '@/types/komga-libraries'\nimport {parseBooleanFilter} from '@/functions/query-params'\nimport {ContextOrigin} from '@/types/context'\nimport PageSizeSelect from '@/components/PageSizeSelect.vue'\nimport {BookSearch, SearchConditionAnyOfBook, SearchConditionSeriesId, SearchOperatorIs} from '@/types/komga-search'\nimport {FiltersActive, FiltersOptions, NameValue} from '@/types/filter'\n\nexport default Vue.extend({\n  name: 'BrowseCollection',\n  components: {\n    PageSizeSelect,\n    ToolbarSticky,\n    ItemBrowser,\n    CollectionActionsMenu,\n    MultiSelectBar,\n    FilterDrawer,\n    FilterPanels,\n    FilterList,\n    EmptyState,\n  },\n  data: function () {\n    return {\n      collection: undefined as CollectionDto | undefined,\n      series: [] as SeriesDto[],\n      seriesCopy: [] as SeriesDto[],\n      selectedSeries: [] as SeriesDto[],\n      page: 1,\n      pageSize: 20,\n      unpaged: false,\n      totalPages: 1,\n      totalElements: null as number | null,\n      editElements: false,\n      filters: {} as FiltersActive,\n      filterUnwatch: null as any,\n      pageUnwatch: null as any,\n      pageSizeUnwatch: null as any,\n      drawer: false,\n      filterOptions: {\n        library: [] as NameValue[],\n        genre: [] as NameValue[],\n        tag: [] as NameValue[],\n        publisher: [] as NameValue[],\n        language: [] as NameValue[],\n        ageRating: [] as NameValue[],\n        releaseDate: [] as NameValue[],\n      },\n    }\n  },\n  props: {\n    collectionId: {\n      type: String,\n      required: true,\n    },\n  },\n  created() {\n    this.$eventHub.$on(COLLECTION_CHANGED, this.collectionChanged)\n    this.$eventHub.$on(COLLECTION_DELETED, this.collectionDeleted)\n    this.$eventHub.$on(SERIES_CHANGED, this.seriesChanged)\n    this.$eventHub.$on(SERIES_DELETED, this.seriesChanged)\n    this.$eventHub.$on(READPROGRESS_SERIES_CHANGED, this.readProgressChanged)\n    this.$eventHub.$on(READPROGRESS_SERIES_DELETED, this.readProgressChanged)\n  },\n  beforeDestroy() {\n    this.$eventHub.$off(COLLECTION_CHANGED, this.collectionChanged)\n    this.$eventHub.$off(COLLECTION_DELETED, this.collectionDeleted)\n    this.$eventHub.$off(SERIES_CHANGED, this.seriesChanged)\n    this.$eventHub.$off(SERIES_DELETED, this.seriesChanged)\n    this.$eventHub.$off(READPROGRESS_SERIES_CHANGED, this.readProgressChanged)\n    this.$eventHub.$off(READPROGRESS_SERIES_DELETED, this.readProgressChanged)\n  },\n  async mounted() {\n    this.pageSize = this.$store.state.persistedState.browsingPageSize || this.pageSize\n\n    // restore from query param\n    await this.resetParams(this.$route, this.collectionId)\n    if (this.$route.query.page) this.page = Number(this.$route.query.page)\n    if (this.$route.query.pageSize) this.pageSize = Number(this.$route.query.pageSize)\n\n    this.loadCollection(this.collectionId)\n\n    this.setWatches()\n  },\n  async beforeRouteUpdate(to, from, next) {\n    if (to.params.collectionId !== from.params.collectionId) {\n      this.unsetWatches()\n\n      // reset\n      await this.resetParams(this.$route, to.params.collectionId)\n      this.page = 1\n      this.totalPages = 1\n      this.totalElements = null\n      this.series = []\n      this.editElements = false\n\n      this.loadCollection(to.params.collectionId)\n\n      this.setWatches()\n    }\n\n    next()\n  },\n  computed: {\n    paginationVisible(): number {\n      switch (this.$vuetify.breakpoint.name) {\n        case 'xs':\n          return 5\n        case 'sm':\n        case 'md':\n          return 10\n        case 'lg':\n        case 'xl':\n        default:\n          return 15\n      }\n    },\n    filterOptionsList(): FiltersOptions {\n      return {\n        readStatus: {\n          values: [\n            {name: this.$i18n.t('filter.unread').toString(), value: ReadStatus.UNREAD},\n            {name: this.$t('filter.in_progress').toString(), value: ReadStatus.IN_PROGRESS},\n            {name: this.$t('filter.read').toString(), value: ReadStatus.READ},\n          ],\n        },\n        complete: {\n          values: [{name: this.$t('filter.complete').toString(), value: 'true', nValue: 'false'}],\n        },\n      } as FiltersOptions\n    },\n    filterOptionsPanel(): FiltersOptions {\n      const r = {\n        library: {name: this.$t('filter.library').toString(), values: this.filterOptions.library},\n        status: {name: this.$t('filter.status').toString(), values: SeriesStatusKeyValue()},\n        genre: {name: this.$t('filter.genre').toString(), values: this.filterOptions.genre},\n        tag: {name: this.$t('filter.tag').toString(), values: this.filterOptions.tag},\n        publisher: {name: this.$t('filter.publisher').toString(), values: this.filterOptions.publisher},\n        language: {name: this.$t('filter.language').toString(), values: this.filterOptions.language},\n        ageRating: {\n          name: this.$t('filter.age_rating').toString(),\n          values: this.filterOptions.ageRating.map((x: NameValue) => ({\n              name: (x.value === 'None' ? this.$t('filter.age_rating_none').toString() : x.name),\n              value: x.value,\n            } as NameValue),\n          ),\n        },\n        releaseDate: {name: this.$t('filter.release_date').toString(), values: this.filterOptions.releaseDate},\n      } as FiltersOptions\n      authorRoles.forEach((role: string) => {\n        r[role] = {\n          name: this.$t(`author_roles.${role}`).toString(),\n          search: async search => {\n            return (await this.$komgaReferential.getAuthors(search, role, undefined, this.collectionId))\n              .content\n              .map(x => x.name)\n          },\n        }\n      })\n      return r\n    },\n    isAdmin(): boolean {\n      return this.$store.getters.meAdmin\n    },\n    filterActive(): boolean {\n      return Object.keys(this.filters).some(x => this.filters[x].length !== 0)\n    },\n    selectedOneshots(): boolean {\n      return this.selectedSeries.every(s => s.oneshot)\n    },\n  },\n  methods: {\n    resetFilters() {\n      this.drawer = false\n      for (const prop in this.filters) {\n        this.$set(this.filters, prop, [])\n      }\n      this.$store.commit('setCollectionFilter', {id: this.collectionId, filter: this.filters})\n      this.updateRouteAndReload()\n    },\n    async resetParams(route: any, collectionId: string) {\n      // load dynamic filters\n      this.$set(this.filterOptions, 'library', this.$store.state.komgaLibraries.libraries.map((x: LibraryDto) => ({\n        name: x.name,\n        value: x.id,\n      })))\n\n      const [genres, tags, publishers, languages, ageRatings, releaseDates] = await Promise.all([\n        this.$komgaReferential.getGenres(undefined, collectionId),\n        this.$komgaReferential.getSeriesAndBookTags(undefined, collectionId),\n        this.$komgaReferential.getPublishers(undefined, collectionId),\n        this.$komgaReferential.getLanguages(undefined, collectionId),\n        this.$komgaReferential.getAgeRatings(undefined, collectionId),\n        this.$komgaReferential.getSeriesReleaseDates(undefined, collectionId),\n      ])\n      this.$set(this.filterOptions, 'genre', toNameValue(genres))\n      this.$set(this.filterOptions, 'tag', toNameValue(tags))\n      this.$set(this.filterOptions, 'publisher', toNameValue(publishers))\n      this.$set(this.filterOptions, 'language', (languages))\n      this.$set(this.filterOptions, 'ageRating', toNameValue(ageRatings))\n      this.$set(this.filterOptions, 'releaseDate', toNameValue(releaseDates))\n\n      // get filter from query params or local storage and validate with available filter values\n      let activeFilters: any\n      if (route.query.status || route.query.readStatus || route.query.genre || route.query.tag || route.query.language || route.query.ageRating || route.query.library || route.query.publisher || authorRoles.some(role => role in route.query) || route.query.complete) {\n        activeFilters = {\n          status: route.query.status || [],\n          readStatus: route.query.readStatus || [],\n          library: route.query.library || [],\n          genre: route.query.genre || [],\n          tag: route.query.tag || [],\n          publisher: route.query.publisher || [],\n          language: route.query.language || [],\n          ageRating: route.query.ageRating || [],\n          releaseDate: route.query.releaseDate || [],\n          complete: route.query.complete || [],\n        }\n        authorRoles.forEach((role: string) => {\n          activeFilters[role] = route.query[role] || []\n        })\n      } else {\n        activeFilters = this.$store.getters.getCollectionFilter(route.params.collectionId) || {} as FiltersActive\n      }\n      this.filters = this.validateFilters(activeFilters)\n    },\n    validateFilters(filters: FiltersActive): FiltersActive {\n      const validFilter = {\n        status: filters.status?.filter(x => Object.keys(SeriesStatus).includes(x)) || [],\n        readStatus: filters.readStatus?.filter(x => Object.keys(ReadStatus).includes(x)) || [],\n        library: filters.library?.filter(x => this.filterOptions.library.map(n => n.value).includes(x)) || [],\n        genre: filters.genre?.filter(x => this.filterOptions.genre.map(n => n.value).includes(x)) || [],\n        tag: filters.tag?.filter(x => this.filterOptions.tag.map(n => n.value).includes(x)) || [],\n        publisher: filters.publisher?.filter(x => this.filterOptions.publisher.map(n => n.value).includes(x)) || [],\n        language: filters.language?.filter(x => this.filterOptions.language.map(n => n.value).includes(x)) || [],\n        ageRating: filters.ageRating?.filter(x => this.filterOptions.ageRating.map(n => n.value).includes(x)) || [],\n        releaseDate: filters.releaseDate?.filter(x => this.filterOptions.releaseDate.map(n => n.value).includes(x)) || [],\n        complete: filters.complete?.filter(x => x === 'true' || x === 'false') || [],\n      } as any\n      authorRoles.forEach((role: string) => {\n        validFilter[role] = filters[role] || []\n      })\n      return validFilter\n    },\n    setWatches() {\n      this.filterUnwatch = this.$watch('filters', (val) => {\n        this.$store.commit('setCollectionFilter', {id: this.collectionId, filter: val})\n        this.updateRouteAndReload()\n      })\n      this.pageSizeUnwatch = this.$watch('pageSize', (val) => {\n        this.$store.commit('setBrowsingPageSize', val)\n        this.updateRouteAndReload()\n      })\n\n      this.pageUnwatch = this.$watch('page', (val) => {\n        this.updateRoute()\n        this.loadPage(this.collectionId, val)\n      })\n    },\n    unsetWatches() {\n      this.filterUnwatch()\n      this.pageUnwatch()\n      this.pageSizeUnwatch()\n    },\n    collectionChanged(event: CollectionSseDto) {\n      if (event.collectionId === this.collectionId) {\n        this.loadCollection(this.collectionId)\n      }\n    },\n    collectionDeleted(event: CollectionSseDto) {\n      if (event.collectionId === this.collectionId) {\n        this.$router.push({name: 'browse-collections', params: {libraryId: LIBRARIES_ALL}})\n      }\n    },\n    updateRouteAndReload() {\n      this.unsetWatches()\n\n      this.page = 1\n\n      this.updateRoute()\n      this.loadPage(this.collectionId, this.page)\n\n      this.setWatches()\n    },\n    async loadPage(collectionId: string, page: number) {\n      this.selectedSeries = []\n\n      const pageRequest = {\n        page: page - 1,\n        size: this.pageSize,\n        unpaged: this.unpaged,\n      } as PageRequest\n\n      let authorsFilter = [] as AuthorDto[]\n      authorRoles.forEach((role: string) => {\n        if (role in this.filters) this.filters[role].forEach((name: string) => authorsFilter.push({\n          name: name,\n          role: role,\n        }))\n      })\n\n      const complete = parseBooleanFilter(this.filters.complete)\n      const seriesPage = await this.$komgaCollections.getSeries(collectionId, pageRequest, this.filters.library, this.filters.status, this.filters.readStatus, this.filters.genre, this.filters.tag, this.filters.language, this.filters.publisher, this.filters.ageRating, this.filters.releaseDate, authorsFilter, complete)\n\n      this.totalPages = seriesPage.totalPages\n      this.totalElements = seriesPage.totalElements\n      this.series = seriesPage.content\n\n      this.series.forEach((x: SeriesDto) => x.context = {origin: ContextOrigin.COLLECTION, id: collectionId})\n      this.seriesCopy = [...this.series]\n      this.selectedSeries = []\n    },\n    reloadPage: throttle(function (this: any) {\n      this.loadPage(this.collectionId, this.page)\n    }, 1000),\n    async loadCollection(collectionId: string) {\n      this.$komgaCollections.getOneCollection(collectionId)\n        .then(v => {\n          this.collection = v\n          document.title = `Komga - ${v.name}`\n        })\n\n      await this.loadPage(collectionId, this.page)\n    },\n    updateRoute() {\n      const loc = {\n        name: this.$route.name,\n        params: {collectionId: this.$route.params.collectionId},\n        query: {\n          page: `${this.page}`,\n          pageSize: `${this.pageSize}`,\n        },\n      } as Location\n      mergeFilterParams(this.filters, loc.query)\n      this.$router.replace(loc).catch((_: any) => {\n      })\n    },\n    async editSingleSeries(series: SeriesDto) {\n      if (series.oneshot) {\n        const book = (await this.$komgaBooks.getBooksList({\n          condition: new SearchConditionSeriesId(new SearchOperatorIs(series.id)),\n        } as BookSearch)).content[0]\n        this.$store.dispatch('dialogUpdateOneshots', {series: series, book: book})\n      } else\n        this.$store.dispatch('dialogUpdateSeries', series)\n    },\n    async editMultipleSeries() {\n      if (this.selectedSeries.every(s => s.oneshot)) {\n        const books = await Promise.all(this.selectedSeries.map(s => this.$komgaBooks.getBooksList({\n          condition: new SearchConditionSeriesId(new SearchOperatorIs(s.id)),\n        } as BookSearch)))\n        const oneshots = this.selectedSeries.map((s, index) => ({series: s, book: books[index].content[0]} as Oneshot))\n        this.$store.dispatch('dialogUpdateOneshots', oneshots)\n      } else\n        this.$store.dispatch('dialogUpdateSeries', this.selectedSeries)\n    },\n    deleteSeries() {\n      this.$store.dispatch('dialogDeleteSeries', this.selectedSeries)\n    },\n    async markSelectedRead() {\n      await Promise.all(this.selectedSeries.map(s =>\n        this.$komgaSeries.markAsRead(s.id),\n      ))\n      this.selectedSeries = []\n    },\n    async markSelectedUnread() {\n      await Promise.all(this.selectedSeries.map(s =>\n        this.$komgaSeries.markAsUnread(s.id),\n      ))\n      this.selectedSeries = []\n    },\n    addToCollection() {\n      this.$store.dispatch('dialogAddSeriesToCollection', this.selectedSeries.map(s => s.id))\n    },\n    async addToReadList() {\n      const conditions = this.selectedSeries.map(s => new SearchConditionSeriesId(new SearchOperatorIs(s.id)))\n      const books = await this.$komgaBooks.getBooksList({\n        condition: new SearchConditionAnyOfBook(conditions),\n      } as BookSearch, {unpaged: true})\n      this.$store.dispatch('dialogAddBooksToReadList', books.content.map(b => b.id))\n    },\n    async startEditElements() {\n      this.filters = {}\n      this.unpaged = true\n      await this.reloadPage()\n      this.editElements = true\n    },\n    cancelEditElements() {\n      this.editElements = false\n      this.series = [...this.seriesCopy]\n      this.unpaged = false\n      this.reloadPage()\n    },\n    doEditElements() {\n      this.editElements = false\n      const update = {\n        seriesIds: this.series.map(x => x.id),\n      } as CollectionUpdateDto\n      this.$komgaCollections.patchCollection(this.collectionId, update)\n      this.unpaged = false\n      this.reloadPage()\n    },\n    editCollection() {\n      this.$store.dispatch('dialogEditCollection', this.collection)\n    },\n    seriesChanged(event: SeriesSseDto) {\n      if (this.series.some(s => s.id === event.seriesId)) this.reloadPage()\n    },\n    readProgressChanged(event: ReadProgressSeriesSseDto) {\n      if (this.series.some(b => b.id === event.seriesId)) this.reloadPage()\n    },\n  },\n})\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseCollection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseCollection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseCollection.vue?vue&type=template&id=0ae5feac&\"\nimport script from \"./BrowseCollection.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseCollection.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const sortDirs = ['asc', 'desc']\n\nexport function parseQuerySort(querySort: any, sortOptions: SortOption[]): SortActive | null {\n  let customSort = null\n  if (querySort) {\n    const split = querySort.split(',')\n    if (split.length === 2 && sortOptions.map(x => x.key).includes(split[0]) && sortDirs.includes(split[1])) {\n      customSort = {key: split[0], order: split[1]}\n    }\n  }\n  return customSort\n}\n\nexport function parseBooleanFilter(values?: string[]): boolean | undefined {\n  if (!values || values.length === 0) return undefined\n  if (values[0].trim().toLowerCase() === 'true') return true\n  if (values[0].trim().toLowerCase() === 'false') return false\n  return undefined\n}\n","export enum ContextOrigin {\n  SERIES = 'SERIES',\n  READLIST = 'READLIST',\n  LIBRARY = 'LIBRARY',\n  COLLECTION = 'COLLECTION'\n}\n\nexport interface Context {\n  origin: ContextOrigin,\n  id: string,\n}\n","import i18n from '@/i18n'\n\nexport enum SeriesStatus {\n  ENDED = 'ENDED',\n  ONGOING = 'ONGOING',\n  ABANDONED = 'ABANDONED',\n  HIATUS = 'HIATUS'\n}\n\nexport function SeriesStatusKeyValue(): NameValue[] {\n  return Object.values(SeriesStatus).map(x => ({\n    name: i18n.t(`enums.series_status.${x}`),\n    value: x,\n  } as NameValue))\n}\n","'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar replace = uncurryThis(''.replace);\nvar ltrim = RegExp('^[' + whitespaces + ']+');\nvar rtrim = RegExp('(^|[^' + whitespaces + '])[' + whitespaces + ']+$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = replace(string, ltrim, '');\n    if (TYPE & 2) string = replace(string, rtrim, '$1');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","'use strict';\n// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","import VOverlay from './VOverlay';\nexport { VOverlay };\nexport default VOverlay;\n//# sourceMappingURL=index.js.map","// Components\nimport VOverlay from '../../components/VOverlay'; // Utilities\n\nimport { keyCodes, addOnceEventListener, addPassiveEventListener, getZIndex, composedPath } from '../../util/helpers'; // Types\n\nimport Vue from 'vue';\n/* @vue/component */\n\nexport default Vue.extend().extend({\n  name: 'overlayable',\n  props: {\n    hideOverlay: Boolean,\n    overlayColor: String,\n    overlayOpacity: [Number, String]\n  },\n\n  data() {\n    return {\n      animationFrame: 0,\n      overlay: null\n    };\n  },\n\n  watch: {\n    hideOverlay(value) {\n      if (!this.isActive) return;\n      if (value) this.removeOverlay();else this.genOverlay();\n    }\n\n  },\n\n  beforeDestroy() {\n    this.removeOverlay();\n  },\n\n  methods: {\n    createOverlay() {\n      const overlay = new VOverlay({\n        propsData: {\n          absolute: this.absolute,\n          value: false,\n          color: this.overlayColor,\n          opacity: this.overlayOpacity\n        }\n      });\n      overlay.$mount();\n      const parent = this.absolute ? this.$el.parentNode : document.querySelector('[data-app]');\n      parent && parent.insertBefore(overlay.$el, parent.firstChild);\n      this.overlay = overlay;\n    },\n\n    genOverlay() {\n      this.hideScroll();\n      if (this.hideOverlay) return;\n      if (!this.overlay) this.createOverlay();\n      this.animationFrame = requestAnimationFrame(() => {\n        if (!this.overlay) return;\n\n        if (this.activeZIndex !== undefined) {\n          this.overlay.zIndex = String(this.activeZIndex - 1);\n        } else if (this.$el) {\n          this.overlay.zIndex = getZIndex(this.$el);\n        }\n\n        this.overlay.value = true;\n      });\n      return true;\n    },\n\n    /** removeOverlay(false) will not restore the scollbar afterwards */\n    removeOverlay(showScroll = true) {\n      if (this.overlay) {\n        addOnceEventListener(this.overlay.$el, 'transitionend', () => {\n          if (!this.overlay || !this.overlay.$el || !this.overlay.$el.parentNode || this.overlay.value || this.isActive) return;\n          this.overlay.$el.parentNode.removeChild(this.overlay.$el);\n          this.overlay.$destroy();\n          this.overlay = null;\n        }); // Cancel animation frame in case\n        // overlay is removed before it\n        // has finished its animation\n\n        cancelAnimationFrame(this.animationFrame);\n        this.overlay.value = false;\n      }\n\n      showScroll && this.showScroll();\n    },\n\n    scrollListener(e) {\n      if ('key' in e) {\n        if (['INPUT', 'TEXTAREA', 'SELECT'].includes(e.target.tagName) || // https://github.com/vuetifyjs/vuetify/issues/4715\n        e.target.isContentEditable) return;\n        const up = [keyCodes.up, keyCodes.pageup];\n        const down = [keyCodes.down, keyCodes.pagedown];\n\n        if (up.includes(e.keyCode)) {\n          e.deltaY = -1;\n        } else if (down.includes(e.keyCode)) {\n          e.deltaY = 1;\n        } else {\n          return;\n        }\n      }\n\n      if (e.target === this.overlay || e.type !== 'keydown' && e.target === document.body || this.checkPath(e)) e.preventDefault();\n    },\n\n    hasScrollbar(el) {\n      if (!el || el.nodeType !== Node.ELEMENT_NODE) return false;\n      const style = window.getComputedStyle(el);\n      return (['auto', 'scroll'].includes(style.overflowY) || el.tagName === 'SELECT') && el.scrollHeight > el.clientHeight || ['auto', 'scroll'].includes(style.overflowX) && el.scrollWidth > el.clientWidth;\n    },\n\n    shouldScroll(el, e) {\n      if (el.hasAttribute('data-app')) return false;\n      const dir = e.shiftKey || e.deltaX ? 'x' : 'y';\n      const delta = dir === 'y' ? e.deltaY : e.deltaX || e.deltaY;\n      let alreadyAtStart;\n      let alreadyAtEnd;\n\n      if (dir === 'y') {\n        alreadyAtStart = el.scrollTop === 0;\n        alreadyAtEnd = el.scrollTop + el.clientHeight === el.scrollHeight;\n      } else {\n        alreadyAtStart = el.scrollLeft === 0;\n        alreadyAtEnd = el.scrollLeft + el.clientWidth === el.scrollWidth;\n      }\n\n      const scrollingUp = delta < 0;\n      const scrollingDown = delta > 0;\n      if (!alreadyAtStart && scrollingUp) return true;\n      if (!alreadyAtEnd && scrollingDown) return true;\n\n      if ((alreadyAtStart || alreadyAtEnd) && el.parentNode) {\n        return this.shouldScroll(el.parentNode, e);\n      }\n\n      return false;\n    },\n\n    isInside(el, parent) {\n      if (el === parent) {\n        return true;\n      } else if (el === null || el === document.body) {\n        return false;\n      } else {\n        return this.isInside(el.parentNode, parent);\n      }\n    },\n\n    checkPath(e) {\n      const path = composedPath(e);\n\n      if (e.type === 'keydown' && path[0] === document.body) {\n        const dialog = this.$refs.dialog; // getSelection returns null in firefox in some edge cases, can be ignored\n\n        const selected = window.getSelection().anchorNode;\n\n        if (dialog && this.hasScrollbar(dialog) && this.isInside(selected, dialog)) {\n          return !this.shouldScroll(dialog, e);\n        }\n\n        return true;\n      }\n\n      for (let index = 0; index < path.length; index++) {\n        const el = path[index];\n        if (el === document) return true;\n        if (el === document.documentElement) return true;\n        if (el === this.$refs.content) return true;\n        if (this.hasScrollbar(el)) return !this.shouldScroll(el, e);\n      }\n\n      return true;\n    },\n\n    hideScroll() {\n      if (this.$vuetify.breakpoint.smAndDown) {\n        document.documentElement.classList.add('overflow-y-hidden');\n      } else {\n        addPassiveEventListener(window, 'wheel', this.scrollListener, {\n          passive: false\n        });\n        window.addEventListener('keydown', this.scrollListener);\n      }\n    },\n\n    showScroll() {\n      document.documentElement.classList.remove('overflow-y-hidden');\n      window.removeEventListener('wheel', this.scrollListener);\n      window.removeEventListener('keydown', this.scrollListener);\n    }\n\n  }\n});\n//# sourceMappingURL=index.js.map"],"names":["attrs","staticStyle","staticClass","on","_vm","scopedSlots","key","_c","pageSize","callback","$event","drawer","selectedOneshots","selectedSeries","markSelectedUnread","editMultipleSeries","deleteSeries","model","value","expression","editElements","cancelEditElements","resetFilters","filters","proxy","totalPages","_v","page","$$v","series","render","Vue","extend","name","components","PageSizeSelect","ToolbarSticky","ItemBrowser","CollectionActionsMenu","MultiSelectBar","FilterDrawer","FilterPanels","FilterList","EmptyState","data","collection","undefined","seriesCopy","unpaged","totalElements","filterUnwatch","pageUnwatch","pageSizeUnwatch","filterOptions","library","genre","tag","publisher","language","ageRating","releaseDate","props","collectionId","type","String","required","created","this","$eventHub","$on","COLLECTION_CHANGED","collectionChanged","COLLECTION_DELETED","collectionDeleted","SERIES_CHANGED","seriesChanged","SERIES_DELETED","READPROGRESS_SERIES_CHANGED","readProgressChanged","READPROGRESS_SERIES_DELETED","beforeDestroy","$off","mounted","$store","state","persistedState","browsingPageSize","resetParams","$route","query","Number","loadCollection","setWatches","beforeRouteUpdate","to","from","next","params","unsetWatches","computed","paginationVisible","$vuetify","breakpoint","filterOptionsList","readStatus","values","$i18n","t","toString","ReadStatus","UNREAD","$t","IN_PROGRESS","READ","complete","nValue","filterOptionsPanel","r","status","SeriesStatusKeyValue","map","x","authorRoles","forEach","role","search","async","$komgaReferential","getAuthors","content","isAdmin","getters","meAdmin","filterActive","Object","keys","some","length","every","s","oneshot","methods","prop","$set","commit","id","filter","updateRouteAndReload","route","komgaLibraries","libraries","genres","tags","publishers","languages","ageRatings","releaseDates","Promise","all","getGenres","getSeriesAndBookTags","getPublishers","getLanguages","getAgeRatings","getSeriesReleaseDates","activeFilters","toNameValue","getCollectionFilter","validateFilters","_filters$status","_filters$readStatus","_filters$library","_filters$genre","_filters$tag","_filters$publisher","_filters$language","_filters$ageRating","_filters$releaseDate","_filters$complete","validFilter","SeriesStatus","includes","n","$watch","val","updateRoute","loadPage","event","$router","push","libraryId","LIBRARIES_ALL","pageRequest","size","authorsFilter","parseBooleanFilter","seriesPage","$komgaCollections","getSeries","context","origin","ContextOrigin","COLLECTION","reloadPage","throttle","getOneCollection","then","v","document","title","loc","mergeFilterParams","replace","catch","_","editSingleSeries","book","$komgaBooks","getBooksList","condition","SearchConditionSeriesId","SearchOperatorIs","dispatch","books","oneshots","index","markSelectedRead","$komgaSeries","markAsRead","markAsUnread","addToCollection","addToReadList","conditions","SearchConditionAnyOfBook","b","startEditElements","doEditElements","update","seriesIds","patchCollection","editCollection","seriesId","component","staticRenderFns","sortDirs","parseQuerySort","querySort","sortOptions","customSort","split","order","trim","toLowerCase","i18n","PROPER_FUNCTION_NAME","fails","whitespaces","non","module","exports","METHOD_NAME","uncurryThis","requireObjectCoercible","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","start","end","$","$trim","forcedStringTrimMethod","target","proto","forced","VOverlay","hideOverlay","Boolean","overlayColor","overlayOpacity","animationFrame","overlay","watch","isActive","removeOverlay","genOverlay","createOverlay","propsData","absolute","color","opacity","$mount","parent","$el","parentNode","querySelector","insertBefore","firstChild","hideScroll","requestAnimationFrame","activeZIndex","zIndex","showScroll","removeChild","$destroy","cancelAnimationFrame","scrollListener","e","tagName","isContentEditable","up","pageup","down","pagedown","keyCode","deltaY","body","checkPath","preventDefault","hasScrollbar","el","nodeType","Node","ELEMENT_NODE","style","window","getComputedStyle","overflowY","scrollHeight","clientHeight","overflowX","scrollWidth","clientWidth","shouldScroll","hasAttribute","dir","shiftKey","deltaX","delta","alreadyAtStart","alreadyAtEnd","scrollTop","scrollLeft","scrollingUp","scrollingDown","isInside","path","dialog","$refs","selected","getSelection","anchorNode","documentElement","smAndDown","classList","add","passive","addEventListener","remove","removeEventListener"],"sourceRoot":""}