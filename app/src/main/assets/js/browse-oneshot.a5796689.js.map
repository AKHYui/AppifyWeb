{"version":3,"file":"js/browse-oneshot.a5796689.js","mappings":"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","sources":["webpack://komga-webui/./src/components/CollectionsExpansionPanels.vue","webpack://komga-webui/./src/components/CollectionsExpansionPanels.vue?0727","webpack://komga-webui/./src/components/CollectionsExpansionPanels.vue?faac","webpack://komga-webui/./src/components/CollectionsExpansionPanels.vue?9ebb","webpack://komga-webui/./src/views/BrowseOneshot.vue","webpack://komga-webui/./src/views/BrowseOneshot.vue?afcb","webpack://komga-webui/./src/views/BrowseOneshot.vue?599f","webpack://komga-webui/./src/views/BrowseOneshot.vue?49c5"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('v-expansion-panels',{model:{value:(_vm.collectionPanel),callback:function ($$v) {_vm.collectionPanel=$$v},expression:\"collectionPanel\"}},_vm._l((_vm.collections),function(c,index){return _c('v-expansion-panel',{key:index},[_c('v-expansion-panel-header',[_vm._v(_vm._s(_vm.$t('collections_expansion_panel.title', {name: c.name})))]),_c('v-expansion-panel-content',[_c('horizontal-scroller',{attrs:{\"tick\":_vm.collectionsLoaders[index].tick},on:{\"scroll-changed\":(percent) => _vm.scrollChanged(_vm.collectionsLoaders[index], percent)},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_vm._t(\"prepend\",null,{\"collection\":c}),_c('router-link',{staticClass:\"text-overline\",attrs:{\"to\":{name: 'browse-collection', params: {collectionId: c.id}}}},[_vm._v(_vm._s(_vm.$t('collections_expansion_panel.manage_collection'))+\" \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('item-browser',{attrs:{\"items\":_vm.collectionsLoaders[index].items,\"nowrap\":\"\",\"selectable\":false,\"action-menu\":false,\"fixed-item-width\":100}})]},proxy:true}],null,true)})],1)],1)}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport HorizontalScroller from '@/components/HorizontalScroller.vue'\nimport ItemBrowser from '@/components/ItemBrowser.vue'\nimport Vue from 'vue'\nimport {ContextOrigin} from '@/types/context'\nimport {SeriesDto} from '@/types/komga-series'\nimport {PageLoader} from '@/types/pageLoader'\n\nexport default Vue.extend({\n  name: 'CollectionsExpansionPanels',\n  components: {\n    HorizontalScroller,\n    ItemBrowser,\n  },\n  props: {\n    collections: {\n      type: Array as () => CollectionDto[],\n      required: true,\n    },\n  },\n  data: () => {\n    return {\n      collectionPanel: undefined as number | undefined,\n      collectionsLoaders: [] as PageLoader<SeriesDto>[],\n    }\n  },\n  watch: {\n    collections: {\n      handler(val: CollectionDto[]) {\n        this.collectionPanel = undefined\n        this.collectionsLoaders = val.map(coll => new PageLoader<SeriesDto>(\n          {},\n          (pageable: PageRequest) => this.$komgaCollections.getSeries(coll.id, pageable),\n          (x: SeriesDto) => {\n            x.context = {origin: ContextOrigin.COLLECTION, id: coll.id}\n            return x\n          },\n        ))\n      },\n      immediate: true,\n    },\n    async collectionPanel(val) {\n      if (val !== undefined) {\n        if (!this.collectionsLoaders[val].hasLoadedAny) {\n          this.collectionsLoaders[val].loadNext()\n        }\n      }\n    },\n  },\n  methods: {\n    async scrollChanged(loader: PageLoader<any>, percent: number) {\n      if (percent > 0.95) await loader.loadNext()\n    },\n  },\n})\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CollectionsExpansionPanels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CollectionsExpansionPanels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CollectionsExpansionPanels.vue?vue&type=template&id=461b3c24&\"\nimport script from \"./CollectionsExpansionPanels.vue?vue&type=script&lang=ts&\"\nexport * from \"./CollectionsExpansionPanels.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (!_vm.$_.isEmpty(_vm.book) && !_vm.$_.isEmpty(_vm.series))?_c('div',[_c('toolbar-sticky',[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":!_vm.isAdmin},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({attrs:{\"icon\":\"\",\"to\":_vm.parentLocation}},on),[_c('rtl-icon',{attrs:{\"icon\":\"mdi-arrow-left\",\"rtl\":\"mdi-arrow-right\"}})],1)]}}],null,false,2434228632)},[(_vm.context.origin === _vm.ContextOrigin.READLIST)?_c('span',[_vm._v(_vm._s(_vm.$t('common.go_to_readlist')))]):(_vm.context.origin === _vm.ContextOrigin.COLLECTION)?_c('span',[_vm._v(_vm._s(_vm.$t('common.go_to_collection')))]):_c('span',[_vm._v(_vm._s(_vm.$t('common.go_to_library')))])]),(_vm.book)?_c('oneshot-actions-menu',{attrs:{\"book\":_vm.book,\"series\":_vm.series}}):_vm._e(),(_vm.isAdmin)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.editBook}},[_c('v-icon',[_vm._v(\"mdi-pencil\")])],1):_vm._e(),_c('v-spacer'),(_vm.context.origin === _vm.ContextOrigin.READLIST && _vm.$vuetify.breakpoint.mdAndUp)?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"type\":\"info\",\"text\":\"\",\"dense\":\"\",\"border\":\"right\"}},[_vm._v(_vm._s(_vm.$t('browse_book.navigation_within_readlist', {name: _vm.contextName}))+\" \")]):_vm._e(),(_vm.context.origin === _vm.ContextOrigin.READLIST)?_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.$_.isEmpty(_vm.siblingPrevious),\"to\":{ name: _vm.siblingPrevious.oneshot ? 'browse-oneshot' : 'browse-book', params: { seriesId: _vm.siblingPrevious.seriesId, bookId: _vm.previousId }, query: { context: _vm.context.origin, contextId: _vm.context.id}  }}},[_c('rtl-icon',{attrs:{\"icon\":\"mdi-chevron-left\",\"rtl\":\"mdi-chevron-right\"}})],1):_vm._e(),(_vm.context.origin === _vm.ContextOrigin.READLIST)?_c('v-menu',{attrs:{\"bottom\":\"\",\"offset-y\":\"\",\"max-height\":_vm.$vuetify.breakpoint.height * .7,\"max-width\":250},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({attrs:{\"icon\":\"\"}},on),[_c('v-icon',[_vm._v(\"mdi-menu\")])],1)]}}],null,false,3153626740)},[_c('v-list',{attrs:{\"flat\":\"\"}},[_c('v-list-item-group',{attrs:{\"color\":\"primary\"}},_vm._l((_vm.siblings),function(book,i){return _c('v-list-item',{key:i,attrs:{\"to\":{ name: book.oneshot ? 'browse-oneshot' : 'browse-book', params: { seriesId: book.seriesId, bookId: book.id }, query: { context: _vm.context.origin, contextId: _vm.context.id}  }}},[_c('v-list-item-title',{staticClass:\"text-wrap text-body-2\"},[(_vm.context.origin === _vm.ContextOrigin.READLIST && !book.oneshot)?[_vm._v(_vm._s(book.seriesTitle)+\" \"+_vm._s(book.metadata.number)+\": \"+_vm._s(book.metadata.title)+\" \")]:(_vm.context.origin === _vm.ContextOrigin.READLIST && book.oneshot)?[_vm._v(_vm._s(book.metadata.title)+\" \")]:[_vm._v(_vm._s(book.metadata.number)+\" - \"+_vm._s(book.metadata.title))]],2)],1)}),1)],1)],1):_vm._e(),(_vm.context.origin === _vm.ContextOrigin.READLIST)?_c('v-btn',{attrs:{\"icon\":\"\",\"disabled\":_vm.$_.isEmpty(_vm.siblingNext),\"to\":{ name: _vm.siblingNext.oneshot ? 'browse-oneshot' : 'browse-book', params: { seriesId: _vm.siblingNext.seriesId, bookId: _vm.nextId }, query: { context: _vm.context.origin, contextId: _vm.context.id}  }}},[_c('rtl-icon',{attrs:{\"icon\":\"mdi-chevron-right\",\"rtl\":\"mdi-chevron-left\"}})],1):_vm._e()],1),_c('v-container',{staticClass:\"pa-6\",attrs:{\"fluid\":\"\"}},[_c('v-row',[(_vm.context.origin === _vm.ContextOrigin.READLIST && _vm.$vuetify.breakpoint.smAndDown)?_c('v-alert',{staticClass:\"mb-0\",attrs:{\"type\":\"info\",\"text\":\"\",\"dense\":\"\",\"border\":\"right\"}},[_vm._v(_vm._s(_vm.$t('browse_book.navigation_within_readlist', {name: _vm.contextName}))+\" \")]):_vm._e()],1),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\",\"sm\":\"4\",\"md\":\"auto\",\"lg\":\"auto\",\"xl\":\"auto\"}},[(_vm.book.hasOwnProperty('id'))?_c('item-card',{attrs:{\"width\":\"212\",\"item\":_vm.book,\"thumbnail-only\":\"\",\"no-link\":\"\",\"action-menu\":false}}):_vm._e(),(_vm.isInProgress)?_c('div',{staticClass:\"text-caption text-center mt-1\",attrs:{\"title\":_vm.$t('common.read_on', {date: _vm.readProgressDate})}},[_vm._v(\" \"+_vm._s(_vm.$tc('common.pages_left', _vm.pagesLeft))+\" \")]):(_vm.isRead)?_c('div',{staticClass:\"text-caption text-center mt-1\"},[_vm._v(\" \"+_vm._s(_vm.$t('common.read_on', {date: _vm.readProgressDate}))+\" \")]):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-container',[_c('v-row',[_c('v-col',{staticClass:\"py-1\"},[_c('span',{staticClass:\"text-h6\"},[_vm._v(_vm._s(_vm.book.metadata.title))]),_c('router-link',{staticClass:\"caption link-underline\",class:_vm.$vuetify.breakpoint.smAndUp ? 'mx-1' : '',style:(_vm.$vuetify.breakpoint.xsOnly ? 'display: block' : ''),attrs:{\"to\":{name:'browse-libraries', params: {libraryId: _vm.book.libraryId }}}},[_vm._v(_vm._s(_vm.$t('searchbox.in_library', {library: _vm.getLibraryName(_vm.book)}))+\" \")])],1)],1),_c('v-row',{staticClass:\"text-body-2\"},[(_vm.series.metadata && _vm.series.metadata.ageRating)?_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-chip',{attrs:{\"label\":\"\",\"small\":\"\",\"link\":\"\",\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {ageRating: [new _vm.SearchConditionAgeRating(new _vm.SearchOperatorIs(_vm.series.metadata.ageRating.toString()))]}}}},[_vm._v(\" \"+_vm._s(_vm.series.metadata.ageRating)+\"+ \")])],1):_vm._e(),(_vm.series.metadata.language)?_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-chip',{attrs:{\"label\":\"\",\"small\":\"\",\"link\":\"\",\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {language: [new _vm.SearchConditionLanguage(new _vm.SearchOperatorIs(_vm.series.metadata.language))]}}}},[_vm._v(\" \"+_vm._s(_vm.languageDisplay)+\" \")])],1):_vm._e(),(_vm.series.metadata.readingDirection)?_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-chip',{attrs:{\"label\":\"\",\"small\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.$t(`enums.reading_direction.${_vm.series.metadata.readingDirection}`))+\" \")])],1):_vm._e()],1),_c('v-row',{staticClass:\"text-caption\",attrs:{\"align\":\"center\"}},[(_vm.book.media.status === _vm.MediaStatus.UNKNOWN)?_c('v-col',{attrs:{\"cols\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.$t('book_card.unknown'))+\" \")]):_c('v-col',{attrs:{\"cols\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.$tc('common.pages_n', _vm.book.media.pagesCount))+\" \")]),(_vm.book.metadata.releaseDate)?_c('v-col',{attrs:{\"cols\":\"auto\"}},[_vm._v(\" \"+_vm._s(new Intl.DateTimeFormat(_vm.$i18n.locale, { dateStyle: 'long', timeZone: 'UTC' }).format(new Date(_vm.book.metadata.releaseDate)))+\" \")]):_vm._e(),(_vm.book.media.status === _vm.MediaStatus.OUTDATED)?_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-tooltip',{attrs:{\"bottom\":\"\",\"disabled\":!_vm.isAdmin},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-chip',_vm._g({attrs:{\"label\":\"\",\"small\":\"\",\"color\":\"warning\"}},on),[_vm._v(\" \"+_vm._s(_vm.$t('common.outdated'))+\" \")])]}}],null,false,776088094)},[_vm._v(\" \"+_vm._s(_vm.$t('browse_book.outdated_tooltip'))+\" \")])],1):_vm._e(),(_vm.unavailable)?_c('v-col',{staticClass:\"py-1 pe-0\",attrs:{\"cols\":\"auto\"}},[_c('v-chip',{attrs:{\"label\":\"\",\"small\":\"\",\"color\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.$t('common.unavailable'))+\" \")])],1):_vm._e()],1),(_vm.$vuetify.breakpoint.smAndUp)?[_c('v-row',{staticClass:\"align-center\"},[_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"color\":\"accent\",\"small\":\"\",\"title\":_vm.$t('browse_book.read_book'),\"to\":{name: _vm.readRouteName, params: { bookId: _vm.book.id}, query: { context: _vm.context.origin, contextId: _vm.context.id}},\"disabled\":!_vm.canRead}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-book-open-page-variant\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.read'))+\" \")],1)],1),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"title\":_vm.$t('browse_book.read_incognito'),\"to\":{name: _vm.readRouteName, params: { bookId: _vm.book.id}, query: { context: _vm.context.origin, contextId: _vm.context.id, incognito: true}},\"disabled\":!_vm.canRead}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-incognito\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.read'))+\" \")],1)],1),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"title\":_vm.$t('browse_book.download_file'),\"small\":\"\",\"disabled\":!_vm.canDownload,\"href\":_vm.fileUrl}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-file-download\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.download'))+\" \")],1)],1)],1),(_vm.book.metadata.summary)?_c('v-row',[_c('v-col',[_c('read-more',{model:{value:(_vm.readMore),callback:function ($$v) {_vm.readMore=$$v},expression:\"readMore\"}},[_vm._v(_vm._s(_vm.book.metadata.summary))])],1)],1):_vm._e()]:_vm._e()],2)],1)],1),(_vm.$vuetify.breakpoint.xsOnly)?[_c('v-row',{staticClass:\"align-center\"},[_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"color\":\"accent\",\"small\":\"\",\"title\":_vm.$t('browse_book.read_book'),\"to\":{name: _vm.readRouteName, params: { bookId: _vm.book.id}, query: { context: _vm.context.origin, contextId: _vm.context.id}},\"disabled\":!_vm.canRead}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-book-open-page-variant\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.read'))+\" \")],1)],1),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"title\":_vm.$t('browse_book.read_incognito'),\"to\":{name: _vm.readRouteName, params: { bookId: _vm.book.id}, query: { context: _vm.context.origin, contextId: _vm.context.id, incognito: true}},\"disabled\":!_vm.canRead}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-incognito\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.read'))+\" \")],1)],1),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-btn',{attrs:{\"title\":_vm.$t('browse_book.download_file'),\"small\":\"\",\"disabled\":!_vm.canDownload,\"href\":_vm.fileUrl}},[_c('v-icon',{attrs:{\"left\":\"\",\"small\":\"\"}},[_vm._v(\"mdi-file-download\")]),_vm._v(\" \"+_vm._s(_vm.$t('common.download'))+\" \")],1)],1)],1),(_vm.book.metadata.summary)?_c('v-row',[_c('v-col',[_c('read-more',{model:{value:(_vm.readMore),callback:function ($$v) {_vm.readMore=$$v},expression:\"readMore\"}},[_vm._v(_vm._s(_vm.book.metadata.summary))])],1)],1):_vm._e()]:_vm._e(),(_vm.series.metadata.publisher)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('common.publisher')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_c('v-chip',{staticClass:\"me-2\",attrs:{\"title\":_vm.series.metadata.publisher,\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {publisher: [new _vm.SearchConditionPublisher(new _vm.SearchOperatorIs(_vm.series.metadata.publisher))]}},\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(_vm._s(_vm.series.metadata.publisher)+\" \")])],1)],1):_vm._e(),(_vm.series.metadata.genres.length > 0)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('common.genre')))]),_c('v-col',{staticClass:\"py-1 text-capitalize\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_c('vue-horizontal',{scopedSlots:_vm._u([{key:\"btn-prev\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)]},proxy:true},{key:\"btn-next\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)]},proxy:true}],null,false,187429412)},_vm._l((_vm.$_.sortBy(_vm.series.metadata.genres)),function(t,i){return _c('v-chip',{key:i,staticClass:\"me-2\",attrs:{\"title\":t,\"to\":{name:'browse-libraries', params: {libraryId: _vm.series.libraryId }, query: {genre: [new _vm.SearchConditionGenre(new _vm.SearchOperatorIs(t))]}},\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(_vm._s(t)+\" \")])}),1)],1)],1):_vm._e(),_vm._l((_vm.displayedRoles),function(role){return _c('v-row',{key:role,staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(\" \"+_vm._s(_vm.$te(`author_roles.${role}`) ? _vm.$t(`author_roles.${role}`) : role)+\" \")]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_c('vue-horizontal',{scopedSlots:_vm._u([{key:\"btn-prev\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)]},proxy:true},{key:\"btn-next\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)]},proxy:true}],null,true)},_vm._l((_vm.authorsByRole[role]),function(name,i){return _c('v-chip',{key:i,staticClass:\"me-2\",attrs:{\"title\":name,\"to\":{name:'browse-libraries', params: {libraryId: _vm.book.libraryId }, query: {[role]: [name]}},\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(_vm._s(name)+\" \")])}),1)],1)],1)}),(_vm.book.metadata.tags.length > 0)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$i18n.t('common.tags')))]),_c('v-col',{staticClass:\"py-1 text-capitalize\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_c('vue-horizontal',{scopedSlots:_vm._u([{key:\"btn-prev\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-left\")])],1)]},proxy:true},{key:\"btn-next\",fn:function(){return [_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-chevron-right\")])],1)]},proxy:true}],null,false,187429412)},_vm._l((_vm.book.metadata.tags),function(t,i){return _c('v-chip',{key:i,staticClass:\"me-2\",attrs:{\"title\":t,\"to\":{name:'browse-libraries', params: {libraryId: _vm.book.libraryId}, query: {tag: [new _vm.SearchConditionTag(new _vm.SearchOperatorIs(t))]}},\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(_vm._s(t)+\" \")])}),1)],1)],1):_vm._e(),_c('v-row',[_c('v-col',{staticClass:\"pb-1\",attrs:{\"cols\":\"12\"}},[_c('collections-expansion-panels',{attrs:{\"collections\":_vm.collections},scopedSlots:_vm._u([{key:\"prepend\",fn:function(props){return [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"me-2\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeFromCollection(props.collection.id)}}},on),[_c('v-icon',[_vm._v(\"mdi-playlist-remove\")])],1)]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.$t('browse_book.remove_from_collection')))])])]}}],null,false,2743567101)})],1),_c('v-col',{staticClass:\"pt-1\",attrs:{\"cols\":\"12\"}},[_c('read-lists-expansion-panels',{attrs:{\"read-lists\":_vm.readLists},scopedSlots:_vm._u([{key:\"prepend\",fn:function(props){return [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on }){return [_c('v-btn',_vm._g({staticClass:\"me-2\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.removeFromReadList(props.readlist.id)}}},on),[_c('v-icon',[_vm._v(\"mdi-book-remove\")])],1)]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.$t('browse_book.remove_from_readlist')))])])]}}],null,false,3445749044)})],1)],1),(_vm.book.metadata.links.length > 0)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.links')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},_vm._l((_vm.book.metadata.links),function(link,i){return _c('v-chip',{key:i,staticClass:\"me-2\",attrs:{\"href\":link.url,\"rel\":\"noreferrer\",\"target\":\"_blank\",\"label\":\"\",\"small\":\"\",\"outlined\":\"\",\"link\":\"\"}},[_vm._v(\" \"+_vm._s(link.label)+\" \"),_c('v-icon',{staticClass:\"ps-1\",attrs:{\"x-small\":\"\",\"color\":\"grey\"}},[_vm._v(\" mdi-open-in-new \")])],1)}),1)],1):_vm._e(),_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.size')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(_vm.book.size))])],1),(_vm.book.media.comment)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.comment')))]),_c('v-col',{staticClass:\"py-1 error--text font-weight-bold\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(_vm.mediaComment))])],1):_vm._e(),_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.format')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(_vm.format.type))])],1),(_vm.book.metadata.isbn)?_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.isbn')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(_vm.book.metadata.isbn))])],1):_vm._e(),_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.file')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(_vm.book.url))])],1),_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.date_created')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(new Intl.DateTimeFormat(_vm.$i18n.locale, { dateStyle: 'long', timeStyle: 'short' }).format(new Date(_vm.book.created)))+\" \")])],1),_c('v-row',{staticClass:\"align-center text-caption\"},[_c('v-col',{staticClass:\"py-1 text-uppercase\",attrs:{\"cols\":\"4\",\"sm\":\"3\",\"md\":\"2\",\"xl\":\"1\"}},[_vm._v(_vm._s(_vm.$t('browse_book.date_modified')))]),_c('v-col',{staticClass:\"py-1\",attrs:{\"cols\":\"8\",\"sm\":\"9\",\"md\":\"10\",\"xl\":\"11\"}},[_vm._v(_vm._s(new Intl.DateTimeFormat(_vm.$i18n.locale, { dateStyle: 'long', timeStyle: 'short' }).format(new Date(_vm.book.lastModified)))+\" \")])],1)],2)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport ItemCard from '@/components/ItemCard.vue'\nimport ToolbarSticky from '@/components/bars/ToolbarSticky.vue'\nimport {groupAuthorsByRole} from '@/functions/authors'\nimport {getBookFormatFromMedia, getBookReadRouteFromMedia} from '@/functions/book-format'\nimport {getPagesLeft, getReadProgress, getReadProgressPercentage} from '@/functions/book-progress'\nimport {getBookTitleCompact} from '@/functions/book-title'\nimport {bookFileUrl, seriesThumbnailUrl} from '@/functions/urls'\nimport {MediaStatus, ReadStatus} from '@/types/enum-books'\nimport {\n  BOOK_CHANGED,\n  BOOK_DELETED,\n  COLLECTION_ADDED,\n  COLLECTION_CHANGED,\n  COLLECTION_DELETED,\n  LIBRARY_DELETED,\n  READLIST_ADDED,\n  READLIST_CHANGED,\n  READLIST_DELETED,\n  READPROGRESS_CHANGED,\n  READPROGRESS_DELETED,\n  SERIES_CHANGED,\n  SERIES_DELETED,\n} from '@/types/events'\nimport Vue from 'vue'\nimport ReadListsExpansionPanels from '@/components/ReadListsExpansionPanels.vue'\nimport {BookDto, BookFormat} from '@/types/komga-books'\nimport {Context, ContextOrigin} from '@/types/context'\nimport ReadMore from '@/components/ReadMore.vue'\nimport VueHorizontal from 'vue-horizontal'\nimport {authorRoles} from '@/types/author-roles'\nimport {convertErrorCodes} from '@/functions/error-codes'\nimport RtlIcon from '@/components/RtlIcon.vue'\nimport {\n  BookSseDto,\n  CollectionSseDto,\n  LibrarySseDto,\n  ReadListSseDto,\n  ReadProgressSseDto,\n  SeriesSseDto,\n} from '@/types/komga-sse'\nimport {RawLocation} from 'vue-router/types/router'\nimport {ReadListDto} from '@/types/komga-readlists'\nimport {Oneshot, SeriesDto} from '@/types/komga-series'\nimport CollectionsExpansionPanels from '@/components/CollectionsExpansionPanels.vue'\nimport OneshotActionsMenu from '@/components/menus/OneshotActionsMenu.vue'\nimport {\n  BookSearch,\n  SearchConditionAgeRating,\n  SearchConditionGenre,\n  SearchConditionLanguage,\n  SearchConditionPublisher,\n  SearchConditionSeriesId,\n  SearchConditionTag,\n  SearchOperatorIs,\n} from '@/types/komga-search'\n\nconst tags = require('language-tags')\n\nexport default Vue.extend({\n  name: 'BrowseOneshot',\n  components: {\n    OneshotActionsMenu,\n    CollectionsExpansionPanels,\n    ReadMore, ToolbarSticky, ItemCard, ReadListsExpansionPanels, VueHorizontal, RtlIcon,\n  },\n  data: () => {\n    return {\n      SearchConditionPublisher,\n      SearchConditionGenre,\n      SearchConditionTag,\n      SearchConditionLanguage,\n      SearchConditionAgeRating,\n      SearchOperatorIs,\n      MediaStatus,\n      ContextOrigin,\n      book: {} as BookDto,\n      series: {} as SeriesDto,\n      context: {} as Context,\n      siblings: [] as BookDto[],\n      siblingPrevious: {} as BookDto,\n      siblingNext: {} as BookDto,\n      contextName: '',\n      collections: [] as CollectionDto[],\n      readLists: [] as ReadListDto[],\n      readMore: false,\n    }\n  },\n  async created() {\n    this.loadSeries(this.seriesId)\n    this.$eventHub.$on(SERIES_CHANGED, this.seriesChanged)\n    this.$eventHub.$on(SERIES_DELETED, this.seriesDeleted)\n    this.$eventHub.$on(BOOK_CHANGED, this.bookChanged)\n    this.$eventHub.$on(BOOK_DELETED, this.bookDeleted)\n    this.$eventHub.$on(READPROGRESS_CHANGED, this.readProgressChanged)\n    this.$eventHub.$on(READPROGRESS_DELETED, this.readProgressChanged)\n    this.$eventHub.$on(LIBRARY_DELETED, this.libraryDeleted)\n    this.$eventHub.$on(READLIST_ADDED, this.readListChanged)\n    this.$eventHub.$on(READLIST_CHANGED, this.readListChanged)\n    this.$eventHub.$on(READLIST_DELETED, this.readListChanged)\n    this.$eventHub.$on(COLLECTION_ADDED, this.collectionChanged)\n    this.$eventHub.$on(COLLECTION_CHANGED, this.collectionChanged)\n    this.$eventHub.$on(COLLECTION_DELETED, this.collectionChanged)\n  },\n  beforeDestroy() {\n    this.$eventHub.$off(SERIES_CHANGED, this.seriesChanged)\n    this.$eventHub.$off(SERIES_DELETED, this.seriesDeleted)\n    this.$eventHub.$off(BOOK_CHANGED, this.bookChanged)\n    this.$eventHub.$off(BOOK_DELETED, this.bookDeleted)\n    this.$eventHub.$off(READPROGRESS_CHANGED, this.readProgressChanged)\n    this.$eventHub.$off(READPROGRESS_DELETED, this.readProgressChanged)\n    this.$eventHub.$off(LIBRARY_DELETED, this.libraryDeleted)\n    this.$eventHub.$off(READLIST_ADDED, this.readListChanged)\n    this.$eventHub.$off(READLIST_CHANGED, this.readListChanged)\n    this.$eventHub.$off(READLIST_DELETED, this.readListChanged)\n    this.$eventHub.$off(COLLECTION_ADDED, this.collectionChanged)\n    this.$eventHub.$off(COLLECTION_CHANGED, this.collectionChanged)\n    this.$eventHub.$off(COLLECTION_DELETED, this.collectionChanged)\n  },\n  props: {\n    seriesId: {\n      type: String,\n      required: true,\n    },\n  },\n  async beforeRouteUpdate(to, from, next) {\n    if (to.params.seriesId !== from.params.seriesId) {\n      this.readMore = false\n      this.loadSeries(to.params.seriesId)\n    }\n\n    next()\n  },\n  computed: {\n    readRouteName(): string {\n      return getBookReadRouteFromMedia(this.book.media)\n    },\n    isAdmin(): boolean {\n      return this.$store.getters.meAdmin\n    },\n    unavailable(): boolean {\n      return this.book.deleted || this.$store.getters.getLibraryById(this.book.libraryId).unavailable\n    },\n    canRead(): boolean {\n      return this.book.media.status === 'READY' && this.$store.getters.mePageStreaming && !this.unavailable\n    },\n    canDownload(): boolean {\n      return this.$store.getters.meFileDownload && !this.unavailable\n    },\n    thumbnailUrl(): string {\n      return seriesThumbnailUrl(this.seriesId)\n    },\n    fileUrl(): string {\n      return bookFileUrl(this.book.id)\n    },\n    format(): BookFormat {\n      return getBookFormatFromMedia(this.book.media)\n    },\n    authorsByRole(): any {\n      return groupAuthorsByRole(this.book.metadata.authors)\n    },\n    isRead(): boolean {\n      return getReadProgress(this.book) === ReadStatus.READ\n    },\n    isUnread(): boolean {\n      return getReadProgress(this.book) === ReadStatus.UNREAD\n    },\n    isInProgress(): boolean {\n      return getReadProgress(this.book) === ReadStatus.IN_PROGRESS\n    },\n    pagesLeft(): number {\n      return getPagesLeft(this.book)\n    },\n    readProgressPercentage(): number {\n      return getReadProgressPercentage(this.book)\n    },\n    readProgressDate(): string | undefined {\n      if (this.book.readProgress)\n        return new Intl.DateTimeFormat(this.$i18n.locale, {\n          dateStyle: 'medium',\n          timeStyle: 'short',\n        } as Intl.DateTimeFormatOptions).format(this.book.readProgress.readDate)\n      return undefined\n    },\n    previousId(): string {\n      return this.siblingPrevious?.id?.toString() || '0'\n    },\n    nextId(): string {\n      return this.siblingNext?.id?.toString() || '0'\n    },\n    mediaComment(): string {\n      return convertErrorCodes(this.book.media.comment)\n    },\n    parentLocation(): RawLocation {\n      if (this.context.origin === ContextOrigin.READLIST)\n        return {name: 'browse-readlist', params: {readListId: this.context.id}}\n      else if (this.context.origin === ContextOrigin.COLLECTION)\n        return {name: 'browse-collection', params: {collectionId: this.context.id}}\n      else\n        return {name: 'browse-libraries', params: {libraryId: this.book.libraryId}}\n    },\n    displayedRoles(): string[] {\n      const allRoles = this.$_.uniq([...authorRoles, ...(this.book.metadata.authors.map(x => x.role))])\n      return allRoles.filter(x => this.authorsByRole[x])\n    },\n    languageDisplay(): string {\n      return tags(this.series.metadata.language)?.language()?.descriptions()[0] || this.series.metadata.language\n    },\n  },\n  methods: {\n    getLibraryName(item: BookDto): string {\n      return this.$store.getters.getLibraryById(item.libraryId).name\n    },\n    libraryDeleted(event: LibrarySseDto) {\n      if (event.libraryId === this.book.libraryId) {\n        this.$router.push({name: 'home'})\n      }\n    },\n    readListChanged(event: ReadListSseDto) {\n      if (event.bookIds.includes(this.book.id) || this.readLists.map(x => x.id).includes(event.readListId)) {\n        this.$komgaBooks.getReadLists(this.book.id)\n          .then(v => this.readLists = v)\n      }\n    },\n    collectionChanged(event: CollectionSseDto) {\n      if (event.seriesIds.includes(this.seriesId) || this.collections.map(x => x.id).includes(event.collectionId)) {\n        this.$komgaSeries.getCollections(this.seriesId)\n          .then(v => this.collections = v)\n      }\n    },\n    seriesChanged(event: SeriesSseDto) {\n      if (event.seriesId === this.seriesId)\n        this.$komgaSeries.getOneSeries(this.seriesId)\n          .then(v => this.series = v)\n    },\n    seriesDeleted(event: SeriesSseDto) {\n      if (event.seriesId === this.seriesId) {\n        this.$router.push({name: 'browse-libraries', params: {libraryId: this.series.libraryId}})\n      }\n    },\n    bookChanged(event: BookSseDto) {\n      if (event.bookId === this.book.id) this.loadBook(this.seriesId)\n    },\n    bookDeleted(event: BookSseDto) {\n      if (event.bookId === this.book.id) {\n        this.$router.push({name: 'browse-libraries', params: {libraryId: this.book.libraryId}})\n      }\n    },\n    readProgressChanged(event: ReadProgressSseDto) {\n      if (event.bookId === this.book.id) this.loadBook(this.seriesId)\n    },\n    async loadSeries(seriesId: string) {\n      this.$komgaSeries.getOneSeries(seriesId)\n        .then(v => this.series = v)\n      this.$komgaSeries.getCollections(seriesId)\n        .then(v => this.collections = v)\n\n      // parse query params to get context and contextId\n      if (this.$route.query.contextId && this.$route.query.context\n        && Object.values(ContextOrigin).includes(this.$route.query.context as ContextOrigin)) {\n        this.context = {\n          origin: this.$route.query.context as ContextOrigin,\n          id: this.$route.query.contextId as string,\n        }\n        this.series.context = this.context\n      }\n\n      await this.loadBook(seriesId)\n    },\n    async loadBook(seriesId: string) {\n      this.book = (await this.$komgaBooks.getBooksList({\n        condition: new SearchConditionSeriesId(new SearchOperatorIs(seriesId)),\n      } as BookSearch)).content[0]\n\n      // parse query params to get context and contextId\n      if (this.$route.query.contextId && this.$route.query.context\n        && Object.values(ContextOrigin).includes(this.$route.query.context as ContextOrigin)) {\n        this.context = {\n          origin: this.$route.query.context as ContextOrigin,\n          id: this.$route.query.contextId as string,\n        }\n        this.book.context = this.context\n        if (this.context.origin === ContextOrigin.READLIST)\n          this.$komgaReadLists.getOneReadList(this.context.id)\n            .then(v => this.contextName = v.name)\n      }\n\n      // Get siblings depending on origin\n      if (this?.context.origin === ContextOrigin.READLIST) {\n        this.$komgaReadLists.getBooks(this.context.id, {unpaged: true} as PageRequest)\n          .then(v => this.siblings = v.content)\n      } else {\n        this.siblings = {} as BookDto[]\n      }\n\n      this.$komgaBooks.getReadLists(this.book.id)\n        .then(v => this.readLists = v)\n\n      if (this.$_.has(this.book, 'metadata.title')) {\n        document.title = `Komga - ${getBookTitleCompact(this.book.metadata.title, this.book.seriesTitle)}`\n      }\n\n      if (this?.context.origin === ContextOrigin.READLIST) {\n        this.$komgaReadLists.getBookSiblingNext(this.context.id, this.book.id)\n          .then(v => this.siblingNext = v)\n          .catch(e => this.siblingNext = {} as BookDto)\n      } else {\n        this.siblingNext = {} as BookDto\n      }\n      if (this?.context.origin === ContextOrigin.READLIST) {\n        this.$komgaReadLists.getBookSiblingPrevious(this.context.id, this.book.id)\n          .then(v => this.siblingPrevious = v)\n          .catch(e => this.siblingPrevious = {} as BookDto)\n      } else {\n        this.siblingPrevious = {} as BookDto\n      }\n    },\n    analyze() {\n      this.$komgaBooks.analyzeBook(this.book)\n    },\n    refreshMetadata() {\n      this.$komgaBooks.refreshMetadata(this.book)\n    },\n    editBook() {\n      this.$store.dispatch('dialogUpdateOneshots', {series: this.series, book: this.book} as Oneshot)\n    },\n    removeFromReadList(readListId: string) {\n      const rl = this.readLists.find(x => x.id == readListId)\n      const modified = Object.assign({}, {bookIds: rl?.bookIds.filter(x => x != this.book.id)})\n      if (modified!.bookIds!.length == 0)\n        this.$komgaReadLists.deleteReadList(rl!.id)\n      else\n        this.$komgaReadLists.patchReadList(rl!.id, modified)\n    },\n    removeFromCollection(collectionId: string) {\n      const col = this.collections.find(x => x.id == collectionId)\n      const modified = Object.assign({}, {seriesIds: col?.seriesIds.filter(x => x != this.seriesId)})\n      if (modified!.seriesIds!.length == 0)\n        this.$komgaCollections.deleteCollection(col!.id)\n      else\n        this.$komgaCollections.patchCollection(col!.id, modified)\n    },\n  },\n})\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseOneshot.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BrowseOneshot.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseOneshot.vue?vue&type=template&id=01d8f4c4&scoped=true&\"\nimport script from \"./BrowseOneshot.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseOneshot.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01d8f4c4\",\n  null\n  \n)\n\nexport default component.exports"],"names":["model","value","callback","collectionPanel","expression","_vm","collections","_c","key","on","scrollChanged","collectionsLoaders","scopedSlots","staticClass","attrs","params","collectionId","fn","staticRenderFns","render","Vue","extend","name","components","HorizontalScroller","ItemBrowser","props","type","Array","required","data","undefined","watch","handler","val","this","map","coll","PageLoader","pageable","$komgaCollections","getSeries","id","x","context","origin","ContextOrigin","COLLECTION","immediate","hasLoadedAny","loadNext","methods","loader","percent","component","book","_e","isAdmin","editBook","_v","_s","siblingPrevious","seriesId","bookId","siblings","$_","isEmpty","siblingNext","nextId","contextId","$tc","date","readProgressDate","style","$vuetify","breakpoint","libraryId","library","getLibraryName","metadata","series","query","ageRating","language","media","status","UNKNOWN","dateStyle","format","releaseDate","incognito","canDownload","publisher","proxy","sortBy","authorsByRole","role","tags","_u","timeStyle","require","OneshotActionsMenu","CollectionsExpansionPanels","ReadMore","ToolbarSticky","ItemCard","ReadListsExpansionPanels","VueHorizontal","RtlIcon","SearchConditionPublisher","SearchConditionGenre","SearchConditionTag","SearchConditionLanguage","SearchConditionAgeRating","SearchOperatorIs","MediaStatus","contextName","readLists","readMore","created","loadSeries","$eventHub","$on","SERIES_CHANGED","seriesChanged","SERIES_DELETED","seriesDeleted","BOOK_CHANGED","bookChanged","BOOK_DELETED","bookDeleted","READPROGRESS_CHANGED","readProgressChanged","READPROGRESS_DELETED","LIBRARY_DELETED","libraryDeleted","READLIST_ADDED","readListChanged","READLIST_CHANGED","READLIST_DELETED","COLLECTION_ADDED","collectionChanged","COLLECTION_CHANGED","COLLECTION_DELETED","beforeDestroy","$off","String","beforeRouteUpdate","to","from","next","computed","readRouteName","getBookReadRouteFromMedia","$store","getters","meAdmin","unavailable","deleted","getLibraryById","canRead","mePageStreaming","meFileDownload","thumbnailUrl","seriesThumbnailUrl","fileUrl","bookFileUrl","getBookFormatFromMedia","groupAuthorsByRole","authors","isRead","getReadProgress","ReadStatus","READ","isUnread","UNREAD","isInProgress","IN_PROGRESS","pagesLeft","getPagesLeft","readProgressPercentage","getReadProgressPercentage","readProgress","Intl","DateTimeFormat","$i18n","locale","readDate","previousId","_this$siblingPrevious","toString","_this$siblingNext","mediaComment","convertErrorCodes","comment","parentLocation","READLIST","readListId","displayedRoles","allRoles","uniq","authorRoles","filter","languageDisplay","_tags","descriptions","item","event","$router","push","bookIds","includes","$komgaBooks","getReadLists","then","v","seriesIds","$komgaSeries","getCollections","getOneSeries","loadBook","$route","Object","values","getBooksList","condition","SearchConditionSeriesId","content","$komgaReadLists","getOneReadList","getBooks","unpaged","has","document","title","getBookTitleCompact","seriesTitle","getBookSiblingNext","catch","e","getBookSiblingPrevious","analyze","analyzeBook","refreshMetadata","dispatch","removeFromReadList","rl","find","modified","assign","length","deleteReadList","patchReadList","removeFromCollection","col","deleteCollection","patchCollection"],"sourceRoot":""}